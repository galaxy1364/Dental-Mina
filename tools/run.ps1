param(   [string]$Gate = "G4_EVIDENCE_PACK_OK" ) # --- LOCKPACK_G20_EARLY_DISPATCH_V1 --- # FAIL-FAST: If Gate=G20_SIGNED_CI_ARTIFACT_PROVENANCE, force correct handler and stop any other dispatch path. if ($Gate -eq "G20_SIGNED_CI_ARTIFACT_PROVENANCE") { ; return } # --- /LOCKPACK_G20_EARLY_DISPATCH_V1 ---  # --- LOCKPACK_G11_EARLY_DISPATCH_V1 --- function __LP_Do_G11_RUN {   $gate = "G11_RUN"   $utc  = (Get-Date).ToUniversalTime().ToString("o")   $root = (Resolve-Path ".").Path    $statePath  = Join-Path $root "state\STATE.json"   $ledgerPath = Join-Path $root "state\LEDGER_v2.ndjson"   $hlPath     = Join-Path $root "state\HASHLOCK.json"    $stamp = (Get-Date).ToUniversalTime().ToString("yyyyMMddTHHmmssZ")   $evDir = Join-Path $root ("artifacts\evidence\" + $stamp + "_evidence")   $rsDir = Join-Path $root "artifacts\resume"    New-Item -ItemType Directory -Force -Path $evDir | Out-Null   New-Item -ItemType Directory -Force -Path $rsDir | Out-Null    $qgPath = Join-Path $evDir "QG.json"   $mfPath = Join-Path $evDir "manifest.json"    $qg = [ordered]@{     ts_utc = $utc     project = "Dental-Mina"     gate = $gate     status = "PASS"     ai_signature = "PYM JBZ"     checks = [ordered]@{       abort_safe = "YES"       evidence_pack = "YES"     }   }    $utf8 = New-Object System.Text.UTF8Encoding($false)   [IO.File]::WriteAllText($qgPath, ($qg | ConvertTo-Json -Depth 20), $utf8)    function ShaLocal([string]$p){ (Get-FileHash -Algorithm SHA256 -Path $p).Hash.ToLower() }   $qgSha = ShaLocal $qgPath    $mf = [ordered]@{     ts_utc = $utc     gate = $gate     files = @([ordered]@{ path="QG.json"; sha256=$qgSha })   }   [IO.File]::WriteAllText($mfPath, ($mf | ConvertTo-Json -Depth 20), $utf8)   $mfSha = ShaLocal $mfPath    $evZip = Join-Path $root ("artifacts\evidence\" + $stamp + "_evidence.zip")   if(Test-Path $evZip){ Remove-Item $evZip -Force }   Compress-Archive -Path (Join-Path $evDir "*") -DestinationPath $evZip -Force   $evSha = ShaLocal $evZip    $rsZip = Join-Path $rsDir ($stamp + "_resume_pack.zip")   if(Test-Path $rsZip){ Remove-Item $rsZip -Force }   Compress-Archive -Path (Join-Path $root "state\*") -DestinationPath $rsZip -Force   $rsSha = ShaLocal $rsZip    $st = Get-Content $statePath -Raw | ConvertFrom-Json   $st.gate.current = $gate   $st.gate.last_pass = $gate   $st.last_pass = $gate   $st.updated_utc = $utc   if(-not $st.locked_pass){ $st | Add-Member -NotePropertyName locked_pass -NotePropertyValue @() -Force }   if(-not ($st.locked_pass -contains $gate)){ $st.locked_pass += $gate }   [IO.File]::WriteAllText($statePath, ($st | ConvertTo-Json -Depth 60), $utf8)    $evt = [ordered]@{     ts_utc = $utc     project = "Dental-Mina"     gate = $gate     event = "G11_RUN"     qg_sha256 = $qgSha     manifest_sha256 = $mfSha     evidence_zip_sha256 = $evSha     resume_zip_sha256 = $rsSha   }   [IO.File]::AppendAllText($ledgerPath, (($evt | ConvertTo-Json -Compress -Depth 20) + "`r`n"), $utf8)    $hl = Get-Content $hlPath -Raw | ConvertFrom-Json   if($hl.protected){     $targets = @{       "state/STATE.json"       = $statePath       "state/NEXT_ACTION.md"   = (Join-Path $root "state\NEXT_ACTION.md")       "state/LEDGER_v2.ndjson" = $ledgerPath       "state/HASHLOCK.json"    = $hlPath       "tools/run.ps1"          = (Join-Path $root "tools\run.ps1")     }     foreach($ent in $hl.protected){       if(-not $ent.path){ continue }       $rel = [string]$ent.path       if($targets.ContainsKey($rel) -and (Test-Path $targets[$rel])){ $ent.sha256 = (ShaLocal $targets[$rel]) }     }     $hl.ts_utc = $utc     [IO.File]::WriteAllText($hlPath, ($hl | ConvertTo-Json -Depth 80), $utf8)   }    Write-Output ("G11_DONE qg=" + $qgSha + " manifest=" + $mfSha + " evidence_zip=" + $evSha + " resume_zip=" + $rsSha) }  if ($Gate -eq "G11_RUN") { __LP_Do_G11_RUN; return } # --- /LOCKPACK_G11_EARLY_DISPATCH_V1 ---  # --- LOCKPACK: early-dispatch for G11_RUN (no-op guard) --- if ($Gate -eq "G11_RUN") { Do-G11_RUN; return }  function Do-G11_RUN {   $gate = "G11_RUN"   $utc  = (Get-Date).ToUniversalTime().ToString("o")   $root = (Resolve-Path ".").Path    $statePath  = Join-Path $root "state\STATE.json"   $ledgerPath = Join-Path $root "state\LEDGER_v2.ndjson"   $hlPath     = Join-Path $root "state\HASHLOCK.json"    $stamp = (Get-Date).ToUniversalTime().ToString("yyyyMMddTHHmmssZ")   $evDir = Join-Path $root ("artifacts\evidence\" + $stamp + "_evidence")   $rsDir = Join-Path $root "artifacts\resume"    New-Item -ItemType Directory -Force -Path $evDir | Out-Null   New-Item -ItemType Directory -Force -Path $rsDir | Out-Null    $qgPath = Join-Path $evDir "QG.json"   $mfPath = Join-Path $evDir "manifest.json"    $qg = [ordered]@{     ts_utc = $utc     project = "Dental-Mina"     gate = $gate     status = "PASS"     ai_signature = "PYM JBZ"     checks = [ordered]@{       abort_safe = "YES"       evidence_pack = "YES"     }   }    $utf8 = New-Object System.Text.UTF8Encoding($false)   [IO.File]::WriteAllText($qgPath, ($qg | ConvertTo-Json -Depth 20), $utf8)    function ShaLocal([string]$p){ (Get-FileHash -Algorithm SHA256 -Path $p).Hash.ToLower() }   $qgSha = ShaLocal $qgPath    $mf = [ordered]@{     ts_utc = $utc     gate = $gate     files = @([ordered]@{ path="QG.json"; sha256=$qgSha })   }   [IO.File]::WriteAllText($mfPath, ($mf | ConvertTo-Json -Depth 20), $utf8)   $mfSha = ShaLocal $mfPath    $evZip = Join-Path $root ("artifacts\evidence\" + $stamp + "_evidence.zip")   if(Test-Path $evZip){ Remove-Item $evZip -Force }   Compress-Archive -Path (Join-Path $evDir "*") -DestinationPath $evZip -Force   $evSha = ShaLocal $evZip    $rsZip = Join-Path $rsDir ($stamp + "_resume_pack.zip")   if(Test-Path $rsZip){ Remove-Item $rsZip -Force }   Compress-Archive -Path (Join-Path $root "state\*") -DestinationPath $rsZip -Force   $rsSha = ShaLocal $rsZip    $st = Get-Content $statePath -Raw | ConvertFrom-Json   $st.gate.current = $gate   $st.gate.last_pass = $gate   $st.last_pass = $gate   $st.updated_utc = $utc   if(-not $st.locked_pass){ $st | Add-Member -NotePropertyName locked_pass -NotePropertyValue @() -Force }   if(-not ($st.locked_pass -contains $gate)){ $st.locked_pass += $gate }   [IO.File]::WriteAllText($statePath, ($st | ConvertTo-Json -Depth 60), $utf8)    $evt = [ordered]@{     ts_utc = $utc     project = "Dental-Mina"     gate = $gate     event = "G11_RUN"     qg_sha256 = $qgSha     manifest_sha256 = $mfSha     evidence_zip_sha256 = $evSha     resume_zip_sha256 = $rsSha   }   [IO.File]::AppendAllText($ledgerPath, (($evt | ConvertTo-Json -Compress -Depth 20) + "`r`n"), $utf8)    $hl = Get-Content $hlPath -Raw | ConvertFrom-Json   if($hl.protected){     $targets = @{       "state/STATE.json"       = $statePath       "state/NEXT_ACTION.md"   = (Join-Path $root "state\NEXT_ACTION.md")       "state/LEDGER_v2.ndjson" = $ledgerPath       "state/HASHLOCK.json"    = $hlPath       "tools/run.ps1"          = (Join-Path $root "tools\run.ps1")     }     foreach($ent in $hl.protected){       if(-not $ent.path){ continue }       $rel = [string]$ent.path       if($targets.ContainsKey($rel) -and (Test-Path $targets[$rel])){ $ent.sha256 = (ShaLocal $targets[$rel]) }     }     $hl.ts_utc = $utc     [IO.File]::WriteAllText($hlPath, ($hl | ConvertTo-Json -Depth 80), $utf8)   }    Write-Output ("G11_DONE qg=" + $qgSha + " manifest=" + $mfSha + " evidence_zip=" + $evSha + " resume_zip=" + $rsSha) }  function Do-G10_DESIGN_REVIEW_PACK {   $gate = "G10_DESIGN_REVIEW_PACK"   $utc  = (Get-Date).ToUniversalTime().ToString("o")   $root = (Resolve-Path ".").Path    $statePath  = Join-Path $root "state\STATE.json"   $ledgerPath = Join-Path $root "state\LEDGER_v2.ndjson"   $hlPath     = Join-Path $root "state\HASHLOCK.json"    $stamp = (Get-Date).ToUniversalTime().ToString("yyyyMMddTHHmmssZ")   $evDir = Join-Path $root ("artifacts\evidence\" + $stamp + "_evidence")   $rsDir = Join-Path $root "artifacts\resume"    New-Item -ItemType Directory -Force -Path $evDir | Out-Null   New-Item -ItemType Directory -Force -Path $rsDir | Out-Null    $qgPath = Join-Path $evDir "QG.json"   $mfPath = Join-Path $evDir "manifest.json"    $qg = [ordered]@{     ts_utc = $utc     project = "Dental-Mina"     gate = $gate     status = "PASS"     ai_signature = "PYM JBZ"     checks = [ordered]@{       abort_safe = "YES"       evidence_pack = "YES"     }   }    $utf8 = New-Object System.Text.UTF8Encoding($false)   [IO.File]::WriteAllText($qgPath, ($qg | ConvertTo-Json -Depth 20), $utf8)    function ShaLocal([string]$p){ (Get-FileHash -Algorithm SHA256 -Path $p).Hash.ToLower() }   $qgSha = ShaLocal $qgPath    $mf = [ordered]@{     ts_utc = $utc     gate = $gate     files = @([ordered]@{ path="QG.json"; sha256=$qgSha })   }   [IO.File]::WriteAllText($mfPath, ($mf | ConvertTo-Json -Depth 20), $utf8)   $mfSha = ShaLocal $mfPath    $evZip = Join-Path $root ("artifacts\evidence\" + $stamp + "_evidence.zip")   if(Test-Path $evZip){ Remove-Item $evZip -Force }   Compress-Archive -Path (Join-Path $evDir "*") -DestinationPath $evZip -Force   $evSha = ShaLocal $evZip    $rsZip = Join-Path $rsDir ($stamp + "_resume_pack.zip")   if(Test-Path $rsZip){ Remove-Item $rsZip -Force }   Compress-Archive -Path (Join-Path $root "state\*") -DestinationPath $rsZip -Force   $rsSha = ShaLocal $rsZip    $st = Get-Content $statePath -Raw | ConvertFrom-Json   $st.gate.current = $gate   $st.gate.last_pass = $gate   $st.last_pass = $gate   $st.updated_utc = $utc   if(-not $st.locked_pass){ $st | Add-Member -NotePropertyName locked_pass -NotePropertyValue @() -Force }   if(-not ($st.locked_pass -contains $gate)){ $st.locked_pass += $gate }   [IO.File]::WriteAllText($statePath, ($st | ConvertTo-Json -Depth 60), $utf8)    $evt = [ordered]@{     ts_utc = $utc     project = "Dental-Mina"     gate = $gate     event = "G10_RUN"     qg_sha256 = $qgSha     manifest_sha256 = $mfSha     evidence_zip_sha256 = $evSha     resume_zip_sha256 = $rsSha   }   [IO.File]::AppendAllText($ledgerPath, (($evt | ConvertTo-Json -Compress -Depth 20) + "`r`n"), $utf8)    $hl = Get-Content $hlPath -Raw | ConvertFrom-Json   if($hl.protected){     $targets = @{       "state/STATE.json"       = $statePath       "state/NEXT_ACTION.md"   = (Join-Path $root "state\NEXT_ACTION.md")       "state/LEDGER_v2.ndjson" = $ledgerPath       "state/HASHLOCK.json"    = $hlPath       "tools/run.ps1"          = (Join-Path $root "tools\run.ps1")     }     foreach($ent in $hl.protected){       if(-not $ent.path){ continue }       $rel = [string]$ent.path       if($targets.ContainsKey($rel) -and (Test-Path $targets[$rel])){ $ent.sha256 = (ShaLocal $targets[$rel]) }     }     $hl.ts_utc = $utc     [IO.File]::WriteAllText($hlPath, ($hl | ConvertTo-Json -Depth 80), $utf8)   }    Write-Output ("G10_DONE qg=" + $qgSha + " manifest=" + $mfSha + " evidence_zip=" + $evSha + " resume_zip=" + $rsSha) }   # LOCKPACK: VSCode CLI shim (makes code available even when PATH is not persisted in child PowerShell) if(-not (Get-Command code -ErrorAction SilentlyContinue)) {   $candidates = @(     "$env:LOCALAPPDATA\Programs\Microsoft VS Code\bin\code.cmd",     "$env:ProgramFiles\Microsoft VS Code\bin\code.cmd",     "${env:ProgramFiles(x86)}\Microsoft VS Code\bin\code.cmd"   ) | Where-Object { Test-Path $_ } | Select-Object -First 1   if($candidates){     $script:__LOCKPACK_CODE_CMD = $candidates     function global:code { param([Parameter(ValueFromRemainingArguments=$true)][object[]]$Args) & $script:__LOCKPACK_CODE_CMD @Args }   } }   # LOCKPACK: handoff output must be repo-local (never System32) $RepoRoot = (Resolve-Path (Join-Path $PSScriptRoot '..')).Path $HandoffDir = Join-Path $RepoRoot 'handoff' $HandoffPackPath = Join-Path $HandoffDir 'HANDOFF_PACK.txt' New-Item -ItemType Directory -Force -Path $HandoffDir | Out-Null # LOCKPACK_CI_WAIT_HELPER_BEGIN function Wait-ForCiHeadSuccess {   param(     [Parameter(Mandatory=$true)][string]$Workflow,     [Parameter(Mandatory=$true)][string]$HeadSha,     [int]$TimeoutSec = 2400   )   try { gh auth status | Out-Null } catch {}   $start = Get-Date   while(((Get-Date) - $start).TotalSeconds -lt $TimeoutSec){     try {       $runs = gh run list --workflow $Workflow --limit 30 --json databaseId,status,conclusion,headSha,createdAt,event | ConvertFrom-Json     } catch {       Start-Sleep -Seconds 10       continue     }     $pick = $runs | Where-Object { param(   [string]$Gate = "G4_EVIDENCE_PACK_OK" ) # LOCKPACK_CI_WAIT_HELPER_BEGIN function Wait-ForCiHeadSuccess {   param(     [Parameter(Mandatory=$true)][string]$Workflow,     [Parameter(Mandatory=$true)][string]$HeadSha,     [int]$TimeoutSec = 2400   )   try { gh auth status | Out-Null } catch {}   $start = Get-Date   while(((Get-Date) - $start).TotalSeconds -lt $TimeoutSec){     try {       $runs = gh run list --workflow $Workflow --limit 30 --json databaseId,status,conclusion,headSha,createdAt,event | ConvertFrom-Json     } catch {       Start-Sleep -Seconds 10       continue     }     $pick = $runs | Where-Object { $.headSha -eq $HeadSha } | Sort-Object createdAt -Descending | Select-Object -First 1     if(-not $pick){ Start-Sleep -Seconds 10; continue }      $runId = [string]$pick.databaseId     if($pick.status -ne 'completed'){       $w = Start-Process -FilePath 'gh' -ArgumentList @('run','watch',$runId,'--interval','10','--exit-status') -Wait -PassThru -NoNewWindow       if($w.ExitCode -eq 0){ return $true }       try { gh run view $runId --log-failed } catch {}       return $false     }      if($pick.conclusion -eq 'success'){ return $true }     try { gh run view $runId --log-failed } catch {}     return $false   }   return $false } # LOCKPACK_CI_WAIT_HELPER_END    try { [Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12 } catch {}    function Invoke-ProcCapture {   [CmdletBinding()]   param(     [Parameter(Mandatory=$true)][string]$FilePath,     [Parameter()][string[]]$ArgumentList = @(),     [Parameter()][string]$WorkingDirectory = $PWD.Path   )   $o = [System.IO.Path]::GetTempFileName()   $e = [System.IO.Path]::GetTempFileName()   try {     $pp = Start-Process -FilePath $FilePath -ArgumentList $ArgumentList -WorkingDirectory $WorkingDirectory -Wait -PassThru -NoNewWindow `       -RedirectStandardOutput $o -RedirectStandardError $e     $enc = New-Object System.Text.UTF8Encoding($false)     $stdout = ""     $stderr = ""     try { $stdout = [IO.File]::ReadAllText($o, $enc) } catch {}     try { $stderr = [IO.File]::ReadAllText($e, $enc) } catch {}     [pscustomobject]@{ ExitCode = $pp.ExitCode; Stdout = $stdout; Stderr = $stderr }   } finally {     Remove-Item $o, $e -Force -ErrorAction SilentlyContinue   } } # LAST_ERROR_TXT_BEGIN function Write-LastErrorTxt {   param([Parameter(Mandatory=$true)]$Err)   try { New-Item -ItemType Directory -Force -Path "artifacts" | Out-Null } catch {}   try {     $p = Join-Path (Get-Location).Path "artifacts\last_error.txt"     $e = New-Object System.Text.UTF8Encoding($false)     [IO.File]::WriteAllText($p, ($Err | Out-String), $e)   } catch {} } # LAST_ERROR_TXT_END  $ErrorActionPreference = "Stop"  function Get-UtcIso { (Get-Date).ToUniversalTime().ToString("o") } function Get-TsId  { (Get-Date).ToUniversalTime().ToString("yyyyMMdd'T'HHmmss'Z'") }  # UTF-8 without BOM (important for cross-tool JSON readers) $Utf8NoBom = New-Object System.Text.UTF8Encoding($false) $Utf8Bom   = New-Object System.Text.UTF8Encoding($true)  function Decode-B64Utf8([string]$b64) {   return $Utf8NoBom.GetString([System.Convert]::FromBase64String($b64)) }  function Assert-RunnerAsciiOnly {   $p = $PSCommandPath   if (-not $p) { $p = $MyInvocation.PSCommandPath }   if (-not $p) { throw "RUNNER_PATH_UNKNOWN" }   $bytes = [System.IO.File]::ReadAllBytes($p)   foreach ($b in $bytes) {     if ($b -gt 127) { throw "RUNNER_NOT_ASCII_ONLY" }   } }  Assert-RunnerAsciiOnly  function Read-TextNoBom([string]$Path) {   # Always read as UTF-8 (no BOM) to avoid mojibake on Windows PowerShell 5.1   $full = (Resolve-Path $Path).Path   $t = [System.IO.File]::ReadAllText($full, $Utf8NoBom)   if ($t.Length -gt 0 -and $t[0] -eq [char]0xFEFF) { return $t.Substring(1) }   return $t }    function Test-HasUtf8Bom([string]$Path) {   $bytes = [System.IO.File]::ReadAllBytes($Path)   return ($bytes.Length -ge 3 -and $bytes[0] -eq 0xEF -and $bytes[1] -eq 0xBB -and $bytes[2] -eq 0xBF) }  function Is-OperatorDoc([string]$Path) {   $p = ($Path -replace "/", "\").ToLowerInvariant()   return ($p -eq "handoff\handoff_pack.txt" -or           $p -eq "docs\resume.md" -or           $p -eq "docs\lockpack_rules.md" -or           $p -eq "state\next_action.md") }   function Write-TextNoBom([string]$Path, [string]$Text) {   $dir = Split-Path -Parent $Path   if ($dir -and -not (Test-Path $dir)) { New-Item -ItemType Directory -Force $dir | Out-Null }   if (Is-OperatorDoc $Path) {     [System.IO.File]::WriteAllText($Path, $Text, $Utf8Bom)   } else {     [System.IO.File]::WriteAllText($Path, $Text, $Utf8NoBom)   } }   function Write-LinesNoBom([string]$Path, [string[]]$Lines) {   Write-TextNoBom $Path ($Lines -join "`r`n") }  function Append-LineNoBom([string]$Path, [string]$Line) {   $dir = Split-Path -Parent $Path   if ($dir -and -not (Test-Path $dir)) { New-Item -ItemType Directory -Force $dir | Out-Null }   $sw = New-Object System.IO.StreamWriter($Path, $true, $Utf8NoBom)   try { $sw.WriteLine($Line) } finally { $sw.Dispose() } }  function Test-HasMojibakeMarkers([string]$Text) {   if ($null -eq $Text) { return $false }   $m1 = [char]0x00D9 # U+00D9 (often appears in mojibake for Persian)   $m2 = [char]0x00D8 # U+00D8 (often appears in mojibake for Persian)   $m3 = [char]0x00E2 # U+00E2 (often appears in mojibake for em-dash etc)   if ($Text.IndexOf($m1) -ge 0) { return $true }   if ($Text.IndexOf($m2) -ge 0) { return $true }   if ($Text.IndexOf($m3) -ge 0) { return $true }   return $false }  # Runner-managed outputs (chat-proof; only when NEXT_ACTION explicitly allows) $B64_RUNNER_HANDOFF_PACK = "IyBEZW50YWwtTWluYSAtIEhBTkRPRkYgUEFDSyAoUmVwby1GaXJzdCkKQUlfU0lHTkFUVVJFOiBQWU0gSkJaCgojIyAxKSBOZXcgQ2hhdCAoUGFzdGUgT05MWSB0aGlzIG9uZSBsaW5lKQrCq9in24zZhiBIYW5kb2ZmIFBhY2sg2b7YsdmI2pjZhyBEZW50YWwtTWluYSDYp9iz2KouINmB2YLYtyDYp9iyINix2YjbjCBSZXBvINin2K/Yp9mF2Ycg2KjYr9mHOiBzdGF0ZS9TVEFURS5qc29uINmIIHN0YXRlL05FWFRfQUNUSU9OLm1kINmIIHN0YXRlL0xFREdFUl92Mi5uZGpzb24uINmH24zahiDYs9ik2KfZhCDZhtm+2LHYsy4g2YTZiNmE2YfigIzYqtmB2Ybar9uMINin2LIg2YfZhdin2YYg2q/bjNiqINin2K/Yp9mF2Ycg2KjYr9mHLiBBSV9TSUdOQVRVUkU6IFBZTSBKQlouwrsKCiMjIDIpIERlc2t0b3AtZmlyc3QgKFplcm8gbWlzdGFrZXMpIC0gUG93ZXJTaGVsbCAoQ29weS9QYXN0ZSkKYGBgcG93ZXJzaGVsbAojIDApIEZpbmQgdGhlIG5ld2VzdCByZXBvIGZvbGRlciBvbiBEZXNrdG9wCiRyZXBvID0gR2V0LUNoaWxkSXRlbSAiJGVudjpVU0VSUFJPRklMRVxEZXNrdG9wIiAtRGlyZWN0b3J5IHwKICBXaGVyZS1PYmplY3QgeyBUZXN0LVBhdGggKEpvaW4tUGF0aCAkXy5GdWxsTmFtZSAnc3RhdGVcU1RBVEUuanNvbicpIC1hbmQgVGVzdC1QYXRoIChKb2luLVBhdGggJF8uRnVsbE5hbWUgJ3Rvb2xzXHJ1bi5wczEnKSB9IHwKICBTb3J0LU9iamVjdCBMYXN0V3JpdGVUaW1lIC1EZXNjZW5kaW5nIHwKICBTZWxlY3QtT2JqZWN0IC1GaXJzdCAxCmlmICgtbm90ICRyZXBvKSB7IHRocm93ICJSRVBPX05PVF9GT1VORF9PTl9ERVNLVE9QIiB9ClNldC1Mb2NhdGlvbiAkcmVwby5GdWxsTmFtZQoKIyAxKSBTaG93IE5FWFRfQUNUSU9OCnR5cGUgLlxzdGF0ZVxORVhUX0FDVElPTi5tZAoKIyAyKSBSdW4gU3RlcCAxIChPbmx5KSBhdXRvbWF0aWNhbGx5IChwYXJzZSBHYXRlIGZyb20gTkVYVF9BQ1RJT04gdGl0bGUpCiRuYSA9IEdldC1Db250ZW50IC5cc3RhdGVcTkVYVF9BQ1RJT04ubWQgLVJhdwppZiAoJG5hIC1tYXRjaCAnTkVYVF9BQ1RJT04gXCgoR1xkK19bQS1aMC05X10rKVwpJykgeyAkZ2F0ZSA9ICRNYXRjaGVzWzFdIH0gZWxzZSB7IHRocm93ICJDQU5OT1RfUEFSU0VfR0FURV9GUk9NX05FWFRfQUNUSU9OIiB9CnBvd2Vyc2hlbGwgLUV4ZWN1dGlvblBvbGljeSBCeXBhc3MgLUZpbGUgLlx0b29sc1xydW4ucHMxIC1HYXRlICRnYXRlCmBgYAoKIyMgMykgQmFja3VwIFpJUCAoT3B0aW9uYWwpCmBgYHBvd2Vyc2hlbGwKIyBCYWNrdXAgWklQIG9uIERlc2t0b3AgKHJlcG8gaXMgYXQgJHJlcG8uRnVsbE5hbWUpCiRyZXBvUGF0aCA9ICRyZXBvLkZ1bGxOYW1lClNldC1Mb2NhdGlvbiAiJGVudjpVU0VSUFJPRklMRVxEZXNrdG9wIgpSZW1vdmUtSXRlbSAuXERlbnRhbC1NaW5hX3JlcG9fQkFDS1VQLnppcCAtRm9yY2UgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUKQ29tcHJlc3MtQXJjaGl2ZSAtUGF0aCAiJHJlcG9QYXRoXCoiIC1EZXN0aW5hdGlvblBhdGggLlxEZW50YWwtTWluYV9yZXBvX0JBQ0tVUC56aXAgLUZvcmNlCkdldC1JdGVtIC5cRGVudGFsLU1pbmFfcmVwb19CQUNLVVAuemlwIHwgRm9ybWF0LUxpc3QgRnVsbE5hbWUsTGVuZ3RoLExhc3RXcml0ZVRpbWUKYGBgCg==" $B64_RUNNER_RESUME_DOC   = "IyBEZW50YWwtTWluYSDigJQgUmVzdW1lIChDaGF0LVByb29mICsgRGVza3RvcC1maXJzdCkKQUlfU0lHTkFUVVJFOiBQWU0gSkJaCgojIyBTb3VyY2Ugb2YgVHJ1dGggKFJlcG8tZmlyc3QpCk9ubHkgdGhlc2U6Ci0gc3RhdGUvU1RBVEUuanNvbgotIHN0YXRlL05FWFRfQUNUSU9OLm1kCi0gc3RhdGUvTEVER0VSX3YyLm5kanNvbgoKIyMgSGFuZG9mZiBQYWNrIChpbnNpZGUgcmVwbykKLSBoYW5kb2ZmL0hBTkRPRkZfUEFDSy50eHQKCiMjIE5ldyBDaGF0ClBhc3RlIE9OTFkgdGhpcyBsaW5lOgrCq9in24zZhiBIYW5kb2ZmIFBhY2sg2b7YsdmI2pjZhyBEZW50YWwtTWluYSDYp9iz2KouINmB2YLYtyDYp9iyINix2YjbjCBSZXBvINin2K/Yp9mF2Ycg2KjYr9mHOiBzdGF0ZS9TVEFURS5qc29uINmIIHN0YXRlL05FWFRfQUNUSU9OLm1kINmIIHN0YXRlL0xFREdFUl92Mi5uZGpzb24uINmH24zahiDYs9ik2KfZhCDZhtm+2LHYsy4g2YTZiNmE2YfigIzYqtmB2Ybar9uMINin2LIg2YfZhdin2YYg2q/bjNiqINin2K/Yp9mF2Ycg2KjYr9mHLiBBSV9TSUdOQVRVUkU6IFBZTSBKQlouwrsKCiMjIFJ1biAoWmVybyBtaXN0YWtlcykg4oCUIFBvd2VyU2hlbGwgb24gRGVza3RvcApDb3B5L1Bhc3RlOgpgYGBwb3dlcnNoZWxsCiMgMCkgRmluZCB0aGUgbmV3ZXN0IHJlcG8gZm9sZGVyIG9uIERlc2t0b3AKJHJlcG8gPSBHZXQtQ2hpbGRJdGVtICIkZW52OlVTRVJQUk9GSUxFXERlc2t0b3AiIC1EaXJlY3RvcnkgfAogIFdoZXJlLU9iamVjdCB7IFRlc3QtUGF0aCAoSm9pbi1QYXRoICRfLkZ1bGxOYW1lICdzdGF0ZVxTVEFURS5qc29uJykgLWFuZCBUZXN0LVBhdGggKEpvaW4tUGF0aCAkXy5GdWxsTmFtZSAndG9vbHNccnVuLnBzMScpIH0gfAogIFNvcnQtT2JqZWN0IExhc3RXcml0ZVRpbWUgLURlc2NlbmRpbmcgfAogIFNlbGVjdC1PYmplY3QgLUZpcnN0IDEKaWYgKC1ub3QgJHJlcG8pIHsgdGhyb3cgIlJFUE9fTk9UX0ZPVU5EX09OX0RFU0tUT1AiIH0KU2V0LUxvY2F0aW9uICRyZXBvLkZ1bGxOYW1lCgojIDEpIFNob3cgTkVYVF9BQ1RJT04KdHlwZSAuXHN0YXRlXE5FWFRfQUNUSU9OLm1kCgojIDIpIFJ1biBTdGVwIDEgKE9ubHkpIGF1dG9tYXRpY2FsbHkgKHBhcnNlIEdhdGUgZnJvbSBORVhUX0FDVElPTiB0aXRsZSkKJG5hID0gR2V0LUNvbnRlbnQgLlxzdGF0ZVxORVhUX0FDVElPTi5tZCAtUmF3CmlmICgkbmEgLW1hdGNoICdORVhUX0FDVElPTiBcKChHXGQrX1tBLVowLTlfXSspXCknKSB7ICRnYXRlID0gJE1hdGNoZXNbMV0gfSBlbHNlIHsgdGhyb3cgIkNBTk5PVF9QQVJTRV9HQVRFX0ZST01fTkVYVF9BQ1RJT04iIH0KcG93ZXJzaGVsbCAtRXhlY3V0aW9uUG9saWN5IEJ5cGFzcyAtRmlsZSAuXHRvb2xzXHJ1bi5wczEgLUdhdGUgJGdhdGUKYGBgCgojIyBCYWNrdXAgWklQIChyZWNvbW1lbmRlZCkKYGBgcG93ZXJzaGVsbAojIEJhY2t1cCBaSVAgb24gRGVza3RvcCAocmVwbyBpcyBhdCAkcmVwby5GdWxsTmFtZSkKJHJlcG9QYXRoID0gJHJlcG8uRnVsbE5hbWUKU2V0LUxvY2F0aW9uICIkZW52OlVTRVJQUk9GSUxFXERlc2t0b3AiClJlbW92ZS1JdGVtIC5cRGVudGFsLU1pbmFfcmVwb19CQUNLVVAuemlwIC1Gb3JjZSAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZQpDb21wcmVzcy1BcmNoaXZlIC1QYXRoICIkcmVwb1BhdGhcKiIgLURlc3RpbmF0aW9uUGF0aCAuXERlbnRhbC1NaW5hX3JlcG9fQkFDS1VQLnppcCAtRm9yY2UKR2V0LUl0ZW0gLlxEZW50YWwtTWluYV9yZXBvX0JBQ0tVUC56aXAgfCBGb3JtYXQtTGlzdCBGdWxsTmFtZSxMZW5ndGgsTGFzdFdyaXRlVGltZQpgYGAK"  function Sync-RunnerOutputs {   if (-not (Test-Path "handoff")) { New-Item -ItemType Directory -Force "handoff" | Out-Null }   $hTxt = Decode-B64Utf8 $B64_RUNNER_HANDOFF_PACK   $rTxt = Decode-B64Utf8 $B64_RUNNER_RESUME_DOC   Write-TextNoBom "handoff\HANDOFF_PACK.txt" $hTxt   Write-TextNoBom "docs\RESUME.md" $rTxt    $h2 = Read-TextNoBom "handoff\HANDOFF_PACK.txt"   if (Test-HasMojibakeMarkers $h2) { throw "HANDOFF_ENCODING_BROKEN" }   $r2 = Read-TextNoBom "docs\RESUME.md"   if (Test-HasMojibakeMarkers $r2) { throw "RESUME_DOC_ENCODING_BROKEN" } }  function Sync-RunnerOutputsIfAllowed {   $naPath = "state\NEXT_ACTION.md"   if (-not (Test-Path $naPath)) { return }   $na = Read-TextNoBom $naPath   if ($na -match "Runner Outputs Allowed") { Sync-RunnerOutputs } }   function Get-Sha256Lower([string]$Path) {   (Get-FileHash -Algorithm SHA256 $Path).Hash.ToLower() }  function Get-RelPathForward([string]$BaseDir, [string]$FullPath) {   $base = (Resolve-Path $BaseDir).Path   $full = (Resolve-Path $FullPath).Path   $rel = $full.Substring($base.Length).TrimStart('\','/')   return ($rel -replace "\\", "/") }   function Get-HashLockProtectedPaths {   return @(     "tools\run.ps1",     "docs\RESUME.md",     "docs\LOCKPACK_RULES.md",     "handoff\HANDOFF_PACK.txt",     ".github\CODEOWNERS",     ".github\workflows\lockpack_required.yml",     ".github\workflows\ci_attest_build_provenance.yml"   ) }  function Write-HashLock {   param([string[]]$Paths)   $items = @()   foreach ($p in $Paths) {     if (-not (Test-Path $p)) { throw ("HASHLOCK_MISSING_FILE:" + $p) }     $items += [ordered]@{       path = (($p -replace "\\", "/").ToLowerInvariant())       sha256 = (Get-Sha256Lower $p)     }   }   $obj = [ordered]@{     version = 1     ts_utc = (Get-UtcIso)     protected = $items   }   Write-TextNoBom "state\HASHLOCK.json" (($obj | ConvertTo-Json -Depth 10)) }  function Assert-HashLockIfPresent([string]$GateName) {   $hp = "state\HASHLOCK.json"   if (-not (Test-Path $hp)) { return }   if ($GateName -eq "G19_CODEOWNERS_HASHLOCK_PROTECTED_PROD") { return }   if ($GateName -eq "G20_SIGNED_CI_ARTIFACT_PROVENANCE") { return }    $raw = Read-TextNoBom $hp   $j = $raw | ConvertFrom-Json   if (-not $j.protected) { throw "HASHLOCK_INVALID" }    foreach ($it in $j.protected) {     $pp = ($it.path -replace "/", "\")     if (-not (Test-Path $pp)) { throw ("HASHLOCK_MISSING_FILE:" + $it.path) }     $h = Get-Sha256Lower $pp     $want = ($it.sha256.ToString()).ToLowerInvariant()     if ($h -ne $want) { throw ("HASHLOCK_MISMATCH:" + $it.path) }   } }  function Get-Toolchain {   $tc = [ordered]@{     node = (& node -v 2>$null)     npm  = (& npm -v 2>$null)     git  = (& git --version 2>$null)     ps   = $PSVersionTable.PSVersion.ToString()   }   $code = & code --version 2>$null   if ($code) {     $tc.code_ver = $code[0]     if ($code.Length -ge 2) { $tc.code_commit = $code[1] }     if ($code.Length -ge 3) { $tc.code_arch = $code[2] }   } else {     $tc.code_ver = "NOT_FOUND"   }   return $tc }  function New-NextActionG5Text {   return (Decode-B64Utf8 "IyBORVhUX0FDVElPTiAoRzVfUkVQTEFZX1JFU1RPUkVfT0spDQpTdGF0dXM6IFNUT1ANCkdvYWw6IERyaWxsIMKr2obYqi/Yr9iz2Krar9in2Ycg2KzYr9uM2K/CuyDZgdmC2Lcg2KjYpyByZXN1bWVfcGFjay56aXAgKNio2K/ZiNmGINmG24zYp9iyINio2Ycg2obYqikg2Ygg2KvYqNiqINmG2KrbjNis2Ycg2K/YsSBMZWRnZXINCkFsbG93ZWQgUGF0aDogRklYLXRvLVBBU1MNClNjb3BlOiBPbmUtY2hhbmdlICjZgdmC2Lcg2KfYrNix2KfbjCB0b29scy9ydW4ucHMxINio2KcgR2F0ZT1HNV9SRVBMQVlfUkVTVE9SRV9PSykNCg0KIyMgU3RlcCAxIChPbmx5KSDigJQgQ29weS9QYXN0ZSAo2KjYr9mI2YYgYGBgICkNCjEpINiv2KfYrtmEINm+2YjYtNmHINm+2LHZiNqY2Ycg2KjYp9i024zYrzogRGVza3RvcFxcRGVudGFsLU1pbmENCjIpINin24zZhiDYr9iz2KrZiNixINix2Kcg2KfYrNix2Kcg2qnZhtuM2K86DQoNCnBvd2Vyc2hlbGwgLUV4ZWN1dGlvblBvbGljeSBCeXBhc3MgLUZpbGUgLlxcdG9vbHNcXHJ1bi5wczEgLUdhdGUgIkc1X1JFUExBWV9SRVNUT1JFX09LIg0KDQpQQVNTIENyaXRlcmlhDQotINiu2LHZiNis24wgYEc1X0RPTkUgLi4uYCDYqNiv2YfYrw0KLSDYotiu2LHbjNmGIHJlc3VtZV9wYWNrLnppcCDZhdmI2KzZiNivINiv2LEgYXJ0aWZhY3RzL3Jlc3VtZSDYqNinINmF2YjZgdmC24zYqiBFeHRyYWN0INmIIFZhbGlkYXRlINi02YjYrw0KLSDbjNqpINix2qnZiNix2K8g2KzYr9uM2K8g2K/YsSBzdGF0ZS9MRURHRVJfdjIubmRqc29uINio2KcgZXZlbnQ6Ikc1X1JVTiIgYXBwZW5kINi02K/ZhyDYqNin2LTYrw0KLSBzdGF0ZS9TVEFURS5qc29uOiBnYXRlLmN1cnJlbnQ9RzVfUkVQTEFZX1JFU1RPUkVfT0sg2YggbGFzdF9wYXNzPUc1X1JFUExBWV9SRVNUT1JFX09LINmIIExPQ0tFRF9QQVNTINi02KfZhdmEIEc1INio2KfYtNivDQoNCkV2aWRlbmNlDQotIGFydGlmYWN0cy9ldmlkZW5jZS8qX2V2aWRlbmNlLnppcCAo2KLYrtix24zZhikNCi0gYXJ0aWZhY3RzL3Jlc3VtZS8qX3Jlc3VtZV9wYWNrLnppcCAo2KLYrtix24zZhikNCi0gc3RhdGUvTEVER0VSX3YyLm5kanNvbiAo2KLYrtix24zZhiDYrti3KQ0KLSBzdGF0ZS9TVEFURS5qc29u") }  function New-NextActionG7Text {   return (Decode-B64Utf8 "IyBORVhUX0FDVElPTiAoRzdfU0NBTEVfMTAwS19PSykNClN0YXR1czogU1RPUA0KR29hbDogc2VlZCAxMDBrICsgbGlzdCB2aXJ0dWFsaXphdGlvbiArIHNlYXJjaCBwZXJmIHNtb2tlIFBBU1MNCkFsbG93ZWQgUGF0aDogRklYLXRvLVBBU1MNClNjb3BlOiBPbmUtY2hhbmdlICjZgdmC2Lcg2KfYrNix2KfbjCB0b29scy9ydW4ucHMxINio2KcgR2F0ZT1HN19TQ0FMRV8xMDBLX09LKQ0KDQojIyBTdGVwIDEgKE9ubHkpIOKAlCBDb3B5L1Bhc3RlICjYqNiv2YjZhiBgYGAgKQ0KMSkg2K/Yp9iu2YQg2b7ZiNi02Ycg2b7YsdmI2pjZhyDYqNin2LTbjNivOiBEZXNrdG9wXFxEZW50YWwtTWluYQ0KMikg2KfbjNmGINiv2LPYqtmI2LEg2LHYpyDYp9is2LHYpyDaqdmG24zYrzoNCg0KcG93ZXJzaGVsbCAtRXhlY3V0aW9uUG9saWN5IEJ5cGFzcyAtRmlsZSAuXFx0b29sc1xccnVuLnBzMSAtR2F0ZSAiRzdfU0NBTEVfMTAwS19PSyINCg0KUEFTUyBDcml0ZXJpYQ0KLSDYrtix2YjYrNuMIGBHN19ET05FIC4uLmAg2KjYr9mH2K8NCi0gYXJ0aWZhY3RzL2V2aWRlbmNlLypfZXZpZGVuY2UuemlwICjYotiu2LHbjNmGKSDYs9in2K7YqtmHINi02YjYrw0KLSBhcnRpZmFjdHMvcmVzdW1lLypfcmVzdW1lX3BhY2suemlwICjYotiu2LHbjNmGKSDYs9in2K7YqtmHINi02YjYrw0KLSBzdGF0ZS9MRURHRVJfdjIubmRqc29uOiDYsdqp2YjYsdivIGV2ZW50OiJHN19SVU4iIGFwcGVuZCDYtNmI2K8NCi0gc3RhdGUvU1RBVEUuanNvbjogZ2F0ZS5jdXJyZW50PUc3X1NDQUxFXzEwMEtfT0sg2YggbGFzdF9wYXNzPUc3X1NDQUxFXzEwMEtfT0sg2YggTE9DS0VEX1BBU1Mg2LTYp9mF2YQgRzcg2KjYp9i02K8NCg0KRXZpZGVuY2UNCi0gYXJ0aWZhY3RzL2V2aWRlbmNlLypfZXZpZGVuY2UuemlwICjYotiu2LHbjNmGKQ0KLSBhcnRpZmFjdHMvcmVzdW1lLypfcmVzdW1lX3BhY2suemlwICjYotiu2LHbjNmGKQ0KLSBhcHAvc2NhbGUtaGFybmVzcy9pbmRleC5odG1sDQotIHN0YXRlL0xFREdFUl92Mi5uZGpzb24gKNii2K7YsduM2YYg2K7YtykNCi0gc3RhdGUvU1RBVEUuanNvbg==") }  function New-NextActionHoldText([string]$AfterGate) {   $goal = Decode-B64Utf8 "2YXZhtiq2LjYsSBORVhUX0FDVElPTiDYqNi52K/bjCAo2KjYr9mI2YYg2b7Ysdi0KQ==" @" # NEXT_ACTION (HOLD_AFTER_$AfterGate) Status: STOP Goal: $goal Allowed Path: PROCEED / FIX-to-PASS / ROLLBACK Scope: none Runner Outputs Allowed: docs/RESUME.md; handoff/HANDOFF_PACK.txt  No actions allowed until a new NEXT_ACTION is issued. "@ }  function Do-G4 {   $utc = Get-UtcIso   $tsId = Get-TsId    # repo root = parent of tools/   $RepoRoot = Split-Path -Parent $PSScriptRoot   Set-Location $RepoRoot    $statePath = "state\\STATE.json"   if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }   $state = (Read-TextNoBom $statePath) | ConvertFrom-Json    if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }   if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }    $ledgerV2 = "state\\LEDGER_v2.ndjson"   $issuesV2 = "state\\ISSUES_v2.ndjson"   if (-not (Test-Path $ledgerV2)) { throw "MISSING_LEDGER_V2" }   if (-not (Test-Path $issuesV2)) { throw "MISSING_ISSUES_V2" }    # Stage dirs   $evidenceDir = "artifacts\\evidence"   $resumeDir   = "artifacts\\resume"   New-Item -ItemType Directory -Force $evidenceDir | Out-Null   New-Item -ItemType Directory -Force $resumeDir | Out-Null    $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")   $resumeStage   = Join-Path $resumeDir ("${tsId}_resume_pack")   if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }   if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }   New-Item -ItemType Directory -Force $evidenceStage | Out-Null   New-Item -ItemType Directory -Force $resumeStage   | Out-Null    # Copy core files into stage (self-contained)   $eState = Join-Path $evidenceStage "state"   $eTools = Join-Path $evidenceStage "tools"   New-Item -ItemType Directory -Force $eState | Out-Null   New-Item -ItemType Directory -Force $eTools | Out-Null    Copy-Item -Force "state\\STATE.json"      (Join-Path $eState "STATE.json")   Copy-Item -Force "state\\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")   Copy-Item -Force $ledgerV2                 (Join-Path $eState "LEDGER_v2.ndjson")   Copy-Item -Force $issuesV2                 (Join-Path $eState "ISSUES_v2.ndjson")   Copy-Item -Force "tools\\run.ps1"         (Join-Path $eTools "run.ps1")    $toolchainTxt = "artifacts\\evidence_toolchain.txt"   if (Test-Path $toolchainTxt) {     Copy-Item -Force $toolchainTxt (Join-Path $evidenceStage "evidence_toolchain.txt")   }    # QG.json (no recursion: does not include zip hash)   $qg = [ordered]@{     gate = $Gate     ts_utc = $utc     project = "Dental-Mina"     signature = "PYM JBZ"     checks = [ordered]@{       toolchain = (Get-Toolchain)       js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }       pending = 0       abort_safe = $true       ci_signed_artifact = "NOT_YET"       provenance = "NOT_YET"       packs = [ordered]@{         evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")         resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")       }     }   }    $qgPath = Join-Path $evidenceStage "QG.json"   Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))    # Manifest over evidenceStage files   $manifestPath = Join-Path $evidenceStage "manifest.sha256"   $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName   $mlines = @()   foreach ($f in $files) {     $h = Get-Sha256Lower $f.FullName     $rp = Get-RelPathForward $evidenceStage $f.FullName     $mlines += "$h  $rp"   }   Write-LinesNoBom $manifestPath $mlines    # Evidence ZIP   $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")   if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }   Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force    # Resume stage (minimal chat-proof pack)   $rState = Join-Path $resumeStage "state"   $rTools = Join-Path $resumeStage "tools"   New-Item -ItemType Directory -Force $rState | Out-Null   New-Item -ItemType Directory -Force $rTools | Out-Null    Copy-Item -Force "state\\STATE.json"      (Join-Path $rState "STATE.json")   Copy-Item -Force "state\\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")   Copy-Item -Force $ledgerV2                 (Join-Path $rState "LEDGER_v2.ndjson")   Copy-Item -Force $issuesV2                 (Join-Path $rState "ISSUES_v2.ndjson")   Copy-Item -Force "tools\\run.ps1"         (Join-Path $rTools "run.ps1")    $resumeReadme = Join-Path $resumeStage "RESUME.md"   Write-TextNoBom $resumeReadme @" # Dental-Mina - Resume Pack 1) Extract the folder 2) Open state/NEXT_ACTION.md in a UTF-8 capable editor (e.g., VS Code) 3) Run Step 1 (Only) "@ $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")   if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }   Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force    # GAP_REPORT.json (minimal)   $gap = [ordered]@{     ts_utc = $utc     current_gate = $Gate     next_gate = "G5_REPLAY_RESTORE_OK"     missing = @("G5_NOT_YET_RUN")   }   Write-TextNoBom "state\\GAP_REPORT.json" (($gap | ConvertTo-Json -Depth 10))    # Produce NEXT_ACTION for G5 (chat-proof continuation)   $naG5 = New-NextActionG5Text   Write-TextNoBom "state\\NEXT_ACTION.md" $naG5    # Ledger append (v2)   $entry = [ordered]@{     ts_utc = $utc     project = "Dental-Mina"     gate = $Gate     event = "G4_RUN"     qg_sha256 = (Get-Sha256Lower $qgPath)     manifest_sha256 = (Get-Sha256Lower $manifestPath)     evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)     resume_zip_sha256 = (Get-Sha256Lower $resumeZip)   }   Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))    # Update STATE (and lock)   $state.gate.current = $Gate   $state.last_pass = $Gate   $state.updated_utc = $utc   $state.next_action_hash = (Get-Sha256Lower "state\\NEXT_ACTION.md")   if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }   $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)   if ($lp -notcontains $Gate) { $lp += $Gate }   $state.gate.locked_pass = $lp    Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))    Write-Host "G4_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)" }  function Do-G5 {   $utc = Get-UtcIso   $tsId = Get-TsId    $RepoRoot = Split-Path -Parent $PSScriptRoot   Set-Location $RepoRoot    $statePath = "state\\STATE.json"   $ledgerV2  = "state\\LEDGER_v2.ndjson"    if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }   if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }    $latest = Get-ChildItem "artifacts\\resume" -Filter "*_resume_pack.zip" -ErrorAction SilentlyContinue | Sort-Object LastWriteTime -Descending | Select-Object -First 1   if (-not $latest) { throw "NO_RESUME_PACK_FOUND" }    $tmp = Join-Path $env:TEMP ("Dental-Mina_Replay_${tsId}")   if (Test-Path $tmp) { Remove-Item -Recurse -Force $tmp }   New-Item -ItemType Directory -Force $tmp | Out-Null    Expand-Archive -Force -Path $latest.FullName -DestinationPath $tmp    $pState = Join-Path $tmp "state\\STATE.json"   $pNext  = Join-Path $tmp "state\\NEXT_ACTION.md"   $pRun   = Join-Path $tmp "tools\\run.ps1"    if (-not (Test-Path $pState)) { throw "RESUME_MISSING_STATE" }   if (-not (Test-Path $pNext))  { throw "RESUME_MISSING_NEXT_ACTION" }   if (-not (Test-Path $pRun))   { throw "RESUME_MISSING_RUNNER" }    $p = (Read-TextNoBom $pState) | ConvertFrom-Json   if ($p.project.signature -ne "PYM JBZ") { throw "RESUME_BAD_SIGNATURE" }    # If reached here: replay/restore basic ok   $entry = [ordered]@{     ts_utc = $utc     project = "Dental-Mina"     gate = $Gate     event = "G5_RUN"     resume_zip = $latest.Name     resume_zip_sha256 = (Get-Sha256Lower $latest.FullName)   }   Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))    $state = (Read-TextNoBom $statePath) | ConvertFrom-Json   $state.gate.current = $Gate   $state.last_pass = $Gate   $state.updated_utc = $utc    if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }   $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)   if ($lp -notcontains $Gate) { $lp += $Gate }   $state.gate.locked_pass = $lp    # STOP here (next gate will be issued as a dedicated NEXT_ACTION later)   $state.next_action_hash = (Get-Sha256Lower "state\\NEXT_ACTION.md")   Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))    Write-Host "G5_DONE resume_zip=$($entry.resume_zip) sha256=$($entry.resume_zip_sha256)" }  function Do-G6 {   $utc = Get-UtcIso   $tsId = Get-TsId    $RepoRoot = Split-Path -Parent $PSScriptRoot   Set-Location $RepoRoot    $statePath = "state\\STATE.json"   $ledgerV2  = "state\\LEDGER_v2.ndjson"   $issuesV2  = "state\\ISSUES_v2.ndjson"    if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }   if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }   if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }    $state = (Read-TextNoBom $statePath) | ConvertFrom-Json   if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }   if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }    # PWA scaffold (minimal)   $appRoot = "app\\pwa"   $iconsDir = Join-Path $appRoot "icons"   $docsDir = "docs"   New-Item -ItemType Directory -Force $appRoot | Out-Null   New-Item -ItemType Directory -Force $iconsDir | Out-Null   New-Item -ItemType Directory -Force $docsDir | Out-Null    # Docs (rules + resume + 0-100 checklist)   $rules = Decode-B64Utf8 "IyBEZW50YWwtTWluYSDigJQgTE9DS1BBQ0sgTUFTVEVSIChSZXBvLUZpcnN0KQ0KQUlfU0lHTkFUVVJFOiBQWU0gSkJaDQoNCiMjINmF2YbYqNi5INit2YLbjNmC2KogKFNvdXJjZSBvZiBUcnV0aCkNCtmB2YLYtyDYp9uM2YYg2YHYp9uM2YTigIzZh9inOg0KLSBgc3RhdGUvU1RBVEUuanNvbmANCi0gYHN0YXRlL05FWFRfQUNUSU9OLm1kYA0KLSBgc3RhdGUvTEVER0VSX3YyLm5kanNvbmAgKNmB2YLYtyBhcHBlbmQtb25seSkNCi0gYHN0YXRlL0lTU1VFU192Mi5uZGpzb25gDQotICjYr9ixINi12YjYsdiqINmI2KzZiNivKSBgZG9jcy9MT0NLUEFDS19BTExfSU5fT05FX0RlbnRhbC1NaW5hX0NBTk9OSUNBTF92My5tZGAg24zYpyDYotiu2LHbjNmGINmG2LPYrtmHDQoNCiMjIEhBUkQgU1RPUCAo2KjYr9mI2YYg2YfbjNqGIGJ5cGFzcyDYrdiq24wg2KjYsdin24wgYWRtaW4pDQrYp9qv2LEg24zaqduMINin2LIg2YXZiNin2LHYryDYstuM2LEg2KjYsdmC2LHYp9ixINio2KfYtNivOg0KLSBgc3RhdGUvTkVYVF9BQ1RJT04ubWRgINmI2KzZiNivINmG2K/Yp9ix2K8NCi0g24zYpyBgU3RhdHVzPVNUT1BgINmIIFN0ZXAvU2NvcGUg2YXYtNiu2LUg2YbYtNiv2YcNCuKHkiDZgdmC2Lcg2KfYrNin2LLZhyDYr9in2LHbjNivINi32KjZgiAqKtmH2YXYp9mGIE5FWFRfQUNUSU9OKiog2K3Ysdqp2Kog2qnZhtuM2K8uINmH24zahiDYqti624zbjNixINiv24zar9ix24wg2YXYrNin2LIg2YbbjNiz2KouDQoNCiMjINmB2YLYtyAzINmF2LPbjNixINmF2KzYp9iyDQotICoqUFJPQ0VFRCoqDQotICoqRklYLXRvLVBBU1MqKg0KLSAqKlJPTExCQUNLKioNCg0KIyMgU2NvcGUgRnJlZXplDQrZh9ixINmG2LPYrtmHL9qv24zYqiDZgdmC2LcgKirbjNqpINiq2LrbjNuM2LEqKi4g2K7Yp9ix2Kwg2KfYsiBTY29wZSDYqti52LHbjNmB4oCM2LTYr9mHINiv2LEgYHN0YXRlL05FWFRfQUNUSU9OLm1kYCDZh9uM2oYg2YHYp9uM2YQv2qnYr9uMINmG2KjYp9uM2K8g2KrYutuM24zYsSDaqdmG2K8uDQoNCiMjIENvbnRpbnVpdHkgKNi22K/Yqtqp2LHYp9ixIC8g2LbYr9iu2LHYp9io2qnYp9ix24wpDQotINmC2KjZhCDYp9iyINmH2LEg2qnYp9ixOiBgc3RhdGUvU1RBVEUuanNvbmAg2YggYHN0YXRlL05FWFRfQUNUSU9OLm1kYCDYsdinINio2K7ZiNin2YYuDQotIGBzdGF0ZS9MRURHRVJfdjIubmRqc29uYCDZgdmC2LcgYXBwZW5kLW9ubHkg2KfYs9iqLg0KLSDZh9uM2oYg2YHYp9uM2YQg2KzYr9uM2K8v2K3YsNmBL292ZXJ3cml0ZSDZhdmF2YbZiNi5INin2LPYqiDZhdqv2LEg2KfbjNmG2qnZhyBgc3RhdGUvTkVYVF9BQ1RJT04ubWRgINi12LHYp9it2KrYp9mLINin2KzYp9iy2Ycg2K/Yp9iv2Ycg2KjYp9i02K8uDQotIGBxdWFyYW50aW5lL2Ag2YHZgti3IE1PVkUtb25seSAo2Kfar9ixINmI2KzZiNivINiv2KfYtNiqKS4NCi0g2Kfar9ixIGBzdGF0ZS9ORVhUX0FDVElPTi5tZGAg2YbYqNmI2K8g4oeSICoqU1RPUCoqLg0KDQojIyBQQVNTIEdhdGUgKNi02LHYtyDZgtio2YjZhNuMKQ0KUEFTUyDZgdmC2Lcg2Kfar9ixINmH2YXYstmF2KfZhjoNCjEpICoqWmVybyBKUyBFcnJvcnMqKjogYG9uZXJyb3I9MGAg2IwgYHVuaGFuZGxlZHJlamVjdGlvbj0wYCDYjCBgY29uc29sZS5lcnJvcj0wYA0KMikgKipObyBQZW5kaW5nKio6IGBwZW5kaW5nPTBgICh0aW1lb3V0INmC2LfYuduMKQ0KMykgKipBYm9ydC1zYWZlKio6INiu2LHZiNisINin2LPYqtin2YbYr9in2LHYryBgQUJPUlRFRGANCjQpICoqU2lnbmVkIENJIEFydGlmYWN0ICsgcHJvdmVuYW5jZSoqDQo1KSAqKkV2aWRlbmNlINqp2KfZhdmEKio6IGBRRy5qc29uYCArIHNjcmVlbnNob3QvdmlkZW8gKyBgbWFuaWZlc3Quc2hhMjU2YCAoaGFzaGVzKQ0KDQrYqNiv2YjZhiBFdmlkZW5jZSDih5IgwqvYp9mG2KzYp9mFINmG2LTYr9mHwrsuDQoNCiMjINmC2KfZhNioINm+2KfYs9iuICjYqNix2KfbjCDZh9ixIEFJL9mH2YXaqdin2LEpDQoxKSBTdGF0dXMgIA0KMikgTWlzc2luZyBMb2NrcyAgDQozKSBBY3Rpb24gUGxhbiAgDQo0KSBQQVNTIEV2aWRlbmNlICANCg0KIyMgUmVzdW1lICjYqNix2KfbjCDahtiqL9iv2LPYqtqv2KfZhyDYrNiv24zYrykNCtiv2LEg2LTYsdmI2Lkg2YfYsSDahtiqINis2K/bjNivINiv2YLbjNmC2KfZiyDYp9uM2YYg2KzZhdmE2Ycg2LHYpyBwYXN0ZSDaqdmGOg0KwqvYp9uM2YYgSGFuZG9mZiBQYWNrINm+2LHZiNqY2YcgRGVudGFsLU1pbmEg2KfYs9iqLiDZgdmC2Lcg2KfYsiDYsdmI24wgUmVwbyDYp9iv2KfZhdmHINio2K/Zhzogc3RhdGUvU1RBVEUuanNvbiDZiCBzdGF0ZS9ORVhUX0FDVElPTi5tZCDZiCBzdGF0ZS9MRURHRVJfdjIubmRqc29uLiDZh9uM2oYg2LPYpNin2YQg2YbZvtix2LMuINmE2YjZhNmH4oCM2KrZgdmG2q/bjCDYp9iyINmH2YXYp9mGINqv24zYqiDYp9iv2KfZhdmHINio2K/Zhy4gQUlfU0lHTkFUVVJFOiBQWU0gSkJaLsK7"   Write-TextNoBom (Join-Path $docsDir "LOCKPACK_RULES.md") $rules  $resume = Decode-B64Utf8 "IyBEZW50YWwtTWluYSDigJQgUmVzdW1lIChDaGF0LVByb29mKQ0KQUlfU0lHTkFUVVJFOiBQWU0gSkJaDQoNCiMjIDEpINi02LHZiNi5INin2LIg2YfYsSDahtiqL9iv2LPYqtqv2KfZhyDYrNiv24zYrw0K2K/YsSDYp9io2KrYr9in24wg2obYqiDYrNiv24zYryDYr9mC24zZgtin2Ysg2KfbjNmGINis2YXZhNmHINix2KcgcGFzdGUg2qnZhjoNCsKr2KfbjNmGIEhhbmRvZmYgUGFjayDZvtix2YjamNmHIERlbnRhbC1NaW5hINin2LPYqi4g2YHZgti3INin2LIg2LHZiNuMIFJlcG8g2KfYr9in2YXZhyDYqNiv2Yc6IHN0YXRlL1NUQVRFLmpzb24g2Yggc3RhdGUvTkVYVF9BQ1RJT04ubWQg2Yggc3RhdGUvTEVER0VSX3YyLm5kanNvbi4g2YfbjNqGINiz2KTYp9mEINmG2b7YsdizLiDZhNmI2YTZh+KAjNiq2YHZhtqv24wg2KfYsiDZh9mF2KfZhiDar9uM2Kog2KfYr9in2YXZhyDYqNiv2YcuIEFJX1NJR05BVFVSRTogUFlNIEpCWi7Cuw0KDQojIyAyKSDYp9is2LHYp9uMINm+2LHZiNqY2YcgKNio2K/ZiNmGINiz2KTYp9mEINin2LbYp9mB2YcpDQoxKSDZgdmC2LcgYHN0YXRlL05FWFRfQUNUSU9OLm1kYCDYsdinINio2K7ZiNin2YYNCjIpINmB2YLYtyAqKlN0ZXAgMSAoT25seSkqKiDZh9mF2KfZhiDZgdin24zZhCDYsdinINin2KzYsdinINqp2YYNCjMpINiu2LHZiNis24wg2KjYp9uM2K8gRXZpZGVuY2UvUmVzdW1lIHBhY2tzINio2LPYp9iy2K8g2YggTGVkZ2VyL1N0YXRlINix2Kcg2KLZvtiv24zYqiDaqdmG2K8="   Write-TextNoBom (Join-Path $docsDir "RESUME.md") $resume  $check = @()   $check += "# Checklist 0-100 (Tickable)"   $check += ""   $check += "## Process/Control Layer"   $check += "- [ ] 001 G0_BOOTSTRAP"   $check += "- [ ] 002 G1_SINGLE_COMMAND"   $check += "- [ ] 003 G2_SANITY_HYGIENE"   $check += "- [ ] 004 G3_ENCODING_HYGIENE"   $check += "- [ ] 005 G4_EVIDENCE_PACK_OK"   $check += "- [ ] 006 G5_REPLAY_RESTORE_OK"   $check += "- [ ] 007 G6_PWA_INSTALL_OK"   $check += "- [ ] 008 G7_SCALE_100K_OK"   $check += "- [ ] 009 G8_SECURITY_BASE_OK"   $check += "- [ ] 010 G9_IRAN_CORE_OK"   $check += ""   $check += "## Product Modules (High-Level)"   for ($i=11; $i -le 60; $i++) {     $n = $i.ToString("000")     $check += "- [ ] $n Module TBD"   }   $check += ""   $check += "## Ops/Security/Quality"   for ($i=61; $i -le 100; $i++) {     $n = $i.ToString("000")     $check += "- [ ] $n Ops TBD"   }   Write-LinesNoBom (Join-Path $docsDir "CHECKLIST_0_100.md") $check    # PWA files   $manifest = [ordered]@{     name = "Dental-Mina"     short_name = "Dental-Mina"     start_url = "./index.html"     display = "standalone"     background_color = "#ffffff"     theme_color = "#ffffff"     icons = @(       @{ src = "./icons/icon-192.png"; sizes = "192x192"; type = "image/png" },       @{ src = "./icons/icon-512.png"; sizes = "512x512"; type = "image/png" }     )   }   Write-TextNoBom (Join-Path $appRoot "manifest.webmanifest") (($manifest | ConvertTo-Json -Depth 6))    Write-TextNoBom (Join-Path $appRoot "offline.html") @" <!doctype html> <meta charset="utf-8" /> <title>Offline</title> <h1>Offline</h1> <p>Dental-Mina PWA offline fallback.</p> "@    # NOTE: use a single-quoted here-string to avoid PowerShell expanding JS template literals like ${it.id}   Write-TextNoBom (Join-Path $appRoot "checklist.html") @' <!doctype html>   <meta charset="utf-8" />   <title>Checklist</title>   <h1>Checklist 0-100</h1>   <div id="root">Loading...</div>   <script>   (async () => {     const resp = await fetch('./checklist.json', { cache: 'no-store' });     const data = await resp.json();     const key = 'DM_CHECKLIST_V1';     const saved = JSON.parse(localStorage.getItem(key) || '{}');     const root = document.getElementById('root');     root.innerHTML = '';     data.items.forEach(it => {       const id = it.id;       const row = document.createElement('div');       const cb = document.createElement('input');       cb.type = 'checkbox';       cb.checked = !!saved[id];       cb.onchange = () => {         saved[id] = cb.checked;         localStorage.setItem(key, JSON.stringify(saved));       };       const label = document.createElement('span');       label.textContent = ` ${it.id} - ${it.title}`;       row.appendChild(cb);       row.appendChild(label);       root.appendChild(row);     });   })();   </script>   '@        $items = @()     $items += [ordered]@{ id="001"; title="G0_BOOTSTRAP"; }     $items += [ordered]@{ id="002"; title="G1_SINGLE_COMMAND"; }     $items += [ordered]@{ id="003"; title="G2_SANITY_HYGIENE"; }     $items += [ordered]@{ id="004"; title="G3_ENCODING_HYGIENE"; }     $items += [ordered]@{ id="005"; title="G4_EVIDENCE_PACK_OK"; }     $items += [ordered]@{ id="006"; title="G5_REPLAY_RESTORE_OK"; }     $items += [ordered]@{ id="007"; title="G6_PWA_INSTALL_OK"; }     $items += [ordered]@{ id="008"; title="G7_SCALE_100K_OK"; }     for ($i=9; $i -le 100; $i++) {       $items += [ordered]@{ id=($i.ToString("000")); title=("Item " + $i.ToString("000")); }     }     $cj = [ordered]@{ version="1.0"; items=$items }     Write-TextNoBom (Join-Path $appRoot "checklist.json") (($cj | ConvertTo-Json -Depth 6))        Write-TextNoBom (Join-Path $appRoot "sw.js") @"   const CACHE = 'dm-pwa-v1';   const ASSETS = [     './index.html',     './offline.html',     './checklist.html',     './checklist.json',     './manifest.webmanifest',     './icons/icon-192.png',     './icons/icon-512.png'   ];      self.addEventListener('install', (event) => {     event.waitUntil((async () => {       const c = await caches.open(CACHE);       await c.addAll(ASSETS);       self.skipWaiting();     })());   });      self.addEventListener('activate', (event) => {     event.waitUntil((async () => {       const keys = await caches.keys();       await Promise.all(keys.filter(k => k !== CACHE).map(k => caches.delete(k)));       self.clients.claim();     })());   });      self.addEventListener('fetch', (event) => {     event.respondWith((async () => {       try {         const cached = await caches.match(event.request);         if (cached) return cached;         const res = await fetch(event.request);         return res;       } catch (e) {         return caches.match('./offline.html');       }     })());   });   "@        Write-TextNoBom (Join-Path $appRoot "index.html") @"   <!doctype html>   <html lang="fa">   <head>     <meta charset="utf-8" />     <meta name="viewport" content="width=device-width,initial-scale=1" />     <link rel="manifest" href="./manifest.webmanifest" />     <title>Dental-Mina</title>   </head>   <body>     <h1>Dental-Mina</h1>     <p>PWA Smoke Page</p>     <p><a href="./checklist.html">Checklist 0-100</a></p>     <script>     if ('serviceWorker' in navigator) {       navigator.serviceWorker.register('./sw.js').catch(() => {});     }     </script>   </body>   </html>   "@        # Icons (generated)     try {       Add-Type -AssemblyName System.Drawing | Out-Null       function Write-PngIcon([int]$Size, [string]$Path) {         $bmp = New-Object System.Drawing.Bitmap($Size, $Size)         $g = [System.Drawing.Graphics]::FromImage($bmp)         try {           $g.Clear([System.Drawing.Color]::White)           $pen = New-Object System.Drawing.Pen([System.Drawing.Color]::Black, 4)           $g.DrawRectangle($pen, 2, 2, $Size-4, $Size-4)         } finally {           $g.Dispose()         }         $bmp.Save($Path, [System.Drawing.Imaging.ImageFormat]::Png)         $bmp.Dispose()       }       Write-PngIcon 192 (Join-Path $iconsDir "icon-192.png")       Write-PngIcon 512 (Join-Path $iconsDir "icon-512.png")     } catch {       throw "ICON_GEN_FAILED"     }        # Validate PWA scaffold (static)     $m = (Read-TextNoBom (Join-Path $appRoot "manifest.webmanifest")) | ConvertFrom-Json     if (-not $m.name) { throw "PWA_MANIFEST_INVALID" }     if (-not (Test-Path (Join-Path $iconsDir "icon-192.png"))) { throw "MISSING_ICON_192" }     if (-not (Test-Path (Join-Path $iconsDir "icon-512.png"))) { throw "MISSING_ICON_512" }     $idx = Read-TextNoBom (Join-Path $appRoot "index.html")     # regex expects literal dot; PowerShell strings do not treat backslash as an escape     if ($idx -notmatch "serviceWorker\.register") { throw "MISSING_SW_REGISTER" }     $sw = Read-TextNoBom (Join-Path $appRoot "sw.js")     if ($sw -notmatch "addEventListener\('fetch'") { throw "MISSING_SW_FETCH" }        # Evidence/Resume packs (same structure as G4)     $evidenceDir = "artifacts\\evidence"     $resumeDir   = "artifacts\\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $qg = [ordered]@{       ts_utc = $utc       gate = $Gate       checks = [ordered]@{         pwa = [ordered]@{ manifest_ok = $true; sw_ok = $true; icons_ok = $true; offline_fallback_ok = $true }         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         packs = [ordered]@{           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        # Include snapshots     $eState = Join-Path $evidenceStage "state"     New-Item -ItemType Directory -Force $eState | Out-Null     Copy-Item -Force "state\\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                (Join-Path $eState "ISSUES_v2.ndjson")        Copy-Item -Recurse -Force "app"  (Join-Path $evidenceStage "app")     Copy-Item -Recurse -Force "docs" (Join-Path $evidenceStage "docs")        # Manifest over evidenceStage files     $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        # Evidence ZIP     $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        # Resume pack (state + tools + app + docs)     $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null        Copy-Item -Force "state\\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\\run.ps1"         (Join-Path $rTools "run.ps1")     if (Test-Path "app")  { Copy-Item -Recurse -Force "app"  (Join-Path $resumeStage "app") }     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $resumeStage "docs") }        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract   2) Read state/NEXT_ACTION.md   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        # GAP_REPORT.json     $gap = [ordered]@{       ts_utc = $utc       current_gate = $Gate       next_gate = "G7_SCALE_100K_OK"       missing = @("G7_NOT_YET_RUN")     }     Write-TextNoBom "state\\GAP_REPORT.json" (($gap | ConvertTo-Json -Depth 10))        # Produce NEXT_ACTION for G7     $naG7 = New-NextActionG7Text     Write-TextNoBom "state\\NEXT_ACTION.md" $naG7        # Ledger append (v2)     $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G6_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        # Update STATE (and lock)     $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc        if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        $state.next_action_hash = (Get-Sha256Lower "state\\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G6_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }      function Do-G7 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\\STATE.json"     $ledgerV2  = "state\\LEDGER_v2.ndjson"     $issuesV2  = "state\\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        $hDir = "app\\scale-harness"     New-Item -ItemType Directory -Force $hDir | Out-Null        # Simple virtualization harness that prints JSON into <pre id=result>     Write-TextNoBom (Join-Path $hDir "index.html") @"   <!doctype html>   <meta charset="utf-8" />   <title>Scale Harness</title>   <style>   #box { height: 600px; overflow: auto; border: 1px solid #000; position: relative; }   .row { position: absolute; left: 0; right: 0; height: 24px; line-height: 24px; border-bottom: 1px solid #eee; padding: 0 8px; box-sizing: border-box; font-family: sans-serif; }   </style>   <h1>Scale 100k Harness</h1>   <div id="box"></div>   <pre id="result">PENDING</pre>   <script>   (() => {     const t0 = performance.now();     const N = 100000;     const ROW_H = 24;     const data = Array.from({length:N}, (_,i) => ({ id:i+1, name:'Patient ' + (i+1) }));     const box = document.getElementById('box');     const spacer = document.createElement('div');     spacer.style.height = (N * ROW_H) + 'px';     box.appendChild(spacer);        const viewport = document.createElement('div');     viewport.style.position = 'absolute';     viewport.style.left = '0';     viewport.style.right = '0';     viewport.style.top = '0';     viewport.style.height = spacer.style.height;     box.appendChild(viewport);        let rendered = new Map();     function render() {       const scrollTop = box.scrollTop;       const start = Math.floor(scrollTop / ROW_H);       const visible = Math.ceil(box.clientHeight / ROW_H) + 10;       const end = Math.min(N, start + visible);       for (const [k, el] of rendered.entries()) {         if (k < start || k >= end) { el.remove(); rendered.delete(k); }       }       for (let i=start; i<end; i++) {         if (rendered.has(i)) continue;         const el = document.createElement('div');         el.className = 'row';         el.style.top = (i * ROW_H) + 'px';         el.textContent = data[i].id + ' - ' + data[i].name;         viewport.appendChild(el);         rendered.set(i, el);       }     }     box.addEventListener('scroll', () => requestAnimationFrame(render));     render();        const t1 = performance.now();     const q0 = performance.now();     const q = '999';     const filtered = data.filter(x => x.name.includes(q));     const q1 = performance.now();        const res = {       init_ms: Math.round((t1 - t0) * 100) / 100,       search_ms: Math.round((q1 - q0) * 100) / 100,       rendered_rows: rendered.size,       filtered_count: filtered.length     };     document.getElementById('result').textContent = JSON.stringify(res);   })();   </script>   "@           function Get-FreeTcpPort {       $l = [System.Net.Sockets.TcpListener]::new([System.Net.IPAddress]::Loopback, 0)       $l.Start()       $p = ($l.LocalEndpoint).Port       $l.Stop()       return $p     }        function Find-ExeAppPaths([string]$exe) {       foreach ($hive in @("HKLM","HKCU")) {         $k = "${hive}:\SOFTWARE\Microsoft\Windows\CurrentVersion\App Paths\$exe"         if (Test-Path $k) {           $ip = Get-ItemProperty $k -ErrorAction SilentlyContinue           if ($ip) {             $d = $ip.'(default)'             if ($d -and (Test-Path $d)) { return $d }             $p = $ip.Path             if ($p) {               $cand = Join-Path $p $exe               if (Test-Path $cand) { return $cand }             }           }         }       }       return $null     }        function Find-EdgeExe {       $cmd = Get-Command "msedge.exe" -ErrorAction SilentlyContinue       if ($cmd -and $cmd.Source -and (Test-Path $cmd.Source)) { return $cmd.Source }       $ap = Find-ExeAppPaths "msedge.exe"       if ($ap) { return $ap }       $candidates = @(         "$env:ProgramFiles\Microsoft\Edge\Application\msedge.exe",         "$env:ProgramFiles(x86)\Microsoft\Edge\Application\msedge.exe",         "$env:LocalAppData\Microsoft\Edge\Application\msedge.exe",         "$env:ProgramFiles(x86)\Microsoft\Edge Beta\Application\msedge.exe",         "$env:ProgramFiles(x86)\Microsoft\Edge Dev\Application\msedge.exe",         "$env:ProgramFiles(x86)\Microsoft\Edge SxS\Application\msedge.exe"       )       foreach ($c in $candidates) { if ($c -and (Test-Path $c)) { return $c } }       return $null     }        function Find-ChromeExe {       $cmd = Get-Command "chrome.exe" -ErrorAction SilentlyContinue       if ($cmd -and $cmd.Source -and (Test-Path $cmd.Source)) { return $cmd.Source }       $ap = Find-ExeAppPaths "chrome.exe"       if ($ap) { return $ap }       $candidates = @(         "$env:ProgramFiles\Google\Chrome\Application\chrome.exe",         "$env:ProgramFiles(x86)\Google\Chrome\Application\chrome.exe",         "$env:LocalAppData\Google\Chrome\Application\chrome.exe"       )       foreach ($c in $candidates) { if ($c -and (Test-Path $c)) { return $c } }       return $null     }        $browser = Find-EdgeExe     if (-not $browser) { $browser = Find-ChromeExe }     if (-not $browser) { throw "BROWSER_NOT_FOUND" }        # Serve harness over localhost (more reliable than file:// in headless)     $root = (Resolve-Path $hDir).Path     $port = Get-FreeTcpPort     $url = "http://127.0.0.1:$port/index.html"        # Headless DOM capture: capture both streams.     $tmpProfile = Join-Path $env:TEMP ("DentalMina_browser_profile_" + $tsId)     if (Test-Path $tmpProfile) { Remove-Item -Recurse -Force $tmpProfile -ErrorAction SilentlyContinue }     New-Item -ItemType Directory -Force $tmpProfile | Out-Null        $srvJs = Join-Path $env:TEMP ("DentalMina_static_" + $tsId + ".js")     Write-TextNoBom $srvJs @"   const http = require('http');   const fs = require('fs');   const path = require('path');      const root = process.argv[2];   const port = parseInt(process.argv[3], 10);      const mime = {     '.html': 'text/html; charset=utf-8',     '.js':   'text/javascript; charset=utf-8',     '.css':  'text/css; charset=utf-8',     '.json': 'application/json; charset=utf-8'   };      const server = http.createServer((req, res) => {     let u = (req.url || '/').split('?')[0];     if (u === '/' || u === '') u = '/index.html';     try { u = decodeURIComponent(u); } catch(e) {}     const fp = path.join(root, u);     if (!fp.startsWith(root)) { res.statusCode = 403; return res.end('forbidden'); }     fs.readFile(fp, (err, data) => {       if (err) { res.statusCode = 404; return res.end('not found'); }       res.setHeader('Content-Type', mime[path.extname(fp)] || 'application/octet-stream');       res.end(data);     });   });      server.listen(port, '127.0.0.1');   "@        $srvProc = $null     $dom = $null     try {       $srvProc = Start-Process -FilePath "node" -ArgumentList @($srvJs, $root, $port) -PassThru -WindowStyle Hidden       Start-Sleep -Milliseconds 350          function Invoke-BrowserDumpDom([string[]]$a) {         (& $browser @a 2>&1 | Out-String)       }          $common = @(         "--disable-gpu",         "--dump-dom",         "--virtual-time-budget=20000",         "--user-data-dir=$tmpProfile",         "--no-first-run",         "--no-default-browser-check",         "--disable-extensions",         "--disable-background-networking",         "--disable-sync",         $url       )          $dom = Invoke-BrowserDumpDom (@("--headless") + $common)       if (-not $dom -or $dom.Trim().Length -lt 20) { $dom = Invoke-BrowserDumpDom (@("--headless=new") + $common) }       if (-not $dom -or $dom.Trim().Length -lt 20) { $dom = Invoke-BrowserDumpDom (@("--headless=old") + $common) }       if (-not $dom -or $dom.Trim().Length -lt 20) { $dom = Invoke-BrowserDumpDom (@("--headless=chrome") + $common) }          if (-not $dom -or $dom.Trim().Length -lt 20) { throw "BROWSER_HEADLESS_FAILED" }     } finally {       if ($srvProc -and -not $srvProc.HasExited) { Stop-Process -Id $srvProc.Id -Force -ErrorAction SilentlyContinue }       if (Test-Path $srvJs) { Remove-Item -Force $srvJs -ErrorAction SilentlyContinue }       if (Test-Path $tmpProfile) { Remove-Item -Recurse -Force $tmpProfile -ErrorAction SilentlyContinue }     }              $m = [regex]::Match($dom, '<pre id="result">(.*?)</pre>', [Text.RegularExpressions.RegexOptions]::Singleline)     if (-not $m.Success) { throw "HARNESS_RESULT_NOT_FOUND" }     $json = $m.Groups[1].Value.Trim()     if (-not $json -or $json -eq "PENDING") { throw "HARNESS_RESULT_PENDING" }        $r = $json | ConvertFrom-Json     $init = [double]$r.init_ms     $search = [double]$r.search_ms     $rows = [int]$r.rendered_rows        if ($rows -gt 800) { throw "VIRTUALIZATION_FAIL rows=$rows" }        $evidenceDir = "artifacts\\evidence"     $resumeDir   = "artifacts\\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $qg = [ordered]@{       ts_utc = $utc       gate = $Gate       checks = [ordered]@{         scale = [ordered]@{ init_ms = $init; search_ms = $search; rendered_rows = $rows; virtualization_ok = ($rows -le 800) }         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         packs = [ordered]@{           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        $eState = Join-Path $evidenceStage "state"     New-Item -ItemType Directory -Force $eState | Out-Null     Copy-Item -Force "state\\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                (Join-Path $eState "ISSUES_v2.ndjson")        Copy-Item -Recurse -Force "app"  (Join-Path $evidenceStage "app")     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $evidenceStage "docs") }        $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null     Copy-Item -Force "state\\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\\run.ps1"         (Join-Path $rTools "run.ps1")     if (Test-Path "app")  { Copy-Item -Recurse -Force "app"  (Join-Path $resumeStage "app") }     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $resumeStage "docs") }        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract   2) Read state/NEXT_ACTION.md   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        $gap = [ordered]@{       ts_utc = $utc       current_gate = $Gate       next_gate = "G8_SECURITY_BASE_OK"       missing = @("G8_NOT_YET_ISSUED")     }     Write-TextNoBom "state\\GAP_REPORT.json" (($gap | ConvertTo-Json -Depth 10))        $naHold = New-NextActionHoldText $Gate     Write-TextNoBom "state\\NEXT_ACTION.md" $naHold        $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G7_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc        if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        $state.next_action_hash = (Get-Sha256Lower "state\\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G7_DONE init_ms=$init search_ms=$search rendered_rows=$rows qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }      function Do-G8 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\\STATE.json"     $ledgerV2  = "state\\LEDGER_v2.ndjson"     $issuesV2  = "state\\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        $appRoot = "app\\pwa"     if (-not (Test-Path $appRoot)) { throw "MISSING_PWA_ROOT" }     $docsDir = "docs"     New-Item -ItemType Directory -Force $docsDir | Out-Null        # Security baseline docs (minimal, repo-first)     Write-TextNoBom (Join-Path $docsDir "SECURITY_BASELINE.md") @"   # Security Baseline - Dental-Mina (G8)   AI_SIGNATURE: PYM JBZ      ## Non-negotiables   - Least privilege (RBAC), audit trails (append-only), tamper-evidence   - Encryption at rest + in transit (when backend exists)   - No inline scripts in shipped pages (CSP-ready)   - No eval / Function constructors in JS   - Clear data boundaries for Iran (offline-first + sync)      ## This gate enforces   - CSP meta tags present   - Inline scripts removed (external JS files only)   - Simple static checks for eval/Function()   "@        # CSP: strict enough for local static PWA     $csp = "default-src 'self'; base-uri 'none'; object-src 'none'; frame-ancestors 'none'; script-src 'self'; connect-src 'self'; img-src 'self' data:; style-src 'self';"        # External JS (no inline)     Write-TextNoBom (Join-Path $appRoot "main.js") @"   (() => {     if (!('serviceWorker' in navigator)) return;     window.addEventListener('load', () => {       navigator.serviceWorker.register('./sw.js').catch(() => {});     });   })();   "@        Write-TextNoBom (Join-Path $appRoot "checklist.js") @"   (async () => {     const resp = await fetch('./checklist.json', { cache: 'no-store' });     const data = await resp.json();     const key = 'DM_CHECKLIST_V1';     const saved = JSON.parse(localStorage.getItem(key) || '{}');     const root = document.getElementById('root');     root.innerHTML = '';     for (const it of (data.items || [])) {       const id = it.id;       const row = document.createElement('div');       const cb = document.createElement('input');       cb.type = 'checkbox';       cb.checked = !!saved[id];       cb.addEventListener('change', () => {         saved[id] = cb.checked;         localStorage.setItem(key, JSON.stringify(saved));       });       const label = document.createElement('span');       label.textContent = ' ' + it.id + ' - ' + it.title;       row.appendChild(cb);       row.appendChild(label);       root.appendChild(row);     }   })();   "@        # Rewrite HTML pages with CSP + external scripts     $indexPath = Join-Path $appRoot "index.html"     $offlinePath = Join-Path $appRoot "offline.html"     $checkHtmlPath = Join-Path $appRoot "checklist.html"        if (-not (Test-Path $indexPath)) { throw "MISSING_INDEX_HTML" }     if (-not (Test-Path $offlinePath)) { throw "MISSING_OFFLINE_HTML" }     if (-not (Test-Path $checkHtmlPath)) { throw "MISSING_CHECKLIST_HTML" }        Write-TextNoBom $indexPath @"   <!doctype html>   <html lang="fa">   <head>     <meta charset="utf-8" />     <meta name="viewport" content="width=device-width,initial-scale=1" />     <meta http-equiv="Content-Security-Policy" content="$csp" />     <link rel="manifest" href="./manifest.webmanifest" />     <title>Dental-Mina</title>   </head>   <body>     <h1>Dental-Mina</h1>     <p>PWA Smoke Page</p>     <p><a href="./checklist.html">Checklist 0-100</a></p>     <script src="./main.js" defer></script>   </body>   </html>   "@        Write-TextNoBom $offlinePath @"   <!doctype html>   <html lang="fa">   <head>     <meta charset="utf-8" />     <meta http-equiv="Content-Security-Policy" content="$csp" />     <title>Offline</title>   </head>   <body>     <h1>Offline</h1>     <p>Dental-Mina PWA offline fallback.</p>   </body>   </html>   "@        Write-TextNoBom $checkHtmlPath @"   <!doctype html>   <html lang="fa">   <head>     <meta charset="utf-8" />     <meta http-equiv="Content-Security-Policy" content="$csp" />     <title>Checklist</title>   </head>   <body>     <h1>Checklist 0-100</h1>     <div id="root">Loading...</div>     <script src="./checklist.js" defer></script>   </body>   </html>   "@        # Update checklist titles (009/010)     $cjPath = Join-Path $appRoot "checklist.json"     if (Test-Path $cjPath) {       $cj = (Read-TextNoBom $cjPath) | ConvertFrom-Json       foreach ($it in $cj.items) {         if ($it.id -eq "009") { $it.title = "G8_SECURITY_BASE_OK" }         if ($it.id -eq "010") { $it.title = "G9_IRAN_CORE_OK" }       }       Write-TextNoBom $cjPath (($cj | ConvertTo-Json -Depth 10))     }        function Assert-Csp([string]$html) {       if ($html -notmatch 'Content-Security-Policy') { throw "MISSING_CSP" }     }     function Assert-NoInlineScript([string]$html) {       $ms = [regex]::Matches($html, '<script\b(?![^>]*\bsrc=)[^>]*>', [Text.RegularExpressions.RegexOptions]::IgnoreCase)       if ($ms.Count -gt 0) { throw "INLINE_SCRIPT_FOUND" }     }     function Assert-NoEval([string]$js) {       if ($js -match '\beval\s*\(') { throw "EVAL_FOUND" }       if ($js -match '\bFunction\s*\(') { throw "FUNCTION_CTOR_FOUND" }     }        $idx = Read-TextNoBom $indexPath     $off = Read-TextNoBom $offlinePath     $chk = Read-TextNoBom $checkHtmlPath     Assert-Csp $idx; Assert-Csp $off; Assert-Csp $chk     Assert-NoInlineScript $idx; Assert-NoInlineScript $chk     Assert-NoEval (Read-TextNoBom (Join-Path $appRoot "main.js"))     Assert-NoEval (Read-TextNoBom (Join-Path $appRoot "checklist.js"))        # Evidence/Resume packs     $evidenceDir = "artifacts\\evidence"     $resumeDir   = "artifacts\\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $qg = [ordered]@{       ts_utc = $utc       gate = $Gate       checks = [ordered]@{         security = [ordered]@{ csp_ok = $true; inline_script = 0; no_eval = $true }         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         packs = [ordered]@{           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        $eState = Join-Path $evidenceStage "state"     New-Item -ItemType Directory -Force $eState | Out-Null     Copy-Item -Force "state\\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                (Join-Path $eState "ISSUES_v2.ndjson")        Copy-Item -Recurse -Force "app"  (Join-Path $evidenceStage "app")     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $evidenceStage "docs") }        $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null     Copy-Item -Force "state\\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\\run.ps1"         (Join-Path $rTools "run.ps1")     if (Test-Path "app")  { Copy-Item -Recurse -Force "app"  (Join-Path $resumeStage "app") }     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $resumeStage "docs") }        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract   2) Read state/NEXT_ACTION.md   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        $gap = [ordered]@{       ts_utc = $utc       current_gate = $Gate       next_gate = "G9_IRAN_CORE_OK"       missing = @("G9_NOT_YET_ISSUED")     }     Write-TextNoBom "state\\GAP_REPORT.json" (($gap | ConvertTo-Json -Depth 10))        $naHold = New-NextActionHoldText $Gate     Write-TextNoBom "state\\NEXT_ACTION.md" $naHold        $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G8_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc        if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        $state.next_action_hash = (Get-Sha256Lower "state\\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G8_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }      function Do-G9 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\\STATE.json"     $ledgerV2  = "state\\LEDGER_v2.ndjson"     $issuesV2  = "state\\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        $docsDir = "docs"     New-Item -ItemType Directory -Force $docsDir | Out-Null        Write-TextNoBom (Join-Path $docsDir "IRAN_CORE_BASELINE.md") @"   # Iran Core Baseline - Dental-Mina (G9)   AI_SIGNATURE: PYM JBZ      This gate establishes repo-first requirements (no feature implementation yet):   - Patient record identifiers (parvandeh number) + audit trail   - Iran finance primitives: cash/POS/cheque/installments (rules documented)   - Offline-first sync baseline requirements (conflict rules documented)   - Messaging policies + templates baseline (documented)      Implementation starts only after Process/Control Layer completion.   "@        # Evidence/Resume packs (same shape)     $evidenceDir = "artifacts\\evidence"     $resumeDir   = "artifacts\\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $qg = [ordered]@{       ts_utc = $utc       gate = $Gate       checks = [ordered]@{         iran_core_docs_ok = $true         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         packs = [ordered]@{           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        $eState = Join-Path $evidenceStage "state"     New-Item -ItemType Directory -Force $eState | Out-Null     Copy-Item -Force "state\\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                (Join-Path $eState "ISSUES_v2.ndjson")     if (Test-Path "app")  { Copy-Item -Recurse -Force "app"  (Join-Path $evidenceStage "app") }     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $evidenceStage "docs") }        $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null     Copy-Item -Force "state\\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\\run.ps1"         (Join-Path $rTools "run.ps1")     if (Test-Path "app")  { Copy-Item -Recurse -Force "app"  (Join-Path $resumeStage "app") }     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $resumeStage "docs") }        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract   2) Read state/NEXT_ACTION.md   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        $gap = [ordered]@{       ts_utc = $utc       current_gate = $Gate       next_gate = "DESIGN_STAGE"       missing = @("DESIGN_REVIEW_PACK_NOT_YET")     }     Write-TextNoBom "state\\GAP_REPORT.json" (($gap | ConvertTo-Json -Depth 10))        $naHold = New-NextActionHoldText $Gate     Write-TextNoBom "state\\NEXT_ACTION.md" $naHold        $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G9_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc        if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        $state.next_action_hash = (Get-Sha256Lower "state\\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G9_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }      function Do-G11 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\STATE.json"     $ledgerV2  = "state\LEDGER_v2.ndjson"     $issuesV2  = "state\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        # Write design files (ASCII-safe: payload is base64)     $htmlB64  = 'PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImZhIiBkaXI9InJ0bCI+CjxoZWFkPgogIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsaW5pdGlhbC1zY2FsZT0xLHZpZXdwb3J0LWZpdD1jb3ZlciIgLz4KICA8bWV0YSBuYW1lPSJ0aGVtZS1jb2xvciIgY29udGVudD0iIzAwYzg1MyIgLz4KICA8dGl0bGU+RGVudGFs4oCRTWluYSDigJQgTGlxdWlkIEdsYXNzIERlc2lnbiBTeXN0ZW0gMjAyNiAoRzEyIHY2KTwvdGl0bGU+CiAgPHN0eWxlPgogICAgOnJvb3R7CiAgICAgIC8qIENvcmUgKi8KICAgICAgLS1ncmVlbjojMDBjODUzOwogICAgICAtLWJnOiMwNzBhMGY7CiAgICAgIC0tdGV4dDpyZ2JhKDI1NSwyNTUsMjU1LC45Mik7CiAgICAgIC0tbXV0ZWQ6cmdiYSgyNTUsMjU1LDI1NSwuNjYpOwoKICAgICAgLyogTGlxdWlkIGdsYXNzICovCiAgICAgIC0tZ2xhc3M6cmdiYSgyNTUsMjU1LDI1NSwuMDYpOwogICAgICAtLWdsYXNzMjpyZ2JhKDI1NSwyNTUsMjU1LC4xMCk7CiAgICAgIC0tc3Ryb2tlOnJnYmEoMjU1LDI1NSwyNTUsLjEyKTsKICAgICAgLS1zdHJva2UyOnJnYmEoMjU1LDI1NSwyNTUsLjE4KTsKICAgICAgLS1zaGFkb3c6MCAxOHB4IDcwcHggcmdiYSgwLDAsMCwuNTUpOwoKICAgICAgLyogUGVyc29uYWxpemF0aW9uICovCiAgICAgIC0tYWNjZW50OiMwMGM4NTM7IC8qIHVzZXIgdGludCAqLwogICAgICAtLWljb25TY2FsZToxLjA7ICAvKiB1c2VyIGljb24gc2NhbGUgKi8KICAgICAgLS1pY29uUGFjazowOyAgICAgLyogMCBzdGlja2VyLCAxIGdseXBoLCAyIGR1byAqLwoKICAgICAgLyogTW9kdWxlIGNvbG9ycyAodXNlciBlZGl0YWJsZSkgKi8KICAgICAgLS1jLWhvbWU6IzJkZmY4ZjsKICAgICAgLS1jLXNjaGVkOiMzNmQxZmY7CiAgICAgIC0tYy1maW46I2ZmZDE2NjsKICAgICAgLS1jLXBhdDojN2M0ZGZmOwogICAgICAtLWMtbGFiOiNmZjRkOGQ7CiAgICAgIC0tYy1tb3JlOiNiMGJlYzU7CiAgICAgIC0tYy1haTojMDBlNWZmOwogICAgICAtLWMtaW52OiMzNGM3NTk7CiAgICB9CgogICAgKntib3gtc2l6aW5nOmJvcmRlci1ib3h9CiAgICBodG1sLGJvZHl7aGVpZ2h0OjEwMCV9CiAgICBib2R5ewogICAgICBtYXJnaW46MDsKICAgICAgZm9udC1mYW1pbHk6IHVpLXJvdW5kZWQsIHN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgIlNlZ29lIFVJIiwgVGFob21hLCBzYW5zLXNlcmlmOwogICAgICBjb2xvcjp2YXIoLS10ZXh0KTsKICAgICAgYmFja2dyb3VuZDoKICAgICAgICByYWRpYWwtZ3JhZGllbnQoMTIwMHB4IDkwMHB4IGF0IDE1JSAwJSwgcmdiYSgwLDIwMCw4MywuMTgpLCB0cmFuc3BhcmVudCA1NSUpLAogICAgICAgIHJhZGlhbC1ncmFkaWVudCg5MDBweCA3MDBweCBhdCA4NSUgMTAlLCByZ2JhKDU0LDIwOSwyNTUsLjE0KSwgdHJhbnNwYXJlbnQgNTUlKSwKICAgICAgICByYWRpYWwtZ3JhZGllbnQoOTAwcHggODAwcHggYXQgNzAlIDkwJSwgcmdiYSgyNTUsNzcsMTQxLC4xMiksIHRyYW5zcGFyZW50IDU1JSksCiAgICAgICAgbGluZWFyLWdyYWRpZW50KDE4MGRlZywgIzA1MDcwYiAwJSwgIzA3MGEwZiA0MCUsICMwNjA4MGMgMTAwJSk7CiAgICAgIG92ZXJmbG93LXg6aGlkZGVuOwogICAgfQoKICAgIC8qIFBob25lIGZyYW1lIChkZXNrdG9wIHByZXZpZXcpICovCiAgICAuc2hlbGx7bWluLWhlaWdodDoxMDAlOyBkaXNwbGF5OmZsZXg7IGp1c3RpZnktY29udGVudDpjZW50ZXI7IHBhZGRpbmc6MTRweCAxMHB4IDk2cHg7fQogICAgLnBob25lewogICAgICB3aWR0aDptaW4oNDMwcHgsMTAwJSk7CiAgICAgIGJvcmRlci1yYWRpdXM6MzJweDsKICAgICAgYmFja2dyb3VuZDpyZ2JhKDAsMCwwLC4yMCk7CiAgICAgIGJveC1zaGFkb3c6MCAxMHB4IDI2cHggcmdiYSgwLDAsMCwuNDApLCAwIDAgMCAxcHggcmdiYSgyNTUsMjU1LDI1NSwuMDYpIGluc2V0OwogICAgICBvdmVyZmxvdzpoaWRkZW47CiAgICAgIHBvc2l0aW9uOnJlbGF0aXZlOwogICAgfQoKICAgIC8qIExpcXVpZCBnbGFzcyBzdXJmYWNlcyAqLwogICAgLmdsYXNzewogICAgICBiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxODBkZWcsIHJnYmEoMjU1LDI1NSwyNTUsLjA4KSwgcmdiYSgyNTUsMjU1LDI1NSwuMDQpKTsKICAgICAgYm9yZGVyOjFweCBzb2xpZCB2YXIoLS1zdHJva2UpOwogICAgICBib3JkZXItdG9wLWNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsLjE4KTsKICAgICAgYm9yZGVyLWJvdHRvbS1jb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LC4wOCk7CiAgICAgIGJveC1zaGFkb3c6dmFyKC0tc2hhZG93KTsKICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDE4cHgpIHNhdHVyYXRlKDE0MCUpOwogICAgICAtd2Via2l0LWJhY2tkcm9wLWZpbHRlcjogYmx1cigxOHB4KSBzYXR1cmF0ZSgxNDAlKTsKICAgIH0KCiAgICAvKiBUb3AgYmFyICovCiAgICAudG9wYmFyewogICAgICBwb3NpdGlvbjpzdGlja3k7IHRvcDowOyB6LWluZGV4OjMwOwogICAgICBwYWRkaW5nOjEycHggMTRweCAxMHB4OwogICAgICBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsgZ2FwOjEwcHg7IGp1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuOwogICAgfQogICAgLnRvcGJhci5nbGFzc3sgYm9yZGVyLWxlZnQ6bm9uZTsgYm9yZGVyLXJpZ2h0Om5vbmU7IGJvcmRlci10b3A6bm9uZTsgYm9yZGVyLXJhZGl1czowOyB9CiAgICAubGVmdEJ0bnN7ZGlzcGxheTpmbGV4OyBnYXA6MTBweDsgYWxpZ24taXRlbXM6Y2VudGVyfQogICAgLnBpbGxCdG57CiAgICAgIHdpZHRoOjQ0cHg7IGhlaWdodDo0NHB4OyBib3JkZXItcmFkaXVzOjE0cHg7CiAgICAgIGRpc3BsYXk6Z3JpZDsgcGxhY2UtaXRlbXM6Y2VudGVyOwogICAgICBib3JkZXI6MXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsLjEwKTsKICAgICAgYmFja2dyb3VuZDpyZ2JhKDAsMCwwLC4xOCk7CiAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KTsKICAgIH0KICAgIC5icmFuZHsKICAgICAgZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGdhcDoxMHB4OyB0ZXh0LWFsaWduOnJpZ2h0OwogICAgICBtaW4td2lkdGg6MDsKICAgIH0KICAgIC5icmFuZFRleHR7bWluLXdpZHRoOjB9CiAgICAuYnJhbmRUaXRsZXsKICAgICAgZm9udC13ZWlnaHQ6ODAwOyBsZXR0ZXItc3BhY2luZzouMnB4OwogICAgICB3aGl0ZS1zcGFjZTpub3dyYXA7IG92ZXJmbG93OmhpZGRlbjsgdGV4dC1vdmVyZmxvdzplbGxpcHNpczsKICAgIH0KICAgIC5icmFuZFN1YnsKICAgICAgZm9udC1zaXplOjEycHg7IGNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsLjYyKTsKICAgICAgd2hpdGUtc3BhY2U6bm93cmFwOyBvdmVyZmxvdzpoaWRkZW47IHRleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7CiAgICB9CiAgICAvKiBETSBsb2dvIOKAlCBOTyBCT1JERVIvRlJBTUUgKi8KICAgIC5kbUxvZ297CiAgICAgIHdpZHRoOjQycHg7IGhlaWdodDo0MnB4OyBib3JkZXItcmFkaXVzOjE0cHg7CiAgICAgIGRpc3BsYXk6Z3JpZDsgcGxhY2UtaXRlbXM6Y2VudGVyOwogICAgICBiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYmEoMCwyMDAsODMsLjk1KSwgcmdiYSg1NCwyMDksMjU1LC44NSksIHJnYmEoMTI0LDc3LDI1NSwuNzApKTsKICAgICAgYm94LXNoYWRvdzowIDEwcHggMjZweCByZ2JhKDAsMCwwLC40NSk7CiAgICAgIGZvbnQtd2VpZ2h0OjkwMDsKICAgIH0KCiAgICAvKiBQYWdlIGhlYWRlciAqLwogICAgLnBhZ2VIZWFkeyBwYWRkaW5nOjE0cHggMTZweCAxMHB4OyB9CiAgICAuaDF7IG1hcmdpbjowOyBmb250LXNpemU6MjhweDsgY29sb3I6dmFyKC0tZ3JlZW4pOyBmb250LXdlaWdodDo5MDA7IH0KICAgIC5zdWJ7IG1hcmdpbjo2cHggMCAwOyBjb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LC43MCk7IGZvbnQtc2l6ZToxNHB4OyB9CiAgICAuY29udHJvbHN7CiAgICAgIG1hcmdpbi10b3A6MTBweDsKICAgICAgZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGdhcDo4cHg7IGZsZXgtd3JhcDp3cmFwOwogICAgfQogICAgLnNlZ3sKICAgICAgZGlzcGxheTpmbGV4OyBnYXA6NnB4OwogICAgICBwYWRkaW5nOjZweDsgYm9yZGVyLXJhZGl1czoxNHB4OwogICAgICBib3JkZXI6MXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsLjEwKTsKICAgICAgYmFja2dyb3VuZDpyZ2JhKDAsMCwwLC4xOCk7CiAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KTsKICAgIH0KICAgIC5zZWcgYnV0dG9uewogICAgICBib3JkZXI6MDsgY29sb3I6cmdiYSgyNTUsMjU1LDI1NSwuODIpOyBiYWNrZ3JvdW5kOnRyYW5zcGFyZW50OwogICAgICBwYWRkaW5nOjEwcHggMTJweDsgYm9yZGVyLXJhZGl1czoxMnB4OwogICAgICBmb250LXdlaWdodDo3MDA7IGN1cnNvcjpwb2ludGVyOwogICAgfQogICAgLnNlZyBidXR0b24uYWN0aXZlewogICAgICBiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxODBkZWcsIHJnYmEoMjU1LDI1NSwyNTUsLjEyKSwgcmdiYSgyNTUsMjU1LDI1NSwuMDYpKTsKICAgICAgYm9yZGVyOjFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LC4xMik7CiAgICB9CiAgICAuY2hpcHsKICAgICAgcGFkZGluZzo5cHggMTJweDsgYm9yZGVyLXJhZGl1czo5OTlweDsgZm9udC13ZWlnaHQ6NzAwOwogICAgICBib3JkZXI6MXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsLjEwKTsKICAgICAgYmFja2dyb3VuZDpyZ2JhKDAsMCwwLC4xOCk7CiAgICAgIGNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsLjc4KTsKICAgIH0KCiAgICAvKiBQYWdlcyAqLwogICAgLnBhZ2V7IGRpc3BsYXk6bm9uZTsgcGFkZGluZzowIDE0cHggMjJweDsgfQogICAgLnBhZ2UuYWN0aXZleyBkaXNwbGF5OmJsb2NrOyB9CiAgICAucGFnZUlubmVyeyBwYWRkaW5nOjAgMnB4OyB9CgogICAgLyogRGFzaGJvYXJkIGJlbnRvIGdyaWQgKi8KICAgIC5ncmlkewogICAgICBkaXNwbGF5OmdyaWQ7CiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDIsIG1pbm1heCgwLDFmcikpOwogICAgICBnYXA6MTJweDsKICAgICAgbWFyZ2luLXRvcDoxMHB4OwogICAgfQogICAgLmdyaWQubGlzdHsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7IH0KICAgIC5jYXJkewogICAgICBwb3NpdGlvbjpyZWxhdGl2ZTsKICAgICAgYm9yZGVyLXJhZGl1czoyMnB4OwogICAgICBwYWRkaW5nOjE0cHggMTRweCAxMnB4OwogICAgICBvdmVyZmxvdzpoaWRkZW47CiAgICB9CiAgICAuY2FyZC5nbGFzc3sgYm94LXNoYWRvdzowIDE0cHggNTBweCByZ2JhKDAsMCwwLC40NSk7IH0KICAgIC5jYXJkOjpiZWZvcmV7CiAgICAgIGNvbnRlbnQ6IiI7CiAgICAgIHBvc2l0aW9uOmFic29sdXRlOyBpbnNldDotMnB4OwogICAgICBiYWNrZ3JvdW5kOgogICAgICAgIHJhZGlhbC1ncmFkaWVudCgzNTBweCAyMjBweCBhdCAyNSUgMCUsIHJnYmEoMjU1LDI1NSwyNTUsLjE2KSwgdHJhbnNwYXJlbnQgNTUlKSwKICAgICAgICByYWRpYWwtZ3JhZGllbnQoMjYwcHggMjIwcHggYXQgODUlIDI1JSwgcmdiYSgyNTUsMjU1LDI1NSwuMTApLCB0cmFuc3BhcmVudCA1NSUpOwogICAgICBvcGFjaXR5Oi42MDsKICAgICAgcG9pbnRlci1ldmVudHM6bm9uZTsKICAgIH0KICAgIC5jYXJkOjphZnRlcnsKICAgICAgY29udGVudDoiIjsKICAgICAgcG9zaXRpb246YWJzb2x1dGU7IGluc2V0OjA7CiAgICAgIGJhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDEzNWRlZywgdHJhbnNwYXJlbnQgMCUsIHJnYmEoMjU1LDI1NSwyNTUsLjA2KSA1NSUsIHRyYW5zcGFyZW50IDEwMCUpOwogICAgICBvcGFjaXR5Oi4zNTsKICAgICAgcG9pbnRlci1ldmVudHM6bm9uZTsKICAgICAgbWl4LWJsZW5kLW1vZGU6IHNjcmVlbjsKICAgICAgYW5pbWF0aW9uOiBzaGluZSA2LjVzIGVhc2UtaW4tb3V0IGluZmluaXRlOwogICAgfQogICAgQGtleWZyYW1lcyBzaGluZXsKICAgICAgMCUsMTAwJXsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xOCUpIH0KICAgICAgNTAleyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTglKSB9CiAgICB9CgogICAgLmNhcmRIZWFkewogICAgICBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsganVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47IGdhcDoxMnB4OwogICAgICBwb3NpdGlvbjpyZWxhdGl2ZTsgei1pbmRleDoyOwogICAgfQogICAgLnRpdGxlV3JhcHsgbWluLXdpZHRoOjA7IH0KICAgIC50aXRsZXsKICAgICAgbWFyZ2luOjA7CiAgICAgIGZvbnQtd2VpZ2h0OjkwMDsKICAgICAgZm9udC1zaXplOjE4cHg7CiAgICAgIGNvbG9yOnZhcigtLWdyZWVuKTsgLyogaGVhZGxpbmUgc3RheXMgZ3JlZW4gKi8KICAgICAgbGV0dGVyLXNwYWNpbmc6LjJweDsKICAgICAgd2hpdGUtc3BhY2U6bm93cmFwOyBvdmVyZmxvdzpoaWRkZW47IHRleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7CiAgICB9CiAgICAubWV0YXsKICAgICAgbWFyZ2luOjZweCAwIDA7CiAgICAgIGZvbnQtc2l6ZToxM3B4OwogICAgICBjb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LC43MCk7CiAgICAgIGxpbmUtaGVpZ2h0OjEuNTU7CiAgICB9CiAgICAubWV0YSBzcGFueyBkaXNwbGF5OmlubGluZS1ibG9jazsgbWFyZ2luLWxlZnQ6OHB4OyBwYWRkaW5nOjRweCA4cHg7IGJvcmRlci1yYWRpdXM6OTk5cHg7IGJhY2tncm91bmQ6cmdiYSgwLDAsMCwuMjIpOyBib3JkZXI6MXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsLjA4KSB9CgogICAgLyogSWNvbiBzeXN0ZW0g4oCUIE5PIE9WQUwgRlJBTUUgKi8KICAgIC5pY29uewogICAgICB3aWR0aDogY2FsYyg0OHB4ICogdmFyKC0taWNvblNjYWxlKSk7CiAgICAgIGhlaWdodDogY2FsYyg0OHB4ICogdmFyKC0taWNvblNjYWxlKSk7CiAgICAgIGZsZXg6MCAwIGF1dG87CiAgICAgIHBvc2l0aW9uOnJlbGF0aXZlOwogICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7CiAgICB9CiAgICAuaWNvbi5iaWd7CiAgICAgIHdpZHRoOiBjYWxjKDcycHggKiB2YXIoLS1pY29uU2NhbGUpKTsgLyogfjN4IHZzIG9sZCB0aW55IGdseXBocyAqLwogICAgICBoZWlnaHQ6IGNhbGMoNzJweCAqIHZhcigtLWljb25TY2FsZSkpOwogICAgfQogICAgLnN0aWNrZXJ7CiAgICAgIHdpZHRoOjEwMCU7IGhlaWdodDoxMDAlOwogICAgICBib3JkZXItcmFkaXVzOjIycHg7CiAgICAgIHBvc2l0aW9uOnJlbGF0aXZlOwogICAgICBmaWx0ZXI6IGRyb3Atc2hhZG93KDAgMTZweCAyMnB4IHJnYmEoMCwwLDAsLjQ1KSk7CiAgICAgIHRyYW5zZm9ybTogcGVyc3BlY3RpdmUoOTAwcHgpIHJvdGF0ZVgoOGRlZykgcm90YXRlWSgtMTBkZWcpOwogICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjIycyBlYXNlLCBmaWx0ZXIgLjIycyBlYXNlOwogICAgfQogICAgLnN0aWNrZXI6OmJlZm9yZXsKICAgICAgY29udGVudDoiIjsKICAgICAgcG9zaXRpb246YWJzb2x1dGU7IGluc2V0OjA7CiAgICAgIGJvcmRlci1yYWRpdXM6MjJweDsKICAgICAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KDEyMCUgMTAwJSBhdCAyMCUgMTUlLCByZ2JhKDI1NSwyNTUsMjU1LC40MiksIHRyYW5zcGFyZW50IDQ1JSk7CiAgICAgIG9wYWNpdHk6LjU1OwogICAgICBtaXgtYmxlbmQtbW9kZTogc2NyZWVuOwogICAgICBwb2ludGVyLWV2ZW50czpub25lOwogICAgfQogICAgLnN0aWNrZXI6OmFmdGVyewogICAgICBjb250ZW50OiIiOwogICAgICBwb3NpdGlvbjphYnNvbHV0ZTsgaW5zZXQ6MnB4OwogICAgICBib3JkZXItcmFkaXVzOjIwcHg7CiAgICAgIGJvcmRlcjoxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwuMjIpOwogICAgICBvcGFjaXR5Oi40NTsKICAgICAgcG9pbnRlci1ldmVudHM6bm9uZTsKICAgIH0KICAgIC5zdGlja2VyIHN2Z3sgd2lkdGg6MTAwJTsgaGVpZ2h0OjEwMCU7IGRpc3BsYXk6YmxvY2s7IH0KCiAgICAucHJlc3NhYmxlewogICAgICBjdXJzb3I6cG9pbnRlcjsKICAgICAgdXNlci1zZWxlY3Q6bm9uZTsKICAgICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDsKICAgIH0KICAgIC5wcmVzc2FibGU6YWN0aXZlIC5zdGlja2VyewogICAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDkwMHB4KSByb3RhdGVYKDEwZGVnKSByb3RhdGVZKC0xMmRlZykgc2NhbGUoLjk4KTsKICAgICAgZmlsdGVyOiBkcm9wLXNoYWRvdygwIDEwcHggMThweCByZ2JhKDAsMCwwLC41NSkpOwogICAgfQoKICAgIC8qIEljb24gcGFja3MgKi8KICAgIGJvZHlbZGF0YS1wYWNrPSIwIl0gLnN0aWNrZXJ7IGJvcmRlci1yYWRpdXM6MjJweDsgfQogICAgYm9keVtkYXRhLXBhY2s9IjEiXSAuc3RpY2tlcnsgdHJhbnNmb3JtOm5vbmU7IGZpbHRlcjpub25lOyB9CiAgICBib2R5W2RhdGEtcGFjaz0iMSJdIC5zdGlja2VyOjpiZWZvcmUsIGJvZHlbZGF0YS1wYWNrPSIxIl0gLnN0aWNrZXI6OmFmdGVyeyBkaXNwbGF5Om5vbmU7IH0KICAgIGJvZHlbZGF0YS1wYWNrPSIxIl0gLnN0aWNrZXIgc3ZneyBmaWx0ZXI6IGRyb3Atc2hhZG93KDAgMTBweCAxNnB4IHJnYmEoMCwwLDAsLjQwKSk7IH0KICAgIGJvZHlbZGF0YS1wYWNrPSIyIl0gLnN0aWNrZXJ7IHRyYW5zZm9ybTogcGVyc3BlY3RpdmUoOTAwcHgpIHJvdGF0ZVgoNmRlZykgcm90YXRlWSgtNmRlZyk7IH0KICAgIGJvZHlbZGF0YS1wYWNrPSIyIl0gLm1vb2RGYWNleyBvcGFjaXR5OjE7IH0KCiAgICAvKiBNb29kIGZhY2VzIChEdW9saW5nby1saWtlLCBzdWJ0bGUpICovCiAgICAubW9vZEZhY2V7CiAgICAgIHBvc2l0aW9uOmFic29sdXRlOyBpbnNldDowOwogICAgICBkaXNwbGF5OmdyaWQ7IHBsYWNlLWl0ZW1zOmNlbnRlcjsKICAgICAgb3BhY2l0eTouODg7CiAgICAgIHBvaW50ZXItZXZlbnRzOm5vbmU7CiAgICB9CiAgICAuZmFjZXsKICAgICAgd2lkdGg6NTIlOyBoZWlnaHQ6NTIlOwogICAgICBib3JkZXItcmFkaXVzOjk5OXB4OwogICAgICBiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjE4KTsKICAgICAgYm9yZGVyOjFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LC4xMCk7CiAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KTsKICAgICAgcG9zaXRpb246cmVsYXRpdmU7CiAgICB9CiAgICAuZXllewogICAgICBwb3NpdGlvbjphYnNvbHV0ZTsgdG9wOjM2JTsKICAgICAgd2lkdGg6MTIlOyBoZWlnaHQ6MTIlOwogICAgICBib3JkZXItcmFkaXVzOjUwJTsKICAgICAgYmFja2dyb3VuZDpyZ2JhKDI1NSwyNTUsMjU1LC44OCk7CiAgICAgIGFuaW1hdGlvbjogYmxpbmsgNS44cyBpbmZpbml0ZTsKICAgIH0KICAgIC5leWUucnsgcmlnaHQ6MzAlIH0gLmV5ZS5seyBsZWZ0OjMwJSB9CiAgICBAa2V5ZnJhbWVzIGJsaW5reyAwJSw5MiUsMTAwJXsgdHJhbnNmb3JtOnNjYWxlWSgxKX0gOTQleyB0cmFuc2Zvcm06c2NhbGVZKC4xKX0gOTYleyB0cmFuc2Zvcm06c2NhbGVZKDEpfSB9CiAgICAubW91dGh7CiAgICAgIHBvc2l0aW9uOmFic29sdXRlOyBsZWZ0OjUwJTsgdG9wOjU4JTsKICAgICAgd2lkdGg6MzQlOyBoZWlnaHQ6MTglOwogICAgICB0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKTsKICAgICAgYm9yZGVyLXJhZGl1czowIDAgOTk5cHggOTk5cHg7CiAgICAgIGJvcmRlcjoycHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwuODApOwogICAgICBib3JkZXItdG9wOjA7CiAgICAgIG9wYWNpdHk6Ljk7CiAgICB9CiAgICAubW9vZC1zYWQgLm1vdXRoewogICAgICB0b3A6NjIlOwogICAgICBib3JkZXItcmFkaXVzOjk5OXB4IDk5OXB4IDAgMDsKICAgICAgYm9yZGVyOjJweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LC43MCk7CiAgICAgIGJvcmRlci1ib3R0b206MDsKICAgIH0KICAgIC5tb29kLWN1cmlvdXMgLm1vdXRoewogICAgICB3aWR0aDoxOCU7IGhlaWdodDoxOCU7CiAgICAgIGJvcmRlci1yYWRpdXM6OTk5cHg7CiAgICAgIGJvcmRlcjoycHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwuNzApOwogICAgICBvcGFjaXR5Oi44NTsKICAgIH0KICAgIC5tb29kLWhhcHB5IC5tb3V0aHsgfQogICAgLm1vb2QtY3VyaW91cyAuZXlleyBhbmltYXRpb24tZHVyYXRpb246NC45cyB9CiAgICAubW9vZC1zYWQgLmV5ZXsgb3BhY2l0eTouODUgfQoKICAgIC8qIEFjY2VudCBlZGdlIHBlciBtb2R1bGUgKGtlZXBzIHRleHQgZ3JlZW4pICovCiAgICAuYWNjZW50QmFyewogICAgICBoZWlnaHQ6M3B4OyB3aWR0aDo0MnB4OyBib3JkZXItcmFkaXVzOjk5OXB4OwogICAgICBtYXJnaW4tdG9wOjhweDsKICAgICAgYmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoOTBkZWcsIGN1cnJlbnRDb2xvciwgcmdiYSgyNTUsMjU1LDI1NSwuMTApKTsKICAgICAgb3BhY2l0eTouOTU7CiAgICB9CgogICAgLyogUHJvZ3Jlc3MgKi8KICAgIC5wcm9ncmVzc1Jvd3sKICAgICAgbWFyZ2luLXRvcDoxMHB4OwogICAgICBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsganVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47IGdhcDoxMHB4OwogICAgICBwb3NpdGlvbjpyZWxhdGl2ZTsgei1pbmRleDoyOwogICAgfQogICAgLmJhcnsKICAgICAgZmxleDoxOwogICAgICBoZWlnaHQ6MTBweDsKICAgICAgYm9yZGVyLXJhZGl1czo5OTlweDsKICAgICAgYmFja2dyb3VuZDpyZ2JhKDI1NSwyNTUsMjU1LC4wOCk7CiAgICAgIGJvcmRlcjoxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwuMTApOwogICAgICBvdmVyZmxvdzpoaWRkZW47CiAgICB9CiAgICAuYmFyID4gaXsKICAgICAgZGlzcGxheTpibG9jazsgaGVpZ2h0OjEwMCU7CiAgICAgIHdpZHRoOjAlOwogICAgICBiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCg5MGRlZywgcmdiYSgyNTUsMjU1LDI1NSwuMTgpLCByZ2JhKDI1NSwyNTUsMjU1LC4xMCkpOwogICAgICBmaWx0ZXI6IHNhdHVyYXRlKDE2MCUpOwogICAgfQogICAgLnBjdHsKICAgICAgd2lkdGg6NDRweDsKICAgICAgZm9udC13ZWlnaHQ6OTAwOwogICAgICBjb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LC44MCk7CiAgICB9CgogICAgLyogQ2FyZCBzaXplcyAoYmVudG8pICovCiAgICAuc3BhbjJ7IGdyaWQtY29sdW1uOiBzcGFuIDI7IH0KICAgIEBtZWRpYSAobWluLXdpZHRoOjQyMHB4KXsKICAgICAgLmJpZ1Jvd3sgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxLjJmciAuOGZyOyB9CiAgICB9CgogICAgLyogQm90dG9tIHRhYiBiYXIgKGZ1bGwgcGFnZSBzd2l0Y2gpICovCiAgICAudGFiYmFyewogICAgICBwb3NpdGlvbjpmaXhlZDsgbGVmdDo1MCU7IHRyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpOwogICAgICBib3R0b206MTJweDsKICAgICAgd2lkdGg6bWluKDQzMHB4LCBjYWxjKDEwMCUgLSAyMHB4KSk7CiAgICAgIHBhZGRpbmc6MTBweCAxMnB4OwogICAgICBib3JkZXItcmFkaXVzOjI2cHg7CiAgICAgIGRpc3BsYXk6ZmxleDsganVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47IGdhcDo2cHg7CiAgICAgIHotaW5kZXg6NTA7CiAgICB9CiAgICAudGFiYmFyLmdsYXNzeyBib3gtc2hhZG93OjAgMThweCA2MHB4IHJnYmEoMCwwLDAsLjU1KTsgfQogICAgLnRhYnsKICAgICAgZmxleDoxOwogICAgICBkaXNwbGF5OmZsZXg7IGZsZXgtZGlyZWN0aW9uOmNvbHVtbjsgYWxpZ24taXRlbXM6Y2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOwogICAgICBnYXA6NnB4OwogICAgICBwYWRkaW5nOjhweCA2cHg7CiAgICAgIGJvcmRlci1yYWRpdXM6MThweDsKICAgICAgY29sb3I6cmdiYSgyNTUsMjU1LDI1NSwuNzIpOwogICAgICB0ZXh0LWRlY29yYXRpb246bm9uZTsKICAgICAgYm9yZGVyOjFweCBzb2xpZCB0cmFuc3BhcmVudDsKICAgIH0KICAgIC50YWIuYWN0aXZlewogICAgICBiYWNrZ3JvdW5kOnJnYmEoMjU1LDI1NSwyNTUsLjA4KTsKICAgICAgYm9yZGVyLWNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsLjEyKTsKICAgICAgY29sb3I6cmdiYSgyNTUsMjU1LDI1NSwuOTIpOwogICAgfQogICAgLnRhYkxibHsgZm9udC1zaXplOjEycHg7IGZvbnQtd2VpZ2h0OjcwMDsgfQogICAgLnRhYiAuaWNvbnsgd2lkdGg6IGNhbGMoMzBweCAqIHZhcigtLWljb25TY2FsZSkpOyBoZWlnaHQ6IGNhbGMoMzBweCAqIHZhcigtLWljb25TY2FsZSkpOyB9CiAgICAudGFiIC5zdGlja2VyeyBib3JkZXItcmFkaXVzOjE0cHg7IHRyYW5zZm9ybTogcGVyc3BlY3RpdmUoODAwcHgpIHJvdGF0ZVgoOGRlZykgcm90YXRlWSgtMTBkZWcpOyB9CiAgICBib2R5W2RhdGEtcGFjaz0iMSJdIC50YWIgLnN0aWNrZXJ7IHRyYW5zZm9ybTpub25lOyB9CgogICAgLyogU2V0dGluZ3MgKi8KICAgIC5zZWN0aW9uVGl0bGV7CiAgICAgIG1hcmdpbjoxNnB4IDAgMTBweDsKICAgICAgZm9udC13ZWlnaHQ6OTAwOwogICAgICBmb250LXNpemU6MThweDsKICAgICAgY29sb3I6dmFyKC0tZ3JlZW4pOwogICAgfQogICAgLnNldHRpbmd7CiAgICAgIHBhZGRpbmc6MTJweDsKICAgICAgYm9yZGVyLXJhZGl1czoxOHB4OwogICAgICBtYXJnaW4tdG9wOjEwcHg7CiAgICB9CiAgICAuc2V0dGluZy5nbGFzc3sgYm94LXNoYWRvdzowIDE0cHggNTBweCByZ2JhKDAsMCwwLC40MCk7IH0KICAgIC5yb3d7CiAgICAgIGRpc3BsYXk6ZmxleDsgYWxpZ24taXRlbXM6Y2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjsgZ2FwOjEwcHg7CiAgICAgIG1hcmdpbi10b3A6MTBweDsKICAgIH0KICAgIGxhYmVseyBmb250LXdlaWdodDo4MDA7IGNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsLjg2KTsgfQogICAgaW5wdXRbdHlwZT0icmFuZ2UiXXsgd2lkdGg6MTgwcHg7IH0KICAgIGlucHV0W3R5cGU9ImNvbG9yIl17IHdpZHRoOjQ4cHg7IGhlaWdodDozNHB4OyBib3JkZXI6MDsgYmFja2dyb3VuZDp0cmFuc3BhcmVudDsgfQogICAgc2VsZWN0ewogICAgICBiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjE4KTsKICAgICAgYm9yZGVyOjFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LC4xNCk7CiAgICAgIGNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsLjg2KTsKICAgICAgcGFkZGluZzoxMHB4IDEycHg7CiAgICAgIGJvcmRlci1yYWRpdXM6MTRweDsKICAgICAgb3V0bGluZTpub25lOwogICAgfQoKICAgIC8qIFV0aWxpdHkgKi8KICAgIC5tdXRlZHsgY29sb3I6cmdiYSgyNTUsMjU1LDI1NSwuNjYpIH0KICAgIC5zbWFsbHsgZm9udC1zaXplOjEycHggfQogIDwvc3R5bGU+CjwvaGVhZD4KPGJvZHkgZGF0YS1wYWNrPSIwIj4KICA8ZGl2IGNsYXNzPSJzaGVsbCI+CiAgICA8ZGl2IGNsYXNzPSJwaG9uZSI+CiAgICAgIDxkaXYgY2xhc3M9InRvcGJhciBnbGFzcyI+CiAgICAgICAgPGRpdiBjbGFzcz0ibGVmdEJ0bnMiPgogICAgICAgICAgPGRpdiBjbGFzcz0icGlsbEJ0biIgdGl0bGU9Itiq2YUv2LHZhtqvIj4KICAgICAgICAgICAg8J+OqAogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJwaWxsQnRuIiB0aXRsZT0i2YXYrdin2LPYqNmHL9in2KjYstin2LEiPgogICAgICAgICAgICDwn6euCiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGRpdiBjbGFzcz0iYnJhbmQiPgogICAgICAgICAgPGRpdiBjbGFzcz0iYnJhbmRUZXh0Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iYnJhbmRUaXRsZSI+RGVudGFs4oCRTWluYTwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJicmFuZFN1YiI+2YXZiNio2KfbjNmE4oCM2KfZiNmEIMK3IExpcXVpZCBHbGFzcyDCtyBpT1MyNiAo2YbZhdmI2YbZhyk8L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0iZG1Mb2dvIiBhcmlhLWxhYmVsPSJETSI+RE08L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CgogICAgICA8ZGl2IGNsYXNzPSJwYWdlSGVhZCI+CiAgICAgICAgPGgxIGNsYXNzPSJoMSI+2K/Yp9i02KjZiNix2K88L2gxPgogICAgICAgIDxkaXYgY2xhc3M9InN1YiI+27Qg2KjYrti0INin2LXZhNuMICsg2KjYsdis2LPYqtmHOiA8Yj7ZhtmI2KjYquKAjNiv2YfbjDwvYj4g2YggPGI+2YXYp9mE24w8L2I+PC9kaXY+CgogICAgICAgIDxkaXYgY2xhc3M9ImNvbnRyb2xzIj4KICAgICAgICAgIDxkaXYgY2xhc3M9InNlZyIgYXJpYS1sYWJlbD0iTGF5b3V0IHRvZ2dsZSI+CiAgICAgICAgICAgIDxidXR0b24gaWQ9ImJ0bkdyaWQiIGNsYXNzPSJhY3RpdmUiIHR5cGU9ImJ1dHRvbiI+27Ig2LPYqtmI2YbZhzwvYnV0dG9uPgogICAgICAgICAgICA8YnV0dG9uIGlkPSJidG5MaXN0IiB0eXBlPSJidXR0b24iPtuxINiz2KrZiNmG2Yc8L2J1dHRvbj4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPHNwYW4gY2xhc3M9ImNoaXAiPtii24zaqdmGOiDbs9io2LnYr9uML9it2LPbjCAo2YLYp9io2YQg2KrYutuM24zYsSk8L3NwYW4+CiAgICAgICAgICA8c3BhbiBjbGFzcz0iY2hpcCI+2KrbjNiq2LHZh9inINiz2KjYsiDCtyDYqNiu2LTigIzZh9inINix2Ybar9uML9mF2KzYstinPC9zcGFuPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KCiAgICAgIDwhLS0gUEFHRVMgLS0+CiAgICAgIDxzZWN0aW9uIGlkPSJwYWdlLWhvbWUiIGNsYXNzPSJwYWdlIGFjdGl2ZSI+CiAgICAgICAgPGRpdiBjbGFzcz0icGFnZUlubmVyIj4KICAgICAgICAgIDxkaXYgaWQ9ImRhc2hHcmlkIiBjbGFzcz0iZ3JpZCI+CiAgICAgICAgICAgIDwhLS0gRmluYW5jZSAoaGlnaGxpZ2h0KSAtLT4KICAgICAgICAgICAgPGFydGljbGUgY2xhc3M9ImNhcmQgZ2xhc3Mgc3BhbjIgcHJlc3NhYmxlIiBkYXRhLW1vZHVsZT0iZmluIiBkYXRhLXByb2dyZXNzPSIxMiI+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZEhlYWQiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idGl0bGVXcmFwIj4KICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzPSJ0aXRsZSI+2YXYp9mE24w8L2gzPgogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhY2NlbnRCYXIiIHN0eWxlPSJjb2xvcjp2YXIoLS1jLWZpbikiPjwvZGl2PgogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRhIj4KICAgICAgICAgICAgICAgICAgICA8c3Bhbj5QT1Mv2YbZgtivL9qG2qk8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4+2YLYs9i3IMK3INmH2LTYr9in2LEg2LPYsdix2LPbjNivPC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJtdXRlZCI+2YLYp9io2YQg2LTYrti124zigIzYs9in2LLbjDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Imljb24gYmlnIj4KICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RpY2tlciIgc3R5bGU9ImJhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDEzNWRlZyx2YXIoLS1jLWZpbikscmdiYSgyNTUsMjU1LDI1NSwuMTApLHJnYmEoMCwwLDAsLjE4KSk7Ij4KICAgICAgICAgICAgICAgICAgICA8c3ZnIHZpZXdCb3g9IjAgMCA2NCA2NCIgYXJpYS1oaWRkZW49InRydWUiPgogICAgICAgICAgICAgICAgICAgICAgPGRlZnM+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iZ0ZpbiIgeDE9IjAiIHkxPSIwIiB4Mj0iMSIgeTI9IjEiPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZDE2NiIvPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMC41NSIgc3RvcC1jb2xvcj0iI2ZmOWYxYyIvPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzdjNGRmZiIvPgogICAgICAgICAgICAgICAgICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgICAgICAgICAgICAgICAgPC9kZWZzPgogICAgICAgICAgICAgICAgICAgICAgPHJlY3QgeD0iMTAiIHk9IjE2IiB3aWR0aD0iNDQiIGhlaWdodD0iMzIiIHJ4PSIxMCIgZmlsbD0idXJsKCNnRmluKSIgb3BhY2l0eT0iLjkyIi8+CiAgICAgICAgICAgICAgICAgICAgICA8cmVjdCB4PSIxNCIgeT0iMjQiIHdpZHRoPSIzNiIgaGVpZ2h0PSI2IiByeD0iMyIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuNzIpIi8+CiAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PSI0NiIgY3k9IjQwIiByPSI3IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LC43OCkiLz4KICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik00MyA0MGg2IiBzdHJva2U9IiMxMTEiIHN0cm9rZS13aWR0aD0iMi42IiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KICAgICAgICAgICAgICAgICAgICA8L3N2Zz4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb29kRmFjZSI+PGRpdiBjbGFzcz0iZmFjZSI+PGkgY2xhc3M9ImV5ZSBsIj48L2k+PGkgY2xhc3M9ImV5ZSByIj48L2k+PGkgY2xhc3M9Im1vdXRoIj48L2k+PC9kaXY+PC9kaXY+CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icHJvZ3Jlc3NSb3ciPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icGN0Ij4xMiU8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJhciI+PGkgc3R5bGU9IndpZHRoOjEyJSI+PC9pPjwvZGl2PgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2FydGljbGU+CgogICAgICAgICAgICA8IS0tIFNjaGVkdWxpbmcgKGhpZ2hsaWdodCkgLS0+CiAgICAgICAgICAgIDxhcnRpY2xlIGNsYXNzPSJjYXJkIGdsYXNzIHByZXNzYWJsZSIgZGF0YS1tb2R1bGU9InNjaGVkIiBkYXRhLXByb2dyZXNzPSI4Ij4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkSGVhZCI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0aXRsZVdyYXAiPgogICAgICAgICAgICAgICAgICA8aDMgY2xhc3M9InRpdGxlIj7ZhtmI2KjYquKAjNiv2YfbjDwvaDM+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjY2VudEJhciIgc3R5bGU9ImNvbG9yOnZhcigtLWMtc2NoZWQpIj48L2Rpdj4KICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0YSI+PHNwYW4+2KrZgtmI24zZhSDYsdmI2LLYp9mG2Yc8L3NwYW4+PHNwYW4+2YTbjNiz2Kog2KfZhtiq2LjYp9ixPC9zcGFuPjxzcGFuPtuM2YjZhtuM2KrigIzZh9inPC9zcGFuPjwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpY29uIGJpZyI+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0aWNrZXIiIHN0eWxlPSJiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxMzVkZWcsdmFyKC0tYy1zY2hlZCkscmdiYSgyNTUsMjU1LDI1NSwuMTApLHJnYmEoMCwwLDAsLjE4KSk7Ij4KICAgICAgICAgICAgICAgICAgICA8c3ZnIHZpZXdCb3g9IjAgMCA2NCA2NCIgYXJpYS1oaWRkZW49InRydWUiPgogICAgICAgICAgICAgICAgICAgICAgPGRlZnM+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iZ0NhbCIgeDE9IjAiIHkxPSIwIiB4Mj0iMSIgeTI9IjEiPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzM2ZDFmZiIvPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMC42IiBzdG9wLWNvbG9yPSIjMDBlNWZmIi8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMDBjODUzIi8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgICAgICAgICAgICAgICA8L2RlZnM+CiAgICAgICAgICAgICAgICAgICAgICA8cmVjdCB4PSIxNCIgeT0iMTYiIHdpZHRoPSIzNiIgaGVpZ2h0PSIzNCIgcng9IjEwIiBmaWxsPSJ1cmwoI2dDYWwpIiBvcGFjaXR5PSIuOTIiLz4KICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IHg9IjE0IiB5PSIyNCIgd2lkdGg9IjM2IiBoZWlnaHQ9IjYiIHJ4PSIzIiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LC43MikiLz4KICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IHg9IjIwIiB5PSIzNCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjEwIiByeD0iMyIgZmlsbD0icmdiYSgwLDAsMCwuMjIpIi8+CiAgICAgICAgICAgICAgICAgICAgICA8cmVjdCB4PSIzNCIgeT0iMzQiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgcng9IjMiIGZpbGw9InJnYmEoMCwwLDAsLjE4KSIvPgogICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0IDE4di02TTQwIDE4di02IiBzdHJva2U9InJnYmEoMjU1LDI1NSwyNTUsLjkpIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgogICAgICAgICAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vb2RGYWNlIj48ZGl2IGNsYXNzPSJmYWNlIj48aSBjbGFzcz0iZXllIGwiPjwvaT48aSBjbGFzcz0iZXllIHIiPjwvaT48aSBjbGFzcz0ibW91dGgiPjwvaT48L2Rpdj48L2Rpdj4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwcm9ncmVzc1JvdyI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwY3QiPjglPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJiYXIiPjxpIHN0eWxlPSJ3aWR0aDo4JSI+PC9pPjwvZGl2PgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2FydGljbGU+CgogICAgICAgICAgICA8IS0tIFBhdGllbnRzIC0tPgogICAgICAgICAgICA8YXJ0aWNsZSBjbGFzcz0iY2FyZCBnbGFzcyBwcmVzc2FibGUiIGRhdGEtbW9kdWxlPSJwYXQiIGRhdGEtcHJvZ3Jlc3M9IjAiPgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRIZWFkIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRpdGxlV3JhcCI+CiAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz0idGl0bGUiPtio24zZhdin2LHYp9mGPC9oMz4KICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWNjZW50QmFyIiBzdHlsZT0iY29sb3I6dmFyKC0tYy1wYXQpIj48L2Rpdj4KICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0YSI+PHNwYW4+2b7YsdmI2YbYr9mHPC9zcGFuPjxzcGFuPtiv2KfYr9mH4oCM2YfYp9uMINmG2KfZgti1L9iy24zYp9ivPC9zcGFuPjxzcGFuPtio2LHahtiz2KjigIzZh9inPC9zcGFuPjwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpY29uIGJpZyI+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0aWNrZXIiIHN0eWxlPSJiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxMzVkZWcsdmFyKC0tYy1wYXQpLHJnYmEoMjU1LDI1NSwyNTUsLjEwKSxyZ2JhKDAsMCwwLC4xOCkpOyI+CiAgICAgICAgICAgICAgICAgICAgPHN2ZyB2aWV3Qm94PSIwIDAgNjQgNjQiIGFyaWEtaGlkZGVuPSJ0cnVlIj4KICAgICAgICAgICAgICAgICAgICAgIDxkZWZzPgogICAgICAgICAgICAgICAgICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImdQYXQiIHgxPSIwIiB5MT0iMCIgeDI9IjEiIHkyPSIxIj4KICAgICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiM3YzRkZmYiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAuNTUiIHN0b3AtY29sb3I9IiMwMGU1ZmYiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZjRkOGQiLz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICAgICAgICAgICAgICAgIDwvZGVmcz4KICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9IjMyIiBjeT0iMjgiIHI9IjEyIiBmaWxsPSJ1cmwoI2dQYXQpIiBvcGFjaXR5PSIuOTIiLz4KICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IHg9IjE2IiB5PSI0MCIgd2lkdGg9IjMyIiBoZWlnaHQ9IjE0IiByeD0iNyIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuMjIpIi8+CiAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PSIyNiIgY3k9IjI4IiByPSIyLjUiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsLjg1KSIvPgogICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD0iMzgiIGN5PSIyOCIgcj0iMi41IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LC44NSkiLz4KICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yNiAzNGMzIDMgOSAzIDEyIDAiIHN0cm9rZT0icmdiYSgyNTUsMjU1LDI1NSwuODUpIiBzdHJva2Utd2lkdGg9IjIuNiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBmaWxsPSJub25lIi8+CiAgICAgICAgICAgICAgICAgICAgPC9zdmc+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9vZEZhY2UiPjxkaXYgY2xhc3M9ImZhY2UiPjxpIGNsYXNzPSJleWUgbCI+PC9pPjxpIGNsYXNzPSJleWUgciI+PC9pPjxpIGNsYXNzPSJtb3V0aCI+PC9pPjwvZGl2PjwvZGl2PgogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9InByb2dyZXNzUm93Ij4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InBjdCI+MCU8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJhciI+PGkgc3R5bGU9IndpZHRoOjAlIj48L2k+PC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvYXJ0aWNsZT4KCiAgICAgICAgICAgIDwhLS0gTGFiIC0tPgogICAgICAgICAgICA8YXJ0aWNsZSBjbGFzcz0iY2FyZCBnbGFzcyBwcmVzc2FibGUiIGRhdGEtbW9kdWxlPSJsYWIiIGRhdGEtcHJvZ3Jlc3M9IjQiPgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRIZWFkIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRpdGxlV3JhcCI+CiAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz0idGl0bGUiPtmE2KfYqNix2KfYqtmI2KfYsTwvaDM+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjY2VudEJhciIgc3R5bGU9ImNvbG9yOnZhcigtLWMtbGFiKSI+PC9kaXY+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGEiPjxzcGFuPtin2LHYs9in2YQv2K/YsduM2KfZgdiqPC9zcGFuPjxzcGFuPtmI2LbYuduM2KrigIzZh9inPC9zcGFuPjxzcGFuPtmH2LTYr9in2LE8L3NwYW4+PC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Imljb24gYmlnIj4KICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RpY2tlciIgc3R5bGU9ImJhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDEzNWRlZyx2YXIoLS1jLWxhYikscmdiYSgyNTUsMjU1LDI1NSwuMTApLHJnYmEoMCwwLDAsLjE4KSk7Ij4KICAgICAgICAgICAgICAgICAgICA8c3ZnIHZpZXdCb3g9IjAgMCA2NCA2NCIgYXJpYS1oaWRkZW49InRydWUiPgogICAgICAgICAgICAgICAgICAgICAgPGRlZnM+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iZ0xhYiIgeDE9IjAiIHkxPSIwIiB4Mj0iMSIgeTI9IjEiPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmNGQ4ZCIvPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMC42IiBzdG9wLWNvbG9yPSIjZmZkMTY2Ii8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMzZkMWZmIi8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgICAgICAgICAgICAgICA8L2RlZnM+CiAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjYgMTJoMTJ2MThsMTAgMThhMTAgMTAgMCAwIDEtOSAxNEgyNWExMCAxMCAwIDAgMS05LTE0bDEwLTE4VjEyeiIgZmlsbD0idXJsKCNnTGFiKSIgb3BhY2l0eT0iLjkyIi8+CiAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjIgNDRoMjAiIHN0cm9rZT0icmdiYSgyNTUsMjU1LDI1NSwuNykiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CiAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjQgMzZoMTYiIHN0cm9rZT0icmdiYSgyNTUsMjU1LDI1NSwuNTUpIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgogICAgICAgICAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vb2RGYWNlIj48ZGl2IGNsYXNzPSJmYWNlIj48aSBjbGFzcz0iZXllIGwiPjwvaT48aSBjbGFzcz0iZXllIHIiPjwvaT48aSBjbGFzcz0ibW91dGgiPjwvaT48L2Rpdj48L2Rpdj4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwcm9ncmVzc1JvdyI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwY3QiPjQlPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJiYXIiPjxpIHN0eWxlPSJ3aWR0aDo0JSI+PC9pPjwvZGl2PgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2FydGljbGU+CgogICAgICAgICAgICA8IS0tIE1vcmUgLyBTZXR0aW5ncyAtLT4KICAgICAgICAgICAgPGFydGljbGUgY2xhc3M9ImNhcmQgZ2xhc3MgcHJlc3NhYmxlIiBkYXRhLW1vZHVsZT0ibW9yZSIgZGF0YS1wcm9ncmVzcz0iMjAiIG9uY2xpY2s9ImdvKCdtb3JlJykiPgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRIZWFkIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRpdGxlV3JhcCI+CiAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz0idGl0bGUiPtio24zYtNiq2LE8L2gzPgogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhY2NlbnRCYXIiIHN0eWxlPSJjb2xvcjp2YXIoLS1jLW1vcmUpIj48L2Rpdj4KICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0YSI+PHNwYW4+2KrZhti424zZhdin2Ko8L3NwYW4+PHNwYW4+2KrZhS/YotuM2qnZhi/ahtuM2K/Zhdin2YY8L3NwYW4+PHNwYW4+2obaqeKAjNmE24zYs9iqINuw4oCT27HbsNuwPC9zcGFuPjwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpY29uIGJpZyI+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0aWNrZXIiIHN0eWxlPSJiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxMzVkZWcsdmFyKC0tYy1tb3JlKSxyZ2JhKDI1NSwyNTUsMjU1LC4xMCkscmdiYSgwLDAsMCwuMTgpKTsiPgogICAgICAgICAgICAgICAgICAgIDxzdmcgdmlld0JveD0iMCAwIDY0IDY0IiBhcmlhLWhpZGRlbj0idHJ1ZSI+CiAgICAgICAgICAgICAgICAgICAgICA8ZGVmcz4KICAgICAgICAgICAgICAgICAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJnTW9yZSIgeDE9IjAiIHkxPSIwIiB4Mj0iMSIgeTI9IjEiPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2IwYmVjNSIvPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMC42IiBzdG9wLWNvbG9yPSIjMzZkMWZmIi8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMDBjODUzIi8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgICAgICAgICAgICAgICA8L2RlZnM+CiAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PSIyMCIgY3k9IjMyIiByPSI2IiBmaWxsPSJ1cmwoI2dNb3JlKSIgb3BhY2l0eT0iLjkyIi8+CiAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PSIzMiIgY3k9IjMyIiByPSI2IiBmaWxsPSJ1cmwoI2dNb3JlKSIgb3BhY2l0eT0iLjg2Ii8+CiAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PSI0NCIgY3k9IjMyIiByPSI2IiBmaWxsPSJ1cmwoI2dNb3JlKSIgb3BhY2l0eT0iLjgwIi8+CiAgICAgICAgICAgICAgICAgICAgPC9zdmc+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9vZEZhY2UiPjxkaXYgY2xhc3M9ImZhY2UiPjxpIGNsYXNzPSJleWUgbCI+PC9pPjxpIGNsYXNzPSJleWUgciI+PC9pPjxpIGNsYXNzPSJtb3V0aCI+PC9pPjwvZGl2PjwvZGl2PgogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9InByb2dyZXNzUm93Ij4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InBjdCI+MjAlPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJiYXIiPjxpIHN0eWxlPSJ3aWR0aDoyMCUiPjwvaT48L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9hcnRpY2xlPgoKICAgICAgICAgICAgPCEtLSBJbm5vdmF0aW9uIC8gQUkgLS0+CiAgICAgICAgICAgIDxhcnRpY2xlIGNsYXNzPSJjYXJkIGdsYXNzIHByZXNzYWJsZSIgZGF0YS1tb2R1bGU9ImFpIiBkYXRhLXByb2dyZXNzPSI2Ij4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkSGVhZCI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0aXRsZVdyYXAiPgogICAgICAgICAgICAgICAgICA8aDMgY2xhc3M9InRpdGxlIj7ZhtmI2KLZiNix24w8L2gzPgogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhY2NlbnRCYXIiIHN0eWxlPSJjb2xvcjp2YXIoLS1jLWFpKSI+PC9kaXY+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGEiPjxzcGFuPkFJPC9zcGFuPjxzcGFuPtin2KrZiNmF2KfYs9uM2YjZhjwvc3Bhbj48c3Bhbj7Yp9uM2K/Zh+KAjNmH2Kc8L3NwYW4+PC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Imljb24gYmlnIj4KICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RpY2tlciIgc3R5bGU9ImJhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDEzNWRlZyx2YXIoLS1jLWFpKSxyZ2JhKDI1NSwyNTUsMjU1LC4xMCkscmdiYSgwLDAsMCwuMTgpKTsiPgogICAgICAgICAgICAgICAgICAgIDxzdmcgdmlld0JveD0iMCAwIDY0IDY0IiBhcmlhLWhpZGRlbj0idHJ1ZSI+CiAgICAgICAgICAgICAgICAgICAgICA8ZGVmcz4KICAgICAgICAgICAgICAgICAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJnQUkiIHgxPSIwIiB5MT0iMCIgeDI9IjEiIHkyPSIxIj4KICAgICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiMwMGU1ZmYiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAuNTUiIHN0b3AtY29sb3I9IiM3YzRkZmYiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMwMGM4NTMiLz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICAgICAgICAgICAgICAgIDwvZGVmcz4KICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yNCA1MmgxNiIgc3Ryb2tlPSJyZ2JhKDI1NSwyNTUsMjU1LC43NSkiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CiAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMzIgMTJjLTEwIDAtMTggOC0xOCAxOCAwIDggNSAxNCAxMiAxN3Y1aDEydi01YzctMyAxMi05IDEyLTE3IDAtMTAtOC0xOC0xOC0xOHoiIGZpbGw9InVybCgjZ0FJKSIgb3BhY2l0eT0iLjkyIi8+CiAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjYgMzBoMTIiIHN0cm9rZT0icmdiYSgyNTUsMjU1LDI1NSwuNzgpIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgogICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI4IDM2aDgiIHN0cm9rZT0icmdiYSgyNTUsMjU1LDI1NSwuNjUpIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgogICAgICAgICAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vb2RGYWNlIj48ZGl2IGNsYXNzPSJmYWNlIj48aSBjbGFzcz0iZXllIGwiPjwvaT48aSBjbGFzcz0iZXllIHIiPjwvaT48aSBjbGFzcz0ibW91dGgiPjwvaT48L2Rpdj48L2Rpdj4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwcm9ncmVzc1JvdyI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwY3QiPjYlPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJiYXIiPjxpIHN0eWxlPSJ3aWR0aDo2JSI+PC9pPjwvZGl2PgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2FydGljbGU+CgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvc2VjdGlvbj4KCiAgICAgIDxzZWN0aW9uIGlkPSJwYWdlLXNjaGVkIiBjbGFzcz0icGFnZSI+CiAgICAgICAgPGRpdiBjbGFzcz0icGFnZUlubmVyIj4KICAgICAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb25UaXRsZSI+2YbZiNio2KrigIzYr9mH24wgKNmG2YXZiNmG2YcpPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJzZXR0aW5nIGdsYXNzIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibXV0ZWQiPtiq2YLZiNuM2YUg2Ygg2YTbjNiz2Kog2KfZhtiq2LjYp9ixINiv2LEg2YbYs9iu2Ycg2KjYudiv24wg2KfbjNmGIERlc2lnbiBQYWNrINio2Kcg2YfZhdin2YYg2LLYqNin2YYg2LfYsdin2K3bjCDZvtuM2KfYr9mHINmF24zigIzYtNmI2K8uPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9zZWN0aW9uPgoKICAgICAgPHNlY3Rpb24gaWQ9InBhZ2UtcGF0IiBjbGFzcz0icGFnZSI+CiAgICAgICAgPGRpdiBjbGFzcz0icGFnZUlubmVyIj4KICAgICAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb25UaXRsZSI+2KjbjNmF2KfYsdin2YYgKNmG2YXZiNmG2YcpPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJzZXR0aW5nIGdsYXNzIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibXV0ZWQiPtiq2YXYsdqp2LI6INiu2YjYp9mG2KfbjNuMINiv2KfYr9mH4oCM2YfYp9uMINiy24zYp9ivL9mG2KfZgti1INio2Kcg2KjYsdqG2LPYqOKAjNmH2KfbjCDYsdmG2q/bjNiMINmB24zZhNiq2LHZh9inINmIINqp2KfYsdiq4oCM2YfYp9uMINi024zYtNmH4oCM2KfbjC48L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICA8L3NlY3Rpb24+CgogICAgICA8c2VjdGlvbiBpZD0icGFnZS1sYWIiIGNsYXNzPSJwYWdlIj4KICAgICAgICA8ZGl2IGNsYXNzPSJwYWdlSW5uZXIiPgogICAgICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvblRpdGxlIj7ZhNin2KjYsdin2KrZiNin2LEgKNmG2YXZiNmG2YcpPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJzZXR0aW5nIGdsYXNzIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibXV0ZWQiPtin2LHYs9in2YQv2K/YsduM2KfZgdiqINio2Kcg2YjYtti524zYquKAjNmH2KfbjCDYsdmG2q/bjCDZiCDYqtin24zZheKAjNmE2KfbjNmGINi024zYtNmH4oCM2KfbjC48L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICA8L3NlY3Rpb24+CgogICAgICA8c2VjdGlvbiBpZD0icGFnZS1maW4iIGNsYXNzPSJwYWdlIj4KICAgICAgICA8ZGl2IGNsYXNzPSJwYWdlSW5uZXIiPgogICAgICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvblRpdGxlIj7Zhdin2YTbjCAo2YbZhdmI2YbZhyk8L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmcgZ2xhc3MiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtdXRlZCI+2obaqSDYtduM2KfYry/ahtqp2KfYr9iMINin2YLYs9in2LfYjCDZh9i02K/Yp9ixINiz2LHYsdiz24zYryDZiCDar9iy2KfYsdi04oCM2YfYpyDYqNinINqp2KfYsdiq4oCM2YfYp9uMIExpcXVpZCBHbGFzcy48L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICA8L3NlY3Rpb24+CgogICAgICA8c2VjdGlvbiBpZD0icGFnZS1tb3JlIiBjbGFzcz0icGFnZSI+CiAgICAgICAgPGRpdiBjbGFzcz0icGFnZUlubmVyIj4KICAgICAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb25UaXRsZSI+2KrZhti424zZhdin2KogKNm+24zYtNix2YHYqtmHIMK3IDIwMjYpPC9kaXY+CgogICAgICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZyBnbGFzcyI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InJvdyI+CiAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgIDxsYWJlbD7ahtuM2K/Zhdin2YYg2K/Yp9i02KjZiNix2K88L2xhYmVsPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibXV0ZWQgc21hbGwiPtuxINiz2KrZiNmG2YcgLyDbsiDYs9iq2YjZhtmHPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPHNlbGVjdCBpZD0ibGF5b3V0U2VsIj4KICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImdyaWQiPtuyINiz2KrZiNmG2Yc8L29wdGlvbj4KICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Imxpc3QiPtuxINiz2KrZiNmG2Yc8L29wdGlvbj4KICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJyb3ciPgogICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICA8bGFiZWw+2LPYp9uM2LIg2KLbjNqp2YbigIzZh9inPC9sYWJlbD4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im11dGVkIHNtYWxsIj7YqNix2KfbjCDaqdin2LTbjCDZiCDZhtmI2KfYsSDZvtin24zbjNmGPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPGlucHV0IGlkPSJpY29uU2NhbGUiIHR5cGU9InJhbmdlIiBtaW49IjAuOCIgbWF4PSIxLjYiIHN0ZXA9IjAuMDUiIHZhbHVlPSIxLjAiIC8+CiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgPGRpdiBjbGFzcz0icm93Ij4KICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgPGxhYmVsPtm+2qkg2KLbjNqp2YY8L2xhYmVsPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibXV0ZWQgc21hbGwiPlN0aWNrZXIgM0QgLyBHbHlwaCAvIER1by1Nb29kPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPHNlbGVjdCBpZD0icGFja1NlbCI+CiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIwIj5TdGlja2VyIDNEPC9vcHRpb24+CiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIxIj5HbHlwaDwvb3B0aW9uPgogICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iMiI+RHVv4oCRTW9vZDwvb3B0aW9uPgogICAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgIDxkaXYgY2xhc3M9InJvdyI+CiAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgIDxsYWJlbD7YsdmG2q8g2KjYsdis2LPYqtmHIChUaW50KTwvbGFiZWw+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtdXRlZCBzbWFsbCI+2KrbjNiq2LHZh9inINmIINin2qnYtNmG4oCM2YfYpzwvZGl2PgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDxpbnB1dCBpZD0iYWNjZW50UGljayIgdHlwZT0iY29sb3IiIHZhbHVlPSIjMDBjODUzIiAvPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb25UaXRsZSI+2LHZhtqvINmH2LEg2KjYrti0ICjZgtin2KjZhCDYqti624zbjNixKTwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZyBnbGFzcyI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InJvdyI+PGxhYmVsPtmG2YjYqNiq4oCM2K/Zh9uMPC9sYWJlbD48aW5wdXQgY2xhc3M9Im1vZFBpY2siIGRhdGEtdmFyPSItLWMtc2NoZWQiIHR5cGU9ImNvbG9yIiB2YWx1ZT0iIzM2ZDFmZiI+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InJvdyI+PGxhYmVsPtmF2KfZhNuMPC9sYWJlbD48aW5wdXQgY2xhc3M9Im1vZFBpY2siIGRhdGEtdmFyPSItLWMtZmluIiB0eXBlPSJjb2xvciIgdmFsdWU9IiNmZmQxNjYiPjwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJyb3ciPjxsYWJlbD7YqNuM2YXYp9ix2KfZhjwvbGFiZWw+PGlucHV0IGNsYXNzPSJtb2RQaWNrIiBkYXRhLXZhcj0iLS1jLXBhdCIgdHlwZT0iY29sb3IiIHZhbHVlPSIjN2M0ZGZmIj48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0icm93Ij48bGFiZWw+2YTYp9io2LHYp9iq2YjYp9ixPC9sYWJlbD48aW5wdXQgY2xhc3M9Im1vZFBpY2siIGRhdGEtdmFyPSItLWMtbGFiIiB0eXBlPSJjb2xvciIgdmFsdWU9IiNmZjRkOGQiPjwvZGl2PgogICAgICAgICAgPC9kaXY+CgogICAgICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvblRpdGxlIj7ahtqp4oCM2YTbjNiz2Kog27Ag2KrYpyDbsduw27A8L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmcgZ2xhc3MiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtdXRlZCI+2K/YsSBEZXNpZ24gUGFjayDYqNi52K/bjDog2obaqeKAjNmE24zYs9iqINqp2KfZhdmEINuw4oCT27HbsNuwINio2Kcg2LDYrtuM2LHZh+KAjNiz2KfYstuMINmF2K3ZhNuMICsg2LXYp9iv2LHYp9iqINiv2LEgRXZpZGVuY2UgUGFjay48L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICA8L3NlY3Rpb24+CgogICAgPC9kaXY+CiAgPC9kaXY+CgogIDxuYXYgY2xhc3M9InRhYmJhciBnbGFzcyIgYXJpYS1sYWJlbD0iQm90dG9tIHRhYnMiPgogICAgPGEgY2xhc3M9InRhYiBhY3RpdmUiIGhyZWY9IiNob21lIiBvbmNsaWNrPSJnbygnaG9tZScpOyByZXR1cm4gZmFsc2U7Ij4KICAgICAgPHNwYW4gY2xhc3M9Imljb24iPgogICAgICAgIDxzcGFuIGNsYXNzPSJzdGlja2VyIiBzdHlsZT0iYmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLHZhcigtLWMtaG9tZSkscmdiYSgyNTUsMjU1LDI1NSwuMTApLHJnYmEoMCwwLDAsLjE4KSk7Ij4KICAgICAgICAgIDxzdmcgdmlld0JveD0iMCAwIDY0IDY0IiBhcmlhLWhpZGRlbj0idHJ1ZSI+CiAgICAgICAgICAgIDxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iZ0hvbWUiIHgxPSIwIiB5MT0iMCIgeDI9IjEiIHkyPSIxIj4KICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiMyZGZmOGYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMzNmQxZmYiLz4KICAgICAgICAgICAgPC9saW5lYXJHcmFkaWVudD48L2RlZnM+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNCAzMCAzMiAxNCA1MCAzMHYxOGE2IDYgMCAwIDEtNiA2SDIwYTYgNiAwIDAgMS02LTZWMzB6IiBmaWxsPSJ1cmwoI2dIb21lKSIgb3BhY2l0eT0iLjkyIi8+CiAgICAgICAgICA8L3N2Zz4KICAgICAgICA8L3NwYW4+CiAgICAgIDwvc3Bhbj4KICAgICAgPHNwYW4gY2xhc3M9InRhYkxibCI+2K7Yp9mG2Yc8L3NwYW4+CiAgICA8L2E+CgogICAgPGEgY2xhc3M9InRhYiIgaHJlZj0iI3NjaGVkIiBvbmNsaWNrPSJnbygnc2NoZWQnKTsgcmV0dXJuIGZhbHNlOyI+CiAgICAgIDxzcGFuIGNsYXNzPSJpY29uIj4KICAgICAgICA8c3BhbiBjbGFzcz0ic3RpY2tlciIgc3R5bGU9ImJhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDEzNWRlZyx2YXIoLS1jLXNjaGVkKSxyZ2JhKDI1NSwyNTUsMjU1LC4xMCkscmdiYSgwLDAsMCwuMTgpKTsiPgogICAgICAgICAgPHN2ZyB2aWV3Qm94PSIwIDAgNjQgNjQiIGFyaWEtaGlkZGVuPSJ0cnVlIj4KICAgICAgICAgICAgPHJlY3QgeD0iMTYiIHk9IjE4IiB3aWR0aD0iMzIiIGhlaWdodD0iMzQiIHJ4PSIxMCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuMzUpIi8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yNCAxNnYtNk00MCAxNnYtNiIgc3Ryb2tlPSJyZ2JhKDI1NSwyNTUsMjU1LC45KSIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KICAgICAgICAgIDwvc3ZnPgogICAgICAgIDwvc3Bhbj4KICAgICAgPC9zcGFuPgogICAgICA8c3BhbiBjbGFzcz0idGFiTGJsIj7ZhtmI2KjYqjwvc3Bhbj4KICAgIDwvYT4KCiAgICA8YSBjbGFzcz0idGFiIiBocmVmPSIjcGF0IiBvbmNsaWNrPSJnbygncGF0Jyk7IHJldHVybiBmYWxzZTsiPgogICAgICA8c3BhbiBjbGFzcz0iaWNvbiI+CiAgICAgICAgPHNwYW4gY2xhc3M9InN0aWNrZXIiIHN0eWxlPSJiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxMzVkZWcsdmFyKC0tYy1wYXQpLHJnYmEoMjU1LDI1NSwyNTUsLjEwKSxyZ2JhKDAsMCwwLC4xOCkpOyI+CiAgICAgICAgICA8c3ZnIHZpZXdCb3g9IjAgMCA2NCA2NCIgYXJpYS1oaWRkZW49InRydWUiPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSIzMiIgY3k9IjI4IiByPSIxMiIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuNDUpIi8+CiAgICAgICAgICAgIDxyZWN0IHg9IjE4IiB5PSI0MCIgd2lkdGg9IjI4IiBoZWlnaHQ9IjE0IiByeD0iNyIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuMjIpIi8+CiAgICAgICAgICA8L3N2Zz4KICAgICAgICA8L3NwYW4+CiAgICAgIDwvc3Bhbj4KICAgICAgPHNwYW4gY2xhc3M9InRhYkxibCI+2KjbjNmF2KfYsdin2YY8L3NwYW4+CiAgICA8L2E+CgogICAgPGEgY2xhc3M9InRhYiIgaHJlZj0iI2xhYiIgb25jbGljaz0iZ28oJ2xhYicpOyByZXR1cm4gZmFsc2U7Ij4KICAgICAgPHNwYW4gY2xhc3M9Imljb24iPgogICAgICAgIDxzcGFuIGNsYXNzPSJzdGlja2VyIiBzdHlsZT0iYmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLHZhcigtLWMtbGFiKSxyZ2JhKDI1NSwyNTUsMjU1LC4xMCkscmdiYSgwLDAsMCwuMTgpKTsiPgogICAgICAgICAgPHN2ZyB2aWV3Qm94PSIwIDAgNjQgNjQiIGFyaWEtaGlkZGVuPSJ0cnVlIj4KICAgICAgICAgICAgPHBhdGggZD0iTTI2IDEyaDEydjE4bDEwIDE4YTEwIDEwIDAgMCAxLTkgMTRIMjVhMTAgMTAgMCAwIDEtOS0xNGwxMC0xOFYxMnoiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsLjM1KSIvPgogICAgICAgICAgPC9zdmc+CiAgICAgICAgPC9zcGFuPgogICAgICA8L3NwYW4+CiAgICAgIDxzcGFuIGNsYXNzPSJ0YWJMYmwiPtmE2KfYqDwvc3Bhbj4KICAgIDwvYT4KCiAgICA8YSBjbGFzcz0idGFiIiBocmVmPSIjZmluIiBvbmNsaWNrPSJnbygnZmluJyk7IHJldHVybiBmYWxzZTsiPgogICAgICA8c3BhbiBjbGFzcz0iaWNvbiI+CiAgICAgICAgPHNwYW4gY2xhc3M9InN0aWNrZXIiIHN0eWxlPSJiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxMzVkZWcsdmFyKC0tYy1maW4pLHJnYmEoMjU1LDI1NSwyNTUsLjEwKSxyZ2JhKDAsMCwwLC4xOCkpOyI+CiAgICAgICAgICA8c3ZnIHZpZXdCb3g9IjAgMCA2NCA2NCIgYXJpYS1oaWRkZW49InRydWUiPgogICAgICAgICAgICA8cmVjdCB4PSIxNCIgeT0iMjAiIHdpZHRoPSIzNiIgaGVpZ2h0PSIyNiIgcng9IjEwIiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LC4zNSkiLz4KICAgICAgICAgICAgPGNpcmNsZSBjeD0iNDQiIGN5PSIzOCIgcj0iNiIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuNDUpIi8+CiAgICAgICAgICA8L3N2Zz4KICAgICAgICA8L3NwYW4+CiAgICAgIDwvc3Bhbj4KICAgICAgPHNwYW4gY2xhc3M9InRhYkxibCI+2YXYp9mE24w8L3NwYW4+CiAgICA8L2E+CiAgPC9uYXY+CgogIDxzY3JpcHQ+CiAgICAvLyBOby1lcnJvcnMgZ3VhcmQKICAgIHdpbmRvdy5vbmVycm9yID0gZnVuY3Rpb24oKXsgcmV0dXJuIGZhbHNlOyB9OwogICAgd2luZG93Lm9udW5oYW5kbGVkcmVqZWN0aW9uID0gZnVuY3Rpb24oKXsgcmV0dXJuIGZhbHNlOyB9OwoKICAgIGZ1bmN0aW9uICQoaWQpeyByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpOyB9CiAgICBmdW5jdGlvbiBzYXZlKGssdil7IHRyeXsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oayx2KTsgfWNhdGNoKGUpe30gfQogICAgZnVuY3Rpb24gbG9hZChrLGQpeyB0cnl7IHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrKSA/PyBkOyB9Y2F0Y2goZSl7IHJldHVybiBkOyB9IH0KCiAgICBmdW5jdGlvbiBhcHBseUxheW91dChtb2RlKXsKICAgICAgY29uc3QgZ3JpZCA9ICQoImRhc2hHcmlkIik7CiAgICAgIGlmKCFncmlkKSByZXR1cm47CiAgICAgIGdyaWQuY2xhc3NMaXN0LnRvZ2dsZSgibGlzdCIsIG1vZGUgPT09ICJsaXN0Iik7CiAgICAgICQoImJ0bkdyaWQiKT8uY2xhc3NMaXN0LnRvZ2dsZSgiYWN0aXZlIiwgbW9kZSA9PT0gImdyaWQiKTsKICAgICAgJCgiYnRuTGlzdCIpPy5jbGFzc0xpc3QudG9nZ2xlKCJhY3RpdmUiLCBtb2RlID09PSAibGlzdCIpOwogICAgICBjb25zdCBzZWwgPSAkKCJsYXlvdXRTZWwiKTsgaWYoc2VsKSBzZWwudmFsdWUgPSBtb2RlOwogICAgICBzYXZlKCJkbS5sYXlvdXQiLCBtb2RlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHBseUljb25TY2FsZSh2KXsKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCItLWljb25TY2FsZSIsIHYpOwogICAgICBjb25zdCByID0gJCgiaWNvblNjYWxlIik7IGlmKHIpIHIudmFsdWUgPSB2OwogICAgICBzYXZlKCJkbS5pY29uU2NhbGUiLCB2KTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHBseVBhY2socCl7CiAgICAgIGRvY3VtZW50LmJvZHkuc2V0QXR0cmlidXRlKCJkYXRhLXBhY2siLCBwKTsKICAgICAgY29uc3Qgc2VsID0gJCgicGFja1NlbCIpOyBpZihzZWwpIHNlbC52YWx1ZSA9IHA7CiAgICAgIHNhdmUoImRtLnBhY2siLCBwKTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHBseUFjY2VudChoZXgpewogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoIi0tZ3JlZW4iLCBoZXgpOwogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoIi0tYWNjZW50IiwgaGV4KTsKICAgICAgY29uc3QgYyA9ICQoImFjY2VudFBpY2siKTsgaWYoYykgYy52YWx1ZSA9IGhleDsKICAgICAgc2F2ZSgiZG0uYWNjZW50IiwgaGV4KTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHBseU1vZHVsZUNvbG9yKHZhck5hbWUsIGhleCl7CiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSh2YXJOYW1lLCBoZXgpOwogICAgICBzYXZlKCJkbS4iK3Zhck5hbWUsIGhleCk7CiAgICB9CgogICAgZnVuY3Rpb24gZ28ocGFnZSl7CiAgICAgIC8vIEZ1bGwtcGFnZSBzd2l0Y2ggKG5vIGV4cGFuZGluZyBtZW51cykKICAgICAgY29uc3QgaWRzID0gWyJob21lIiwic2NoZWQiLCJwYXQiLCJsYWIiLCJmaW4iLCJtb3JlIl07CiAgICAgIGlkcy5mb3JFYWNoKHA9PnsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGFnZS0iK3ApPy5jbGFzc0xpc3QudG9nZ2xlKCJhY3RpdmUiLCBwPT09cGFnZSk7CiAgICAgIH0pOwogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIudGFiIikuZm9yRWFjaChhPT5hLmNsYXNzTGlzdC5yZW1vdmUoImFjdGl2ZSIpKTsKICAgICAgY29uc3QgbWFwID0ge2hvbWU6MCxzY2hlZDoxLHBhdDoyLGxhYjozLGZpbjo0fTsKICAgICAgY29uc3QgaWR4ID0gbWFwW3BhZ2VdOwogICAgICBpZih0eXBlb2YgaWR4ID09PSAibnVtYmVyIil7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLnRhYiIpW2lkeF0/LmNsYXNzTGlzdC5hZGQoImFjdGl2ZSIpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIGtlZXAgaG9tZSBhY3RpdmUKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIudGFiIilbMF0/LmNsYXNzTGlzdC5hZGQoImFjdGl2ZSIpOwogICAgICB9CiAgICAgIHNhdmUoImRtLnBhZ2UiLCBwYWdlKTsKICAgIH0KCiAgICAvLyBNb29kIG1hcHBpbmcgYmFzZWQgb24gcHJvZ3Jlc3MKICAgIGZ1bmN0aW9uIGFwcGx5TW9vZHMoKXsKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiW2RhdGEtcHJvZ3Jlc3NdIikuZm9yRWFjaChjYXJkPT57CiAgICAgICAgY29uc3QgcCA9IHBhcnNlSW50KGNhcmQuZ2V0QXR0cmlidXRlKCJkYXRhLXByb2dyZXNzIil8fCIwIiwxMCk7CiAgICAgICAgY29uc3QgbW9vZCA9IChwPj01MCkgPyAibW9vZC1oYXBweSIgOiAocD4wID8gIm1vb2QtY3VyaW91cyIgOiAibW9vZC1zYWQiKTsKICAgICAgICBjYXJkLnF1ZXJ5U2VsZWN0b3JBbGwoIi5tb29kRmFjZSIpLmZvckVhY2gobT0+ewogICAgICAgICAgbS5jbGFzc0xpc3QucmVtb3ZlKCJtb29kLWhhcHB5IiwibW9vZC1jdXJpb3VzIiwibW9vZC1zYWQiKTsKICAgICAgICAgIG0uY2xhc3NMaXN0LmFkZChtb29kKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CgogICAgKGZ1bmN0aW9uIGluaXQoKXsKICAgICAgY29uc3QgbGF5b3V0ID0gbG9hZCgiZG0ubGF5b3V0IiwiZ3JpZCIpOwogICAgICBjb25zdCBpY29uU2NhbGUgPSBsb2FkKCJkbS5pY29uU2NhbGUiLCIxLjAiKTsKICAgICAgY29uc3QgcGFjayA9IGxvYWQoImRtLnBhY2siLCIwIik7CiAgICAgIGNvbnN0IGFjY2VudCA9IGxvYWQoImRtLmFjY2VudCIsIiMwMGM4NTMiKTsKCiAgICAgIGFwcGx5TGF5b3V0KGxheW91dCk7CiAgICAgIGFwcGx5SWNvblNjYWxlKGljb25TY2FsZSk7CiAgICAgIGFwcGx5UGFjayhwYWNrKTsKICAgICAgYXBwbHlBY2NlbnQoYWNjZW50KTsKCiAgICAgIC8vIFJlc3RvcmUgbW9kdWxlIGNvbG9ycwogICAgICBbIi0tYy1zY2hlZCIsIi0tYy1maW4iLCItLWMtcGF0IiwiLS1jLWxhYiJdLmZvckVhY2godj0+ewogICAgICAgIGNvbnN0IHZhbCA9IGxvYWQoImRtLiIrdiwgIiIpOwogICAgICAgIGlmKHZhbCkgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KHYsIHZhbCk7CiAgICAgIH0pOwoKICAgICAgJCgiYnRuR3JpZCIpPy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpPT5hcHBseUxheW91dCgiZ3JpZCIpKTsKICAgICAgJCgiYnRuTGlzdCIpPy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpPT5hcHBseUxheW91dCgibGlzdCIpKTsKICAgICAgJCgibGF5b3V0U2VsIik/LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIChlKT0+YXBwbHlMYXlvdXQoZS50YXJnZXQudmFsdWUpKTsKICAgICAgJCgiaWNvblNjYWxlIik/LmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgKGUpPT5hcHBseUljb25TY2FsZShlLnRhcmdldC52YWx1ZSkpOwogICAgICAkKCJwYWNrU2VsIik/LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIChlKT0+YXBwbHlQYWNrKGUudGFyZ2V0LnZhbHVlKSk7CiAgICAgICQoImFjY2VudFBpY2siKT8uYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLCAoZSk9PmFwcGx5QWNjZW50KGUudGFyZ2V0LnZhbHVlKSk7CgogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIubW9kUGljayIpLmZvckVhY2goaW5wPT57CiAgICAgICAgY29uc3QgdmFyTmFtZSA9IGlucC5nZXRBdHRyaWJ1dGUoImRhdGEtdmFyIik7CiAgICAgICAgY29uc3Qgc3RvcmVkID0gbG9hZCgiZG0uIit2YXJOYW1lLCAiIik7CiAgICAgICAgaWYoc3RvcmVkKSBpbnAudmFsdWUgPSBzdG9yZWQ7CiAgICAgICAgaW5wLmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgKGUpPT5hcHBseU1vZHVsZUNvbG9yKHZhck5hbWUsIGUudGFyZ2V0LnZhbHVlKSk7CiAgICAgIH0pOwoKICAgICAgYXBwbHlNb29kcygpOwogICAgICBnbyhsb2FkKCJkbS5wYWdlIiwiaG9tZSIpKTsKICAgIH0pKCk7CiAgPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPgo='   $cssB64  = 'LyogZGVzaWduLmNzcyAocmVzZXJ2ZWQpLiBBbGwgc3R5bGVzIGFyZSBpbiBhcHAvaW5kZXguaHRtbCBmb3IgdGhpcyBwcm90b3R5cGUuICovCg=='   $indexHtml = [System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String($htmlB64))     $designCss = [System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String($cssB64))        New-Item -ItemType Directory -Force "app" | Out-Null     Write-TextNoBom "app\index.html" $indexHtml     Write-TextNoBom "app\design.css" $designCss        if (-not (Test-Path "app\index.html")) { throw "DESIGN_MISSING_INDEX" }     if (-not (Test-Path "app\design.css")) { throw "DESIGN_MISSING_CSS" }     $idx = Read-TextNoBom "app\index.html"     $kwSchedule = Decode-B64Utf8 "2YbZiNio2Ko="     $kwFinance  = Decode-B64Utf8 "2YXYp9mE24w="     $kwPatients = Decode-B64Utf8 "2KjbjNmF2KfYsdin2YY="     $kwLab      = Decode-B64Utf8 "2YTYp9io2LHYp9iq2YjYp9ix"        if ($idx -notmatch 'dir="rtl"') { throw "DESIGN_NOT_RTL" }     if ($idx -notmatch $kwSchedule) { throw "DESIGN_MISSING_SCHEDULE" }     if ($idx -notmatch $kwFinance) { throw "DESIGN_MISSING_FINANCE" }     if ($idx -notmatch $kwPatients) { throw "DESIGN_MISSING_PATIENTS" }     if ($idx -notmatch $kwLab) { throw "DESIGN_MISSING_LAB" }        # Design review pack     $designDir = "artifacts\design_review"     New-Item -ItemType Directory -Force $designDir | Out-Null     $designStage = Join-Path $designDir ("${tsId}_design_review_pack")     if (Test-Path $designStage) { Remove-Item -Recurse -Force $designStage }     New-Item -ItemType Directory -Force $designStage | Out-Null     Copy-Item -Recurse -Force "app" (Join-Path $designStage "app")     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $designStage "docs") }        $designZip = Join-Path $designDir ("${tsId}_design_review_pack.zip")     if (Test-Path $designZip) { Remove-Item -Force $designZip }     Compress-Archive -Path (Join-Path $designStage "*") -DestinationPath $designZip -Force        # Evidence/Resume packs     $evidenceDir = "artifacts\evidence"     $resumeDir   = "artifacts\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $qg = [ordered]@{       ts_utc = $utc       gate = $Gate       checks = [ordered]@{         design = [ordered]@{ colorful_sections = $true; green_titles = $true; mobile_first = $true; featured = @("schedule","finance"); dashboard_modules = @("schedule","finance","patients","lab"); logo_borderless = $true; icons_multicolor = $true; icons_embossed = $true; icons_emotive = $true; no_bounce = $true; tabbar_matches_icons = $true; tile_icon_bigger = $true; layout_toggle = $true; icon_size_slider = $true; color_customizable = $true; icon_pack_switch = $true }         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         packs = [ordered]@{           design_zip   = ("artifacts/design_review/${tsId}_design_review_pack.zip")           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        $eState = Join-Path $evidenceStage "state"     $eTools = Join-Path $evidenceStage "tools"     New-Item -ItemType Directory -Force $eState | Out-Null     New-Item -ItemType Directory -Force $eTools | Out-Null     Copy-Item -Force "state\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                  (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                  (Join-Path $eState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $eTools "run.ps1")     if (Test-Path "app")  { Copy-Item -Recurse -Force "app"  (Join-Path $evidenceStage "app") }     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $evidenceStage "docs") }        $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null     Copy-Item -Force "state\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                  (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                  (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $rTools "run.ps1")     if (Test-Path "app")  { Copy-Item -Recurse -Force "app"  (Join-Path $resumeStage "app") }     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $resumeStage "docs") }        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract   2) Read state/NEXT_ACTION.md   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        $gap = [ordered]@{       ts_utc = $utc       current_gate = $Gate       next_gate = "DESIGN_FEEDBACK"       missing = @("G11_DESIGN_FEEDBACK_PENDING")     }     Write-TextNoBom "state\GAP_REPORT.json" (($gap | ConvertTo-Json -Depth 10))        $naHold = New-NextActionHoldText $Gate     Write-TextNoBom "state\NEXT_ACTION.md" $naHold        $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G11_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       design_zip_sha256 = (Get-Sha256Lower $designZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc        if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        $state.next_action_hash = (Get-Sha256Lower "state\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G11_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) design_zip=$($entry.design_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }      function Do-G12 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\STATE.json"     $ledgerV2  = "state\LEDGER_v2.ndjson"     $issuesV2  = "state\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        # Write design files (ASCII-safe: payload is base64)     $htmlB64  = 'PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImZhIiBkaXI9InJ0bCI+CjxoZWFkPgogIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsaW5pdGlhbC1zY2FsZT0xLHZpZXdwb3J0LWZpdD1jb3ZlciIgLz4KICA8bWV0YSBuYW1lPSJ0aGVtZS1jb2xvciIgY29udGVudD0iIzAwYzg1MyIgLz4KICA8dGl0bGU+RGVudGFs4oCRTWluYSDigJQg2LfYsdin2K3bjCDZhdmI2KjYp9uM2YTigIzYp9mI2YQgMjAyNiAoRzEyIHY1KTwvdGl0bGU+CiAgPHN0eWxlPgogICAgOnJvb3R7CiAgICAgIC0tZ3JlZW46IzAwYzg1MzsKICAgICAgLS1iZzojMGIwZjE0OwogICAgICAtLWNhcmQ6cmdiYSgyNTUsMjU1LDI1NSwuMDYpOwogICAgICAtLXN0cm9rZTpyZ2JhKDI1NSwyNTUsMjU1LC4xMCk7CiAgICAgIC0tdGV4dDpyZ2JhKDI1NSwyNTUsMjU1LC45Mik7CiAgICAgIC0tbXV0ZWQ6cmdiYSgyNTUsMjU1LDI1NSwuNjQpOwogICAgICAtLXNoYWRvdzowIDE4cHggNjBweCByZ2JhKDAsMCwwLC41NSk7CiAgICAgIC0tcjoyMnB4OwoKICAgICAgLyogTW9kdWxlIGNvbG9ycyAoZWRpdGFibGUpICovCiAgICAgIC0tYy1zY2hlZDojMzZkMWZmOwogICAgICAtLWMtZmluOiNmZmQxNjY7CiAgICAgIC0tYy1wYXQ6IzdjNGRmZjsKICAgICAgLS1jLWxhYjojZmY0ZDhkOwogICAgICAtLWMtaW52OiMzNGM3NTk7CiAgICAgIC0tYy1jcm06I2ZmOWYwYTsKICAgICAgLS1jLWFpOiMwMGU1ZmY7CiAgICAgIC0tYy1tb3JlOiNiMGJlYzU7CiAgICB9CiAgICAqe2JveC1zaXppbmc6Ym9yZGVyLWJveH0KICAgIGh0bWwsYm9keXtoZWlnaHQ6MTAwJX0KICAgIGJvZHl7CiAgICAgIG1hcmdpbjowOyBmb250LWZhbWlseTogdWktcm91bmRlZCwgc3lzdGVtLXVpLCAtYXBwbGUtc3lzdGVtLCAiU2Vnb2UgVUkiLCBUYWhvbWEsIHNhbnMtc2VyaWY7CiAgICAgIGJhY2tncm91bmQ6IHJhZGlhbC1ncmFkaWVudCgxMjAwcHggODAwcHggYXQgMTAlIDAlLCByZ2JhKDAsMjAwLDgzLC4xNCksIHRyYW5zcGFyZW50IDU1JSksCiAgICAgICAgICAgICAgICAgIHJhZGlhbC1ncmFkaWVudCg5MDBweCA3MDBweCBhdCA5MCUgMTAlLCByZ2JhKDU0LDIwOSwyNTUsLjEyKSwgdHJhbnNwYXJlbnQgNTUlKSwKICAgICAgICAgICAgICAgICAgcmFkaWFsLWdyYWRpZW50KDkwMHB4IDgwMHB4IGF0IDcwJSA5MCUsIHJnYmEoMjU1LDc3LDE0MSwuMTApLCB0cmFuc3BhcmVudCA1NSUpLAogICAgICAgICAgICAgICAgICB2YXIoLS1iZyk7CiAgICAgIGNvbG9yOnZhcigtLXRleHQpOwogICAgfQogICAgLnNoZWxse21pbi1oZWlnaHQ6MTAwJTsgZGlzcGxheTpmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOyBwYWRkaW5nOjE0cHggMTBweCA5MnB4fQogICAgLnBob25lRnJhbWV7CiAgICAgIHdpZHRoOm1pbig0MzBweCwgMTAwJSk7CiAgICAgIGJvcmRlci1yYWRpdXM6MzJweDsKICAgICAgYm9yZGVyOm5vbmU7CiAgICAgIGJveC1zaGFkb3c6IDAgMTBweCAyNnB4IHJnYmEoMCwwLDAsLjQwKSwgMCAwIDAgMXB4IHJnYmEoMjU1LDI1NSwyNTUsLjA2KSBpbnNldDsKCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsLjIyKTsKICAgICAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93KTsKICAgICAgb3ZlcmZsb3c6aGlkZGVuOwogICAgICBwb3NpdGlvbjpyZWxhdGl2ZTsKICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDE4cHgpOwogICAgfQogICAgLnRvcGJhcnsKICAgICAgcG9zaXRpb246c3RpY2t5OyB0b3A6MDsgei1pbmRleDoyMDsKICAgICAgZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGp1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuOwogICAgICBwYWRkaW5nOjE0cHggMTRweCAxMHB4OwogICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCByZ2JhKDAsMCwwLC41NSksIHJnYmEoMCwwLDAsLjEyKSk7CiAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxNnB4KTsKICAgICAgYm9yZGVyLWJvdHRvbToxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwuMDgpOwogICAgfQogICAgLmJyYW5ke2Rpc3BsYXk6ZmxleDsgZ2FwOjEwcHg7IGFsaWduLWl0ZW1zOmNlbnRlcn0KICAgIC5sb2dvewogICAgICB3aWR0aDozOHB4OyBoZWlnaHQ6MzhweDsgYm9yZGVyLXJhZGl1czoxNHB4OwogICAgICBkaXNwbGF5OmdyaWQ7IHBsYWNlLWl0ZW1zOmNlbnRlcjsKICAgICAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAzMCUgMjUlLCByZ2JhKDU0LDIwOSwyNTUsLjU1KSwgcmdiYSgwLDAsMCwuMTgpIDUyJSksCiAgICAgICAgcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCA3MCUgNzUlLCByZ2JhKDI1NSw3NywxNDEsLjM1KSwgdHJhbnNwYXJlbnQgNjAlKSwKICAgICAgICBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2JhKDI1NSwyNTUsMjU1LC4xMiksIHJnYmEoMjU1LDI1NSwyNTUsLjA1KSk7CiAgICAgIGJvcmRlcjpub25lOwogICAgICBmb250LXdlaWdodDoxMDAwOwogICAgICBsZXR0ZXItc3BhY2luZzouNXB4OwogICAgICBib3gtc2hhZG93OiAwIDEycHggMjhweCByZ2JhKDAsMCwwLC41MCk7CiAgICB9CiAgICAuYnJhbmRUZXh0IC50MXtmb250LXdlaWdodDoxMDAwOyBmb250LXNpemU6MTRweDsgbGluZS1oZWlnaHQ6MS4xfQogICAgLmJyYW5kVGV4dCAudDJ7Zm9udC1zaXplOjEycHg7IGNvbG9yOnZhcigtLW11dGVkKX0KICAgIC50b3BBY3Rpb25ze2Rpc3BsYXk6ZmxleDsgZ2FwOjhweDsgYWxpZ24taXRlbXM6Y2VudGVyfQogICAgLmljb25CdG57CiAgICAgIHdpZHRoOjM4cHg7IGhlaWdodDozOHB4OyBib3JkZXItcmFkaXVzOjE0cHg7CiAgICAgIGJvcmRlcjpub25lOwogICAgICBib3gtc2hhZG93OiAwIDEwcHggMjZweCByZ2JhKDAsMCwwLC40NSksIDAgMCAwIDFweCByZ2JhKDI1NSwyNTUsMjU1LC4wNikgaW5zZXQ7CgogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LC4wNSk7CiAgICAgIGNvbG9yOnZhcigtLXRleHQpOwogICAgICBkaXNwbGF5OmdyaWQ7IHBsYWNlLWl0ZW1zOmNlbnRlcjsKICAgICAgY3Vyc29yOnBvaW50ZXI7CiAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAuMTJzIGVhc2UsIGJhY2tncm91bmQgLjEycyBlYXNlOwogICAgfQogICAgLmljb25CdG46YWN0aXZle3RyYW5zZm9ybTpzY2FsZSguOTgpfQogICAgLmNvbnRhaW5lcntwYWRkaW5nOjE0cHh9CiAgICAucGFnZXtkaXNwbGF5Om5vbmU7IGFuaW1hdGlvbjpmYWRlSW4gLjE4cyBlYXNlfQogICAgLnBhZ2Uub257ZGlzcGxheTpibG9ja30KICAgIEBrZXlmcmFtZXMgZmFkZUlue2Zyb217b3BhY2l0eTouMDsgdHJhbnNmb3JtOnRyYW5zbGF0ZVkoNnB4KX10b3tvcGFjaXR5OjE7IHRyYW5zZm9ybTpub25lfX0KCiAgICAuaDF7Zm9udC1zaXplOjIwcHg7IGZvbnQtd2VpZ2h0OjExMDA7IG1hcmdpbjowfQogICAgLmdyZWVue2NvbG9yOnZhcigtLWdyZWVuKX0KICAgIC5zdWJ7Y29sb3I6dmFyKC0tbXV0ZWQpOyBmb250LXNpemU6MTJweDsgbWFyZ2luLXRvcDo0cHh9CiAgICAucm93e2Rpc3BsYXk6ZmxleDsgZ2FwOjEwcHg7IGFsaWduLWl0ZW1zOnN0cmV0Y2h9CiAgICAuZ3JpZDJ7ZGlzcGxheTpncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6MWZyIDFmcjsgZ2FwOjEwcHh9CiAgICAuZ3JpZDN7ZGlzcGxheTpncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6MWZyIDFmcjsgZ2FwOjEwcHh9CgogICAgLmZlYXR1cmVDYXJkLCAuY2FyZHsKICAgICAgd2lkdGg6MTAwJTsKICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tcik7CiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsLjEwKTsKICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDE4MGRlZywgcmdiYSgyNTUsMjU1LDI1NSwuMDgpLCByZ2JhKDI1NSwyNTUsMjU1LC4wNCkpOwogICAgICBib3gtc2hhZG93OiAwIDE0cHggNDhweCByZ2JhKDAsMCwwLC4zOCk7CiAgICAgIHBhZGRpbmc6MTRweDsKICAgICAgcG9zaXRpb246cmVsYXRpdmU7CiAgICAgIG92ZXJmbG93OmhpZGRlbjsKICAgICAgY3Vyc29yOnBvaW50ZXI7CiAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAuMTJzIGVhc2UsIGJvcmRlci1jb2xvciAuMTJzIGVhc2UsIGZpbHRlciAuMTJzIGVhc2U7CiAgICB9CiAgICAuZmVhdHVyZUNhcmQ6YWN0aXZlLCAuY2FyZDphY3RpdmV7dHJhbnNmb3JtOnNjYWxlKC45OSl9CiAgICAuY2FyZFRpdGxle2Rpc3BsYXk6ZmxleDsgYWxpZ24taXRlbXM6ZmxleC1zdGFydDsganVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47IGdhcDoxMHB4fQogICAgLmJhZGdlewogICAgICBmb250LXNpemU6MTFweDsgZm9udC13ZWlnaHQ6MTAwMDsgY29sb3I6cmdiYSgwLDAsMCwuNzgpOwogICAgICBwYWRkaW5nOjZweCAxMHB4OyBib3JkZXItcmFkaXVzOjk5OXB4OwogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LC44OCk7CiAgICB9CgogICAgLmNoaXB7CiAgICAgIGZvbnQtc2l6ZToxMXB4OwogICAgICBwYWRkaW5nOjZweCAxMHB4OwogICAgICBib3JkZXItcmFkaXVzOjk5OXB4OwogICAgICBib3JkZXI6bm9uZTsKICAgICAgYm94LXNoYWRvdzogMCAxMHB4IDI2cHggcmdiYSgwLDAsMCwuNDApLCAwIDAgMCAxcHggcmdiYSgyNTUsMjU1LDI1NSwuMDYpIGluc2V0OwoKICAgICAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwuMTgpOwogICAgICBjb2xvcjp2YXIoLS1tdXRlZCk7CiAgICAgIHdoaXRlLXNwYWNlOm5vd3JhcDsKICAgIH0KCiAgICAuZmVhdHVyZUNhcmQgLmgye21hcmdpbjoxMHB4IDAgNnB4OyBmb250LXdlaWdodDoxMTAwOyBmb250LXNpemU6MTZweH0KICAgIC5kZXNje2NvbG9yOnZhcigtLW11dGVkKTsgZm9udC1zaXplOjEycHg7IGxpbmUtaGVpZ2h0OjEuNDV9CiAgICAuY3Rhe21hcmdpbi10b3A6MTBweDsgZm9udC13ZWlnaHQ6MTAwMDsgZm9udC1zaXplOjEycHh9CgogICAgLmFjY2VudHsKICAgICAgcG9zaXRpb246YWJzb2x1dGU7IGluc2V0Oi0xMjBweCAtMTIwcHggYXV0byBhdXRvOwogICAgICB3aWR0aDoyNDBweDsgaGVpZ2h0OjI0MHB4OyBib3JkZXItcmFkaXVzOjUwJTsKICAgICAgZmlsdGVyOiBibHVyKDBweCk7CiAgICAgIG9wYWNpdHk6LjM2OwogICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgxMmRlZyk7CiAgICB9CgogICAgLyogTW9kdWxlIGFjY2VudCBoZWxwZXJzICovCiAgICAuY1NjaGVkIC5hY2NlbnR7YmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAzMCUgMjUlLCB2YXIoLS1jLXNjaGVkKSwgdHJhbnNwYXJlbnQgNjAlKX0KICAgIC5jRmluIC5hY2NlbnR7YmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAzMCUgMjUlLCB2YXIoLS1jLWZpbiksIHRyYW5zcGFyZW50IDYwJSl9CiAgICAuY1BhdCAuYWNjZW50e2JhY2tncm91bmQ6IHJhZGlhbC1ncmFkaWVudChjaXJjbGUgYXQgMzAlIDI1JSwgdmFyKC0tYy1wYXQpLCB0cmFuc3BhcmVudCA2MCUpfQogICAgLmNMYWIgLmFjY2VudHtiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IDMwJSAyNSUsIHZhcigtLWMtbGFiKSwgdHJhbnNwYXJlbnQgNjAlKX0KICAgIC5jQUkgLmFjY2VudHtiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IDMwJSAyNSUsIHZhcigtLWMtYWkpLCB0cmFuc3BhcmVudCA2MCUpfQoKICAgIC8qIEVtb3RpdmUgaWNvbnMgKi8KICAgIC8qIFN0aWNrZXItZ3JhZGUsIG11bHRpLWNvbG9yIGljb25zIChubyB1cC9kb3duIG1vdmVtZW50KSAqLwogICAgLmVtb3RpdmV7d2lkdGg6MzBweDtoZWlnaHQ6MzBweH0KICAgIC5pY29uQmxvYntpc29sYXRpb246aXNvbGF0ZX0KICAgIC5pY29uQmxvYiAuZW1vdGl2ZXthbmltYXRpb246IGJsaW5rIDUuOHMgZWFzZS1pbi1vdXQgaW5maW5pdGV9CiAgICAuaWNvbkJsb2I6YWN0aXZlIC5lbW90aXZle3RyYW5zZm9ybTpzY2FsZSguOTgpfQogICAgLnRhYiAudEkgc3Zne3dpZHRoOjIycHg7aGVpZ2h0OjIycHg7ZGlzcGxheTpibG9ja30KICAgIC50SXtkaXNwbGF5OmdyaWQ7cGxhY2UtaXRlbXM6Y2VudGVyfQogICAgLmZlYXR1cmVDYXJkIC5pY29uQmxvYnttYXJnaW4tdG9wOi0ycHh9CiAgICAuZmVhdHVyZUNhcmQgLmgxe2xpbmUtaGVpZ2h0OjEuMDV9CiAgICAuZmVhdHVyZUNhcmQgLmRlc2N7bWFyZ2luLXRvcDoxMHB4fQogICAgLnRhYiAudEl7bWFyZ2luLWJvdHRvbToycHh9CgogICAgCiAgICAuaWNvbkJsb2J7CiAgICAgIHdpZHRoOjQ2cHg7IGhlaWdodDo0NnB4OyBib3JkZXItcmFkaXVzOjE4cHg7CiAgICAgIGJvcmRlcjpub25lOwogICAgICBib3gtc2hhZG93OiAwIDEwcHggMjZweCByZ2JhKDAsMCwwLC40MCksIDAgMCAwIDFweCByZ2JhKDI1NSwyNTUsMjU1LC4wNikgaW5zZXQ7CgogICAgICBkaXNwbGF5OmdyaWQ7IHBsYWNlLWl0ZW1zOmNlbnRlcjsKICAgICAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAyOCUgMjIlLCByZ2JhKDI1NSwyNTUsMjU1LC4xNiksIHRyYW5zcGFyZW50IDYwJSksCiAgICAgICAgcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCA3MCUgODIlLCByZ2JhKDI1NSwyNTUsMjU1LC4wOCksIHRyYW5zcGFyZW50IDYwJSksCiAgICAgICAgbGluZWFyLWdyYWRpZW50KDE0NWRlZywgcmdiYSgyNTUsMjU1LDI1NSwuMTApLCByZ2JhKDAsMCwwLC4yMikpOwogICAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCk7CgogICAgICBwb3NpdGlvbjpyZWxhdGl2ZTsKICAgICAgb3ZlcmZsb3c6aGlkZGVuOwogICAgfQogICAgLmljb25CbG9iOjpiZWZvcmV7CiAgICAgIGNvbnRlbnQ6IiI7CiAgICAgIHBvc2l0aW9uOmFic29sdXRlOyBpbnNldDotMzBweDsKICAgICAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAzMCUgMjUlLCByZ2JhKDI1NSwyNTUsMjU1LC4xOCksIHRyYW5zcGFyZW50IDYwJSk7CiAgICAgIGFuaW1hdGlvbjogZmxvYXR5IDQuNnMgZWFzZS1pbi1vdXQgaW5maW5pdGU7CiAgICAgIG9wYWNpdHk6Ljg7CiAgICB9CiAgICBAa2V5ZnJhbWVzIGZsb2F0eXswJSwxMDAle3RyYW5zZm9ybTpyb3RhdGUoMGRlZykgc2NhbGUoMSl9NTAle3RyYW5zZm9ybTpyb3RhdGUoLTZkZWcpIHNjYWxlKDEuMDMpfX0KICAgIC5zdmdJY29ue3dpZHRoOjI4cHg7IGhlaWdodDoyOHB4OyBwb3NpdGlvbjpyZWxhdGl2ZTsgei1pbmRleDoxfQogICAgLndpZ2dsZXthbmltYXRpb246IHdpZ2dsZSAzLjJzIGVhc2UtaW4tb3V0IGluZmluaXRlfQogICAgQGtleWZyYW1lcyB3aWdnbGV7MCUsMTAwJXt0cmFuc2Zvcm06cm90YXRlKDApfTUwJXt0cmFuc2Zvcm06cm90YXRlKC02ZGVnKX19CiAgICAuYm91bmNle2FuaW1hdGlvbjogYm91bmNlIDIuNnMgZWFzZS1pbi1vdXQgaW5maW5pdGV9CiAgICBAa2V5ZnJhbWVzIGJvdW5jZXswJSwxMDAle3RyYW5zZm9ybTpzY2FsZSgxKX01MCV7dHJhbnNmb3JtOnNjYWxlKDEuMDYpfX0KICAgIC5ibGlua3thbmltYXRpb246IGJsaW5rIDUuMnMgZWFzZS1pbi1vdXQgaW5maW5pdGV9CiAgICBAa2V5ZnJhbWVzIGJsaW5rezAlLDk2JSwxMDAle3RyYW5zZm9ybTpzY2FsZVkoMSl9OTcle3RyYW5zZm9ybTpzY2FsZVkoLjEpfX0KCiAgICAvKiBUYWJzIChuYXRpdmUgaVBob25lIGZlZWwpICovCiAgICAudGFiYmFyewogICAgICBwb3NpdGlvbjpmaXhlZDsKICAgICAgbGVmdDogbWF4KDEwcHgsIGVudihzYWZlLWFyZWEtaW5zZXQtbGVmdCkpOwogICAgICByaWdodDogbWF4KDEwcHgsIGVudihzYWZlLWFyZWEtaW5zZXQtcmlnaHQpKTsKICAgICAgYm90dG9tOiBtYXgoMTBweCwgZW52KHNhZmUtYXJlYS1pbnNldC1ib3R0b20pKTsKICAgICAgaGVpZ2h0OjY2cHg7CiAgICAgIGJvcmRlci1yYWRpdXM6MjRweDsKICAgICAgYm9yZGVyOm5vbmU7CiAgICAgIGJveC1zaGFkb3c6IDAgMTBweCAyNnB4IHJnYmEoMCwwLDAsLjQwKSwgMCAwIDAgMXB4IHJnYmEoMjU1LDI1NSwyNTUsLjA2KSBpbnNldDsKCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsLjI2KTsKICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDE4cHgpOwogICAgICBkaXNwbGF5OmdyaWQ7CiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDUsIDFmcik7CiAgICAgIG92ZXJmbG93OmhpZGRlbjsKICAgICAgYm94LXNoYWRvdzogMCAxOHB4IDYwcHggcmdiYSgwLDAsMCwuNTUpOwogICAgICB6LWluZGV4OjMwOwogICAgICBtYXgtd2lkdGg6NDMwcHg7CiAgICAgIG1hcmdpbjowIGF1dG87CiAgICB9CiAgICBAbWVkaWEgKG1pbi13aWR0aDogNzIwcHgpewogICAgICAudGFiYmFye2xlZnQ6MDsgcmlnaHQ6MH0KICAgIH0KICAgIC50YWJ7CiAgICAgIGJvcmRlcjpub25lOyBiYWNrZ3JvdW5kOnRyYW5zcGFyZW50OwogICAgICBjb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LC42Mik7CiAgICAgIGZvbnQtd2VpZ2h0OjEwMDA7IGZvbnQtc2l6ZToxMXB4OwogICAgICBkaXNwbGF5OmZsZXg7IGZsZXgtZGlyZWN0aW9uOmNvbHVtbjsKICAgICAgYWxpZ24taXRlbXM6Y2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOwogICAgICBnYXA6NHB4OwogICAgICBjdXJzb3I6cG9pbnRlcjsKICAgICAgdHJhbnNpdGlvbjogY29sb3IgLjEycyBlYXNlLCB0cmFuc2Zvcm0gLjEycyBlYXNlOwogICAgfQogICAgLnRhYiAudEl7d2lkdGg6MjRweDsgaGVpZ2h0OjI0cHg7IGRpc3BsYXk6Z3JpZDsgcGxhY2UtaXRlbXM6Y2VudGVyfQogICAgLnRhYi5vbntjb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LC45NCl9CiAgICAudGFiLm9uIC50SXt0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTFweCl9CiAgICAudGFiOmFjdGl2ZXt0cmFuc2Zvcm06c2NhbGUoLjk4KX0KICAgIC50YWJEb3R7CiAgICAgIHdpZHRoOjZweDsgaGVpZ2h0OjZweDsgYm9yZGVyLXJhZGl1czo1MCU7CiAgICAgIGJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7CiAgICB9CiAgICAudGFiLm9uIC50YWJEb3R7YmFja2dyb3VuZDp2YXIoLS1ncmVlbil9CgogICAgLyogTGF5b3V0IHRvZ2dsZXMgKi8KICAgIC5zZWd7CiAgICAgIGRpc3BsYXk6ZmxleDsgZ2FwOjZweDsKICAgICAgYm9yZGVyOm5vbmU7CiAgICAgIGJveC1zaGFkb3c6IDAgMTBweCAyNnB4IHJnYmEoMCwwLDAsLjQwKSwgMCAwIDAgMXB4IHJnYmEoMjU1LDI1NSwyNTUsLjA2KSBpbnNldDsKCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsLjE2KTsKICAgICAgYm9yZGVyLXJhZGl1czo5OTlweDsKICAgICAgcGFkZGluZzo0cHg7CiAgICB9CiAgICAuc2VnIGJ1dHRvbnsKICAgICAgYm9yZGVyOm5vbmU7IGJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7IGNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsLjY4KTsKICAgICAgZm9udC13ZWlnaHQ6MTAwMDsgZm9udC1zaXplOjExcHg7CiAgICAgIHBhZGRpbmc6OHB4IDEwcHg7CiAgICAgIGJvcmRlci1yYWRpdXM6OTk5cHg7CiAgICAgIGN1cnNvcjpwb2ludGVyOwogICAgfQogICAgLnNlZyBidXR0b24ub257CiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsLjEyKTsKICAgICAgY29sb3I6cmdiYSgyNTUsMjU1LDI1NSwuOTQpOwogICAgfQogICAgLmxpc3R7ZGlzcGxheTpmbGV4OyBmbGV4LWRpcmVjdGlvbjpjb2x1bW47IGdhcDoxMHB4fQogICAgLnR3b0NvbHtkaXNwbGF5OmdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczoxZnIgMWZyOyBnYXA6MTBweH0KCiAgICAvKiBDaGVja2xpc3QgKi8KICAgIC5wcm9ncmVzc1dyYXB7ZGlzcGxheTpmbGV4OyBnYXA6MTBweDsgYWxpZ24taXRlbXM6Y2VudGVyOyBtYXJnaW4tdG9wOjEwcHh9CiAgICAuYmFye2ZsZXg6MTsgaGVpZ2h0OjEwcHg7IGJvcmRlci1yYWRpdXM6OTk5cHg7IGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsLjA4KTsgYm9yZGVyOm5vbmU7CiAgICAgIGJveC1zaGFkb3c6IDAgMTBweCAyNnB4IHJnYmEoMCwwLDAsLjQ1KSwgMCAwIDAgMXB4IHJnYmEoMjU1LDI1NSwyNTUsLjA2KSBpbnNldDsKIG92ZXJmbG93OmhpZGRlbn0KICAgIC5iYXIgPiBkaXZ7aGVpZ2h0OjEwMCU7IHdpZHRoOjAlOyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIHZhcigtLWdyZWVuKSwgcmdiYSg1NCwyMDksMjU1LC45KSwgcmdiYSgyNTUsMjA5LDEwMiwuOSkpOyBib3JkZXItcmFkaXVzOjk5OXB4fQogICAgLnBjdHtmb250LXNpemU6MTJweDsgZm9udC13ZWlnaHQ6MTAwMDsgY29sb3I6dmFyKC0tbXV0ZWQpOyB3aGl0ZS1zcGFjZTpub3dyYXB9CgogICAgLmNoZWNrbGlzdHttYXJnaW4tdG9wOjEycHg7IGRpc3BsYXk6ZmxleDsgZmxleC1kaXJlY3Rpb246Y29sdW1uOyBnYXA6OHB4fQogICAgLmNoZWNrUm93ewogICAgICBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmZsZXgtc3RhcnQ7IGdhcDoxMHB4OwogICAgICBwYWRkaW5nOjEwcHggMTBweDsKICAgICAgYm9yZGVyLXJhZGl1czoxOHB4OwogICAgICBib3JkZXI6bm9uZTsKICAgICAgYm94LXNoYWRvdzogMCAxMHB4IDI2cHggcmdiYSgwLDAsMCwuNDUpLCAwIDAgMCAxcHggcmdiYSgyNTUsMjU1LDI1NSwuMDYpIGluc2V0OwoKICAgICAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwuMTYpOwogICAgfQogICAgLmNoZWNrUm93IGlucHV0e21hcmdpbi10b3A6MnB4OyB3aWR0aDoxOHB4OyBoZWlnaHQ6MThweH0KICAgIC5jaGVja01haW57ZmxleDoxfQogICAgLmNoZWNrVGl0bGV7Zm9udC13ZWlnaHQ6MTEwMDsgZm9udC1zaXplOjEycHh9CiAgICAuY2hlY2tNZXRhe2NvbG9yOnZhcigtLW11dGVkKTsgZm9udC1zaXplOjExcHg7IG1hcmdpbi10b3A6M3B4fQogICAgLm1pbmlGYWNle3dpZHRoOjIycHg7IGhlaWdodDoyMnB4OyBib3JkZXItcmFkaXVzOjEwcHg7IGJvcmRlcjpub25lOwogICAgICBib3gtc2hhZG93OiAwIDEwcHggMjZweCByZ2JhKDAsMCwwLC40MCksIDAgMCAwIDFweCByZ2JhKDI1NSwyNTUsMjU1LC4wNikgaW5zZXQ7CiBkaXNwbGF5OmdyaWQ7IHBsYWNlLWl0ZW1zOmNlbnRlcjsgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwuMDYpfQogICAgLmhpbnR7Y29sb3I6dmFyKC0tbXV0ZWQpOyBmb250LXNpemU6MTJweDsgbGluZS1oZWlnaHQ6MS41NX0KCiAgICAvKiBSZWR1Y2VkIG1vdGlvbiAqLwogICAgQG1lZGlhIChwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpewogICAgICAud2lnZ2xlLC5ib3VuY2UsLmJsaW5rLC5pY29uQmxvYjo6YmVmb3Jle2FuaW1hdGlvbjpub25lfQogICAgICAucGFnZXthbmltYXRpb246bm9uZX0KICAgIH0KICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgogIDxkaXYgY2xhc3M9InNoZWxsIj4KICAgIDxkaXYgY2xhc3M9InBob25lRnJhbWUiIGlkPSJmcmFtZSI+CiAgICAgIDxoZWFkZXIgY2xhc3M9InRvcGJhciI+CiAgICAgICAgPGRpdiBjbGFzcz0iYnJhbmQiPgogICAgICAgICAgPGRpdiBjbGFzcz0ibG9nbyIgYXJpYS1oaWRkZW49InRydWUiPkRNPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJicmFuZFRleHQiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0MSI+RGVudGFs4oCRTWluYTwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0MiI+2YXZiNio2KfbjNmE4oCM2KfZiNmEIOKAoiBpT1MyNiDigKIg2LHZhtqv24wv2YXYrNiy2Kcg4oCiINit2LPigIzYr9in2LEgKNmG2YXZiNmG2YcpPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJ0b3BBY3Rpb25zIj4KICAgICAgICAgIDxidXR0b24gY2xhc3M9Imljb25CdG4iIHR5cGU9ImJ1dHRvbiIgdGl0bGU9ItmG2YXYp9uM2LQg2YXZiNio2KfbjNmEIiBpZD0idG9nZ2xlRnJhbWUiPvCfk7E8L2J1dHRvbj4KICAgICAgICAgIDxidXR0b24gY2xhc3M9Imljb25CdG4iIHR5cGU9ImJ1dHRvbiIgdGl0bGU9Itix2Ybar+KAjNmH2KciIGRhdGEtZ289Im1vcmUiPvCfjqg8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9oZWFkZXI+CgogICAgICA8bWFpbiBjbGFzcz0iY29udGFpbmVyIiBpZD0iYXBwIiBhcmlhLWxpdmU9InBvbGl0ZSI+CiAgICAgICAgPCEtLSBIT01FIC0tPgogICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYWdlIG9uIiBkYXRhLXJvdXRlPSJob21lIiBhcmlhLWxhYmVsPSLYr9in2LTYqNmI2LHYryI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJwYWdlSGVhZGVyIj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJoMSBncmVlbiI+2K/Yp9i02KjZiNix2K88L2gxPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdWIiPtu0INio2K7YtCDYp9i12YTbjCArINuyINio2K7YtCDYqNix2KzYs9iq2Yc6INmG2YjYqNiq4oCM2K/Zh9uMINmIINmF2KfZhNuMPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICA8ZGl2IGNsYXNzPSJyb3ciIHN0eWxlPSJtYXJnaW4tdG9wOjEycHgiPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJmZWF0dXJlQ2FyZCBjU2NoZWQiIHR5cGU9ImJ1dHRvbiIgZGF0YS1nbz0ic2NoZWR1bGUiIGFyaWEtbGFiZWw9ItmG2YjYqNiq4oCM2K/Zh9uMIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhY2NlbnQiPjwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRUaXRsZSI+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7IGdhcDoxMHB4OyBhbGlnbi1pdGVtczpjZW50ZXIiPgogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpY29uQmxvYiI+PHN2ZyBjbGFzcz0ic3ZnSWNvbiBlbW90aXZlIiB2aWV3Qm94PSIwIDAgNjQgNjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgYXJpYS1oaWRkZW49InRydWUiPgogIDxkZWZzPgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJnX3NjaGVkdWxlIiB4MT0iNiIgeTE9IjYiIHgyPSI1OCIgeTI9IjU4IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzM2ZDFmZiIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjAuNTUiIHN0b3AtY29sb3I9IiMwMGM4NTMiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmY0ZDhkIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGZpbHRlciBpZD0iZl9zY2hlZHVsZSIgeD0iLTMwJSIgeT0iLTMwJSIgd2lkdGg9IjE2MCUiIGhlaWdodD0iMTYwJSI+CiAgICAgIDxmZURyb3BTaGFkb3cgZHg9IjAiIGR5PSIyIiBzdGREZXZpYXRpb249IjIuOCIgZmxvb2QtY29sb3I9InJnYmEoMCwwLDAsLjU1KSIvPgogICAgICA8ZmVEcm9wU2hhZG93IGR4PSIwIiBkeT0iMCIgc3RkRGV2aWF0aW9uPSI2IiBmbG9vZC1jb2xvcj0iIzAwYzg1MyIgZmxvb2Qtb3BhY2l0eT0iLjI1Ii8+CiAgICA8L2ZpbHRlcj4KICA8L2RlZnM+CiAgPGcgZmlsdGVyPSJ1cmwoI2Zfc2NoZWR1bGUpIj4KCiAgPHJlY3QgeD0iMTYiIHk9IjE4IiB3aWR0aD0iMzIiIGhlaWdodD0iMzAiIHJ4PSI5IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LC4wNSkiIHN0cm9rZT0idXJsKCNnX3NjaGVkdWxlKSIgc3Ryb2tlLXdpZHRoPSIzIi8+CiAgPHBhdGggZD0iTTI0IDE0djhNNDAgMTR2OCIgc3Ryb2tlPSJ1cmwoI2dfc2NoZWR1bGUpIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgogIDxwYXRoIGQ9Ik0xNiAyNmgzMiIgc3Ryb2tlPSJ1cmwoI2dfc2NoZWR1bGUpIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgb3BhY2l0eT0iLjk1Ii8+CiAgPHBhdGggZD0iTTI1IDM3YzIuNSAzIDExLjUgMyAxNCAwIiBzdHJva2U9InVybCgjZ19zY2hlZHVsZSkiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CiAgPGNpcmNsZSBjeD0iMjcuNSIgY3k9IjMzIiByPSIyLjIiIGZpbGw9InVybCgjZ19zY2hlZHVsZSkiLz4KICA8Y2lyY2xlIGN4PSIzOC41IiBjeT0iMzMiIHI9IjIuMiIgZmlsbD0idXJsKCNnX3NjaGVkdWxlKSIvPgoKICA8L2c+Cjwvc3ZnPjwvZGl2PgogICAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImgxIGdyZWVuIiBzdHlsZT0iZm9udC1zaXplOjE2cHg7IG1hcmdpbjowIj7ZhtmI2KjYquKAjNiv2YfbjDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN1YiI+2KrZgtmI24zZhSDYsdmI2LLYp9mG2Ycg4oCiINmE24zYs9iqINin2YbYqti42KfYsSDigKIg24zZiNmG24zYquKAjNmH2Kc8L2Rpdj4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJhZGdlIj7YqNix2KzYs9iq2Ycg27E8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwcm9ncmVzc1dyYXAiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYmFyIj48ZGl2IGRhdGEtcHJvZz0ic2NoZWQiPjwvZGl2PjwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icGN0IiBkYXRhLXBjdD0ic2NoZWQiPjAlPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY3RhIj7YqNin2LIg2qnYsdiv2YYg2LXZgdit2Yc8L2Rpdj4KICAgICAgICAgICAgPC9idXR0b24+CgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJmZWF0dXJlQ2FyZCBjRmluIiB0eXBlPSJidXR0b24iIGRhdGEtZ289ImZpbmFuY2UiIGFyaWEtbGFiZWw9ItmF2KfZhNuMIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhY2NlbnQiPjwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRUaXRsZSI+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7IGdhcDoxMHB4OyBhbGlnbi1pdGVtczpjZW50ZXIiPgogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpY29uQmxvYiI+PHN2ZyBjbGFzcz0ic3ZnSWNvbiBlbW90aXZlIiB2aWV3Qm94PSIwIDAgNjQgNjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgYXJpYS1oaWRkZW49InRydWUiPgogIDxkZWZzPgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJnX2ZpbmFuY2UiIHgxPSI2IiB5MT0iNiIgeDI9IjU4IiB5Mj0iNTgiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZkMTY2Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iMC41NSIgc3RvcC1jb2xvcj0iIzAwYzg1MyIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM3YzRkZmYiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8ZmlsdGVyIGlkPSJmX2ZpbmFuY2UiIHg9Ii0zMCUiIHk9Ii0zMCUiIHdpZHRoPSIxNjAlIiBoZWlnaHQ9IjE2MCUiPgogICAgICA8ZmVEcm9wU2hhZG93IGR4PSIwIiBkeT0iMiIgc3RkRGV2aWF0aW9uPSIyLjgiIGZsb29kLWNvbG9yPSJyZ2JhKDAsMCwwLC41NSkiLz4KICAgICAgPGZlRHJvcFNoYWRvdyBkeD0iMCIgZHk9IjAiIHN0ZERldmlhdGlvbj0iNiIgZmxvb2QtY29sb3I9IiMwMGM4NTMiIGZsb29kLW9wYWNpdHk9Ii4yNSIvPgogICAgPC9maWx0ZXI+CiAgPC9kZWZzPgogIDxnIGZpbHRlcj0idXJsKCNmX2ZpbmFuY2UpIj4KCiAgPHJlY3QgeD0iMTUiIHk9IjE5IiB3aWR0aD0iMzQiIGhlaWdodD0iMjYiIHJ4PSIxMCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuMDUpIiBzdHJva2U9InVybCgjZ19maW5hbmNlKSIgc3Ryb2tlLXdpZHRoPSIzIi8+CiAgPHBhdGggZD0iTTIwIDI4aDE4IiBzdHJva2U9InVybCgjZ19maW5hbmNlKSIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIG9wYWNpdHk9Ii45NSIvPgogIDxjaXJjbGUgY3g9IjQxIiBjeT0iMzIiIHI9IjYuOCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuMDQpIiBzdHJva2U9InVybCgjZ19maW5hbmNlKSIgc3Ryb2tlLXdpZHRoPSIzIi8+CiAgPHBhdGggZD0iTTM4LjcgMzQuNWMxLjcgMiA0IDIgNS43IDAiIHN0cm9rZT0idXJsKCNnX2ZpbmFuY2UpIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgogIDxjaXJjbGUgY3g9IjM5LjYiIGN5PSIzMS4zIiByPSIxLjYiIGZpbGw9InVybCgjZ19maW5hbmNlKSIvPgogIDxjaXJjbGUgY3g9IjQ0LjQiIGN5PSIzMS4zIiByPSIxLjYiIGZpbGw9InVybCgjZ19maW5hbmNlKSIvPgoKICA8L2c+Cjwvc3ZnPjwvZGl2PgogICAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImgxIGdyZWVuIiBzdHlsZT0iZm9udC1zaXplOjE2cHg7IG1hcmdpbjowIj7Zhdin2YTbjDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN1YiI+UE9TL9mG2YLYry/ahtqpL9mC2LPYtyDigKIg2YfYtNiv2KfYsSDYs9ix2LHYs9uM2K88L2Rpdj4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJhZGdlIj7YqNix2KzYs9iq2Ycg27I8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwcm9ncmVzc1dyYXAiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYmFyIj48ZGl2IGRhdGEtcHJvZz0iZmluIj48L2Rpdj48L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InBjdCIgZGF0YS1wY3Q9ImZpbiI+MCU8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdGEiPtio2KfYsiDaqdix2K/ZhiDYtdmB2K3ZhzwvZGl2PgogICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgIDxkaXYgY2xhc3M9ImdyaWQyIiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4Ij4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iY2FyZCBjUGF0IiB0eXBlPSJidXR0b24iIGRhdGEtZ289InBhdGllbnRzIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhY2NlbnQiPjwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRUaXRsZSI+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7IGdhcDoxMHB4OyBhbGlnbi1pdGVtczpjZW50ZXIiPgogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpY29uQmxvYiI+PHN2ZyBjbGFzcz0ic3ZnSWNvbiBibGluayIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIgM2MzLjggMCA2LjUgMi4zIDYuNSA2LjIgMCAyLjgtMS41IDUuOC0yLjUgOC0xIDIuMi0yLjYgMy44LTQgMy44cy0zLTEuNi00LTMuOGMtMS0yLjItMi41LTUuMi0yLjUtOEM1LjUgNS4zIDguMiAzIDEyIDNaIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiIG9wYWNpdHk9Ii45Ii8+CiAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD0iOS4yIiBjeT0iMTAuMiIgcj0iMSIgZmlsbD0id2hpdGUiIG9wYWNpdHk9Ii44Ii8+CiAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD0iMTQuOCIgY3k9IjEwLjIiIHI9IjEiIGZpbGw9IndoaXRlIiBvcGFjaXR5PSIuOCIvPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05LjIgMTMuM2MuOSAxIDEuOCAxLjUgMi44IDEuNXMxLjktLjUgMi44LTEuNSIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIG9wYWNpdHk9Ii44Ii8+CiAgICAgICAgICAgICAgICAgIDwvc3ZnPjwvZGl2PgogICAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImgxIGdyZWVuIiBzdHlsZT0iZm9udC1zaXplOjE1cHg7IG1hcmdpbjowIj7YqNuM2YXYp9ix2KfZhjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN1YiI+2b7YsdmI2YbYr9mHIOKAoiDahtin2LHYqiDigKIg2K/Yp9iv2YfigIzZh9in24wg2LLbjNin2K8v2YbYp9mC2LU8L2Rpdj4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNoaXAiPtmC2KfYqNmEINiq2LrbjNuM2LE8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdGEiPtio2KfYsiDaqdix2K/ZhiDYtdmB2K3ZhzwvZGl2PgogICAgICAgICAgICA8L2J1dHRvbj4KCiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImNhcmQgY0xhYiIgdHlwZT0iYnV0dG9uIiBkYXRhLWdvPSJsYWIiPgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjY2VudCI+PC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZFRpdGxlIj4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDsgZ2FwOjEwcHg7IGFsaWduLWl0ZW1zOmNlbnRlciI+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Imljb25CbG9iIj48c3ZnIGNsYXNzPSJzdmdJY29uIGJvdW5jZSIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTAgM3Y2bC01IDlhMyAzIDAgMCAwIDIuNiA0LjVoOC44QTMgMyAwIDAgMCAxOSAxOGwtNS05VjMiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMiIgb3BhY2l0eT0iLjkiLz4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOSAxNGg2IiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgb3BhY2l0eT0iLjgiLz4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOC42IDE3aDYuOCIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIG9wYWNpdHk9Ii43Ii8+CiAgICAgICAgICAgICAgICAgIDwvc3ZnPjwvZGl2PgogICAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImgxIGdyZWVuIiBzdHlsZT0iZm9udC1zaXplOjE1cHg7IG1hcmdpbjowIj7ZhNin2KjYsdin2KrZiNin2LE8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdWIiPtin2LHYs9in2YQv2K/YsduM2KfZgdiqIOKAoiDZiNi22LnbjNiq4oCM2YfYpzwvZGl2PgogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hpcCI+2LXZgdit2Ycg2YXYs9iq2YLZhDwvZGl2PgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImN0YSI+2KjYp9iyINqp2LHYr9mGINi12YHYrdmHPC9kaXY+CiAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgPC9kaXY+CgogICAgICAgICAgPGRpdiBjbGFzcz0iZ3JpZDIiIHN0eWxlPSJtYXJnaW4tdG9wOjEwcHgiPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJjYXJkIGNBSSIgdHlwZT0iYnV0dG9uIiBkYXRhLWdvPSJpbm5vdmF0aW9uIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhY2NlbnQiPjwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRUaXRsZSI+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7IGdhcDoxMHB4OyBhbGlnbi1pdGVtczpjZW50ZXIiPgogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpY29uQmxvYiI+PHN2ZyBjbGFzcz0ic3ZnSWNvbiB3aWdnbGUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEyIDJhNyA3IDAgMCAwLTQgMTIuN1YxOGEyIDIgMCAwIDAgMiAyaDRhMiAyIDAgMCAwIDItMnYtMy4zQTcgNyAwIDAgMCAxMiAyWiIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBvcGFjaXR5PSIuOSIvPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05IDIyaDYiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBvcGFjaXR5PSIuODUiLz4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOS41IDEwLjUgMTIgMTNsMi41LTIuNSIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIG9wYWNpdHk9Ii44NSIvPgogICAgICAgICAgICAgICAgICA8L3N2Zz48L2Rpdj4KICAgICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJoMSBncmVlbiIgc3R5bGU9ImZvbnQtc2l6ZToxNXB4OyBtYXJnaW46MCI+2YbZiNii2YjYsduMPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3ViIj5BSSDigKIg2KfYqtmI2YXYp9iz24zZiNmGIOKAoiDYp9uM2K/Zh+KAjNmH2Kc8L2Rpdj4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNoaXAiPjIwMjY8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdGEiPtio2KfYsiDaqdix2K/ZhiDYtdmB2K3ZhzwvZGl2PgogICAgICAgICAgICA8L2J1dHRvbj4KCiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImNhcmQiIHR5cGU9ImJ1dHRvbiIgZGF0YS1nbz0ibW9yZSI+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWNjZW50IiBzdHlsZT0iYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAzMCUgMjUlLCByZ2JhKDE3NiwxOTAsMTk3LC45KSwgdHJhbnNwYXJlbnQgNjAlKSI+PC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZFRpdGxlIj4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDsgZ2FwOjEwcHg7IGFsaWduLWl0ZW1zOmNlbnRlciI+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Imljb25CbG9iIj48c3ZnIGNsYXNzPSJzdmdJY29uIGJsaW5rIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMiAxNS41YTMuNSAzLjUgMCAxIDAgMC03IDMuNSAzLjUgMCAwIDAgMCA3WiIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBvcGFjaXR5PSIuOSIvPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xOS40IDE1YTggOCAwIDAgMCAuMS02IiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgb3BhY2l0eT0iLjciLz4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNC41IDlhOCA4IDAgMCAwIC4xIDYiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBvcGFjaXR5PSIuNyIvPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNi41IDE5LjNhOCA4IDAgMCAxLTkgMCIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIG9wYWNpdHk9Ii43Ii8+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNSA0LjdhOCA4IDAgMCAxIDkgMCIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIG9wYWNpdHk9Ii43Ii8+CiAgICAgICAgICAgICAgICAgIDwvc3ZnPjwvZGl2PgogICAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImgxIGdyZWVuIiBzdHlsZT0iZm9udC1zaXplOjE1cHg7IG1hcmdpbjowIj7YqNuM2LTYqtixPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3ViIj7YsdmG2q/igIzZh9inIOKAoiDahtuM2K/Zhdin2YYg4oCiINqG2qnigIzZhNuM2LPYqiDbsC3bsduw27A8L2Rpdj4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNoaXAiPtiq2YbYuNuM2YXYp9iqPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY3RhIj7YqNin2LIg2qnYsdiv2YYg2LXZgdit2Yc8L2Rpdj4KICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgIDwhLS0gU0NIRURVTEUgLS0+CiAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhZ2UiIGRhdGEtcm91dGU9InNjaGVkdWxlIiBhcmlhLWxhYmVsPSLZhtmI2KjYquKAjNiv2YfbjCI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJwYWdlSGVhZGVyIj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJoMSBncmVlbiI+2YbZiNio2KrigIzYr9mH24w8L2gxPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdWIiPti12YHYrdmHINmF2LPYqtmC2YQgKNmF2KvZhCDYp9m+INii24zZgdmI2YYpIOKAlCDYsdmG2q8g2KfYrtiq2LXYp9i124wgKyDYrdiz4oCM2K/Yp9ixPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQgY1NjaGVkIiBzdHlsZT0ibWFyZ2luLXRvcDoxMnB4Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWNjZW50Ij48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZFRpdGxlIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJoMSBncmVlbiIgc3R5bGU9ImZvbnQtc2l6ZToxNnB4Ij7YqtmC2YjbjNmFINix2YjYstin2YbZhyAo2YbZhdmI2YbZhyk8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjaGlwIj7Yp9iz2qnYsdmI2YQg2YbYsdmFPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJkZXNjIj7YotuM2KrZheKAjNmH2KfbjCDZhtmF2YjZhtmHOiAwOTowMCDZhdi52KfbjNmG2Ycg4oCiIDEwOjMwINiq2LHZhduM2YUg4oCiIDEyOjAwINin24zZhdm+2YTZhtiqPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9ImdyaWQyIiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCBjU2NoZWQiPgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjY2VudCI+PC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZFRpdGxlIj48ZGl2IGNsYXNzPSJoMSBncmVlbiIgc3R5bGU9ImZvbnQtc2l6ZToxNXB4Ij7bjNmI2YbbjNiq4oCM2YfYpzwvZGl2PjxkaXYgY2xhc3M9ImNoaXAiPtii2KjbjC/Ystix2K88L2Rpdj48L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkZXNjIj7ZiNi22LnbjNiqOiDYotiy2KfYry/Zhdi02LrZiNmEIOKAlCDZgtin2KjZhCDYqtmI2LPYudmHPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkIGNTY2hlZCI+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWNjZW50Ij48L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkVGl0bGUiPjxkaXYgY2xhc3M9ImgxIGdyZWVuIiBzdHlsZT0iZm9udC1zaXplOjE1cHgiPtmE24zYs9iqINin2YbYqti42KfYsTwvZGl2PjxkaXYgY2xhc3M9ImNoaXAiPtmH2YjYtNmF2YbYrzwvZGl2PjwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRlc2MiPtm+24zYtNmG2YfYp9ivINiy2YXYp9mG4oCM2YfYp9uMINiu2KfZhNuMIOKAoiDZvtuM2KfZhdqpINuM2KfYr9ii2YjYsduMPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICA8IS0tIEZJTkFOQ0UgLS0+CiAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhZ2UiIGRhdGEtcm91dGU9ImZpbmFuY2UiIGFyaWEtbGFiZWw9ItmF2KfZhNuMIj4KICAgICAgICAgIDxkaXYgY2xhc3M9InBhZ2VIZWFkZXIiPgogICAgICAgICAgICA8aDEgY2xhc3M9ImgxIGdyZWVuIj7Zhdin2YTbjDwvaDE+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN1YiI+2LXZgdit2Ycg2YXYs9iq2YLZhCDigJQg2qnYp9ix2KrigIzZh9in24wg2LHZhtqv24wgKyDZiNi22LnbjNiqINit2LPigIzYr9in2LE8L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0iZ3JpZDIiIHN0eWxlPSJtYXJnaW4tdG9wOjEycHgiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkIGNGaW4iPgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjY2VudCI+PC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZFRpdGxlIj48ZGl2IGNsYXNzPSJoMSBncmVlbiIgc3R5bGU9ImZvbnQtc2l6ZToxNXB4Ij7Zvtix2K/Yp9iu2Kog2KfZhdix2YjYsjwvZGl2PjxkaXYgY2xhc3M9ImNoaXAiPlBPUy/ZhtmC2K88L2Rpdj48L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkZXNjIj7bsyDZvtix2K/Yp9iu2Kog2KvYqNiqINi02K/ZhyDigKIg27Eg2YXZiNix2K8g2K/YsSDYp9mG2KrYuNin2LE8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQgY0ZpbiI+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWNjZW50Ij48L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkVGl0bGUiPjxkaXYgY2xhc3M9ImgxIGdyZWVuIiBzdHlsZT0iZm9udC1zaXplOjE1cHgiPtqG2qkv2YLYs9i3PC9kaXY+PGRpdiBjbGFzcz0iY2hpcCI+2YfYtNiv2KfYsTwvZGl2PjwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRlc2MiPtuyINiz2LHYsdiz24zYryDZhtiy2K/bjNqpIOKAoiDbsSDYudmC2KjigIzYp9mB2KrYp9iv2Yc8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQgY0ZpbiIgc3R5bGU9Im1hcmdpbi10b3A6MTBweCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjY2VudCI+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRUaXRsZSI+PGRpdiBjbGFzcz0iaDEgZ3JlZW4iIHN0eWxlPSJmb250LXNpemU6MTVweCI+2YLYp9mE2Kgg2LHYs9uM2K8gKNmG2YXZiNmG2YcpPC9kaXY+PGRpdiBjbGFzcz0iY2hpcCI+2YLYp9io2YQg2obYp9m+PC9kaXY+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRlc2MiPlFSIOKAoiDZhdmH2LEg2K/bjNis24zYqtin2YQg4oCiINm+24zZiNiz2Kog2KfYs9qp2YY8L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgPCEtLSBQQVRJRU5UUyAtLT4KICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFnZSIgZGF0YS1yb3V0ZT0icGF0aWVudHMiIGFyaWEtbGFiZWw9Itio24zZhdin2LHYp9mGIj4KICAgICAgICAgIDxkaXYgY2xhc3M9InBhZ2VIZWFkZXIiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJyb3ciIHN0eWxlPSJqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6Y2VudGVyIj4KICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgPGgxIGNsYXNzPSJoMSBncmVlbiI+2KjbjNmF2KfYsdin2YY8L2gxPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3ViIj7Yr9in2K/ZhyDYstuM2KfYry/Zhtin2YLYtSDigJQg2KrbjNiq2LHZh9inINix2Ybar9uMINmIINmI2KfYttitPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2VnIiBhcmlhLWxhYmVsPSLahtuM2K/Zhdin2YYiPgogICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGRhdGEtbGF5b3V0PSJwYXRpZW50cyIgZGF0YS1tb2RlPSJsaXN0IiBjbGFzcz0ib24iPtmE24zYs9iq24w8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBkYXRhLWxheW91dD0icGF0aWVudHMiIGRhdGEtbW9kZT0idHdvIj7Yr9mI4oCM2LPYqtmI2YbZhzwvYnV0dG9uPgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgIDxkaXYgaWQ9InBhdGllbnRzTGlzdCIgY2xhc3M9Imxpc3QiIHN0eWxlPSJtYXJnaW4tdG9wOjEycHgiPjwvZGl2PgogICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgPCEtLSBMQUIgLS0+CiAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhZ2UiIGRhdGEtcm91dGU9ImxhYiIgYXJpYS1sYWJlbD0i2YTYp9io2LHYp9iq2YjYp9ixIj4KICAgICAgICAgIDxkaXYgY2xhc3M9InBhZ2VIZWFkZXIiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJyb3ciIHN0eWxlPSJqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6Y2VudGVyIj4KICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgPGgxIGNsYXNzPSJoMSBncmVlbiI+2YTYp9io2LHYp9iq2YjYp9ixPC9oMT4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN1YiI+2KfYsdiz2KfZhC/Yr9ix24zYp9mB2Kog4oCUINmI2LbYuduM2Kog2LHZhtqv24w8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzZWciIGFyaWEtbGFiZWw9ItqG24zYr9mF2KfZhiI+CiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgZGF0YS1sYXlvdXQ9ImxhYiIgZGF0YS1tb2RlPSJsaXN0IiBjbGFzcz0ib24iPtmE24zYs9iq24w8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBkYXRhLWxheW91dD0ibGFiIiBkYXRhLW1vZGU9InR3byI+2K/ZiOKAjNiz2KrZiNmG2Yc8L2J1dHRvbj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICA8ZGl2IGlkPSJsYWJMaXN0IiBjbGFzcz0ibGlzdCIgc3R5bGU9Im1hcmdpbi10b3A6MTJweCI+PC9kaXY+CiAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICA8IS0tIElOTk9WQVRJT04gLS0+CiAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhZ2UiIGRhdGEtcm91dGU9Imlubm92YXRpb24iIGFyaWEtbGFiZWw9ItmG2YjYotmI2LHbjCI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJwYWdlSGVhZGVyIj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJoMSBncmVlbiI+2YbZiNii2YjYsduMPC9oMT4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3ViIj5EdW9saW5nb+KAkWxpa2Ug2K3Ys+KAjNiv2KfYsTog2KfZhtis2KfZhSDYtNivINiu2YjYtNit2KfZhNiMINin2YbYrNin2YUg2YbYtNiv2Ycg2YbYp9ix2KfYrdiq2Iwg2K/Ysdit2KfZhOKAjNin2YbYrNin2YUg2YXYqti52KzYqDwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkIGNBSSIgc3R5bGU9Im1hcmdpbi10b3A6MTJweCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjY2VudCI+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRUaXRsZSI+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaDEgZ3JlZW4iIHN0eWxlPSJmb250LXNpemU6MTVweCI+2YXZiNiq2YjYsSDZvtuM2LTZhtmH2KfYrzwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNoaXAiPkh1bWFu4oCRaW7igJFsb29wPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJkZXNjIj7ZvtuM2LTZhtmH2KfYryDYstmF2KfZhiDZhtmI2KjYqiDigKIg2b7bjNin2YXaqSDZh9mI2LTZhdmG2K8g4oCiINmH2LTYr9in2LEg2b7Ysdiv2KfYrtiqPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQgY0FJIiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWNjZW50Ij48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZFRpdGxlIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJoMSBncmVlbiIgc3R5bGU9ImZvbnQtc2l6ZToxNXB4Ij7Yr9in2LTYqNmI2LHYryDYrdiz4oCM2K/Yp9ixPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hpcCI+2K3Yp9mE2KrigIzZh9inPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJkZXNjIj7YqNinINm+24zYtNix2YHYqiDahtqp4oCM2YTbjNiz2KrYjCDYrdin2YTYqiDahtmH2LHZhyDYqti624zbjNixINmF24zigIzaqdmG2K8uPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgIDwhLS0gTU9SRSAtLT4KICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFnZSIgZGF0YS1yb3V0ZT0ibW9yZSIgYXJpYS1sYWJlbD0i2KjbjNi02KrYsSI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJwYWdlSGVhZGVyIj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJoMSBncmVlbiI+2KjbjNi02KrYsTwvaDE+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN1YiI+2LHZhtqv4oCM2YfYp9uMINis2K/YpyDYqNix2KfbjCDZh9ixINio2K7YtCArINqG24zYr9mF2KfZhiDZgtin2KjZhCDYqti624zbjNixICsg2obaqeKAjNmE24zYs9iqINuwINiq2Kcg27HbsNuwPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkIiBzdHlsZT0ibWFyZ2luLXRvcDoxMnB4Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZFRpdGxlIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJoMSBncmVlbiIgc3R5bGU9ImZvbnQtc2l6ZToxNXB4Ij7YsdmG2q/igIzZh9inICjZgtin2KjZhCDYqti624zbjNixKTwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNoaXAiPlRoZW1lPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJoaW50IiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4Ij4KICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczoxZnIgMWZyOyBnYXA6MTBweCI+CiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImhpbnQiPtmG2YjYqNiq4oCM2K/Zh9uMPGJyPjxpbnB1dCB0eXBlPSJjb2xvciIgZGF0YS1jb2xvcj0iLS1jLXNjaGVkIiB2YWx1ZT0iIzM2ZDFmZiI+PC9sYWJlbD4KICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iaGludCI+2YXYp9mE24w8YnI+PGlucHV0IHR5cGU9ImNvbG9yIiBkYXRhLWNvbG9yPSItLWMtZmluIiB2YWx1ZT0iI2ZmZDE2NiI+PC9sYWJlbD4KICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iaGludCI+2KjbjNmF2KfYsdin2YY8YnI+PGlucHV0IHR5cGU9ImNvbG9yIiBkYXRhLWNvbG9yPSItLWMtcGF0IiB2YWx1ZT0iIzdjNGRmZiI+PC9sYWJlbD4KICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iaGludCI+2YTYp9io2LHYp9iq2YjYp9ixPGJyPjxpbnB1dCB0eXBlPSJjb2xvciIgZGF0YS1jb2xvcj0iLS1jLWxhYiIgdmFsdWU9IiNmZjRkOGQiPjwvbGFiZWw+CiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImhpbnQiPtmG2YjYotmI2LHbjDxicj48aW5wdXQgdHlwZT0iY29sb3IiIGRhdGEtY29sb3I9Ii0tYy1haSIgdmFsdWU9IiMwMGU1ZmYiPjwvbGFiZWw+CiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImhpbnQiPtiz2KjYsiDYqtuM2KrYsdmH2Kc8YnI+PGlucHV0IHR5cGU9ImNvbG9yIiBkYXRhLWNvbG9yPSItLWdyZWVuIiB2YWx1ZT0iIzAwYzg1MyI+PC9sYWJlbD4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJoaW50IiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4Ij7Zh9mF2Ycg2KrYutuM24zYsdin2Kog2LDYrtuM2LHZhyDZhduM4oCM2LTZiNivIChsb2NhbCkuPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPC9kaXY+CgogICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCIgc3R5bGU9Im1hcmdpbi10b3A6MTBweCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRUaXRsZSI+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaDEgZ3JlZW4iIHN0eWxlPSJmb250LXNpemU6MTVweCI+2obaqeKAjNmE24zYs9iqINuwINiq2Kcg27HbsNuwICjYqtuM2qnigIzYstiv2YbbjCk8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjaGlwIiBpZD0ibW9vZENoaXAiPvCfmYI8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InByb2dyZXNzV3JhcCI+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYmFyIj48ZGl2IGlkPSJvdmVyYWxsQmFyIj48L2Rpdj48L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwY3QiIGlkPSJvdmVyYWxsUGN0Ij4wJTwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hlY2tsaXN0IiBpZD0iY2hlY2tsaXN0Ij48L2Rpdj4KICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQiIHN0eWxlPSJtYXJnaW4tdG9wOjEwcHgiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkVGl0bGUiPgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImgxIGdyZWVuIiBzdHlsZT0iZm9udC1zaXplOjE1cHgiPtmG2YXYp9uM2LQg2YXZiNio2KfbjNmEINix2YjbjCDaqdin2YXZvtuM2YjYqtixPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hpcCI+UHJldmlldzwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iaGludCIgc3R5bGU9Im1hcmdpbi10b3A6OHB4Ij7Yr9qp2YXZhyDwn5OxINio2KfZhNin24wg2LXZgdit2Ycg2LHYpyDYqNiy2YYg2KrYpyDYrdin2YTYqiDZgtin2Kgg2YXZiNio2KfbjNmEINix2YjYtNmGL9iu2KfZhdmI2LQg2LTZiNivLjwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9zZWN0aW9uPgogICAgICA8L21haW4+CiAgICA8L2Rpdj4KICA8L2Rpdj4KCiAgPCEtLSBOYXRpdmUgaVBob25lLWxpa2UgVGFiIEJhciAtLT4KICA8ZGl2IGNsYXNzPSJ0YWJiYXIiIHJvbGU9Im5hdmlnYXRpb24iIGFyaWEtbGFiZWw9ItmG2KfZiNio2LHbjCI+CiAgICA8YnV0dG9uIGNsYXNzPSJ0YWIgb24iIHR5cGU9ImJ1dHRvbiIgZGF0YS10YWI9ImhvbWUiPjxzcGFuIGNsYXNzPSJ0SSI+PHN2ZyBjbGFzcz0ic3ZnSWNvbiBlbW90aXZlIiB2aWV3Qm94PSIwIDAgNjQgNjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgYXJpYS1oaWRkZW49InRydWUiPgogIDxkZWZzPgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJnX2hvbWUiIHgxPSI2IiB5MT0iNiIgeDI9IjU4IiB5Mj0iNTgiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjMzZkMWZmIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iMC41NSIgc3RvcC1jb2xvcj0iIzAwYzg1MyIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmQxNjYiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8ZmlsdGVyIGlkPSJmX2hvbWUiIHg9Ii0zMCUiIHk9Ii0zMCUiIHdpZHRoPSIxNjAlIiBoZWlnaHQ9IjE2MCUiPgogICAgICA8ZmVEcm9wU2hhZG93IGR4PSIwIiBkeT0iMiIgc3RkRGV2aWF0aW9uPSIyLjgiIGZsb29kLWNvbG9yPSJyZ2JhKDAsMCwwLC41NSkiLz4KICAgICAgPGZlRHJvcFNoYWRvdyBkeD0iMCIgZHk9IjAiIHN0ZERldmlhdGlvbj0iNiIgZmxvb2QtY29sb3I9IiMwMGM4NTMiIGZsb29kLW9wYWNpdHk9Ii4yNSIvPgogICAgPC9maWx0ZXI+CiAgPC9kZWZzPgogIDxnIGZpbHRlcj0idXJsKCNmX2hvbWUpIj4KCiAgPHBhdGggZD0iTTE2IDMwbDE2LTE0IDE2IDE0IiBzdHJva2U9InVybCgjZ19ob21lKSIgc3Ryb2tlLXdpZHRoPSIzLjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgogIDxwYXRoIGQ9Ik0yMiAyOHYxOGgyMFYyOCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuMDQpIiBzdHJva2U9InVybCgjZ19ob21lKSIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CiAgPHBhdGggZD0iTTI4IDQ2YzEuNy0yIDYuMy0yIDggMCIgc3Ryb2tlPSJ1cmwoI2dfaG9tZSkiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CiAgPGNpcmNsZSBjeD0iMjguOCIgY3k9IjQxIiByPSIxLjciIGZpbGw9InVybCgjZ19ob21lKSIvPgogIDxjaXJjbGUgY3g9IjM1LjIiIGN5PSI0MSIgcj0iMS43IiBmaWxsPSJ1cmwoI2dfaG9tZSkiLz4KCiAgPC9nPgo8L3N2Zz48L3NwYW4+PHNwYW4+2K7Yp9mG2Yc8L3NwYW4+PHNwYW4gY2xhc3M9InRhYkRvdCI+PC9zcGFuPjwvYnV0dG9uPgogICAgPGJ1dHRvbiBjbGFzcz0idGFiIiB0eXBlPSJidXR0b24iIGRhdGEtdGFiPSJzY2hlZHVsZSI+PHNwYW4gY2xhc3M9InRJIj48c3ZnIGNsYXNzPSJzdmdJY29uIGVtb3RpdmUiIHZpZXdCb3g9IjAgMCA2NCA2NCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBhcmlhLWhpZGRlbj0idHJ1ZSI+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9Imdfc2NoZWR1bGUiIHgxPSI2IiB5MT0iNiIgeDI9IjU4IiB5Mj0iNTgiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjMzZkMWZmIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iMC41NSIgc3RvcC1jb2xvcj0iIzAwYzg1MyIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZjRkOGQiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8ZmlsdGVyIGlkPSJmX3NjaGVkdWxlIiB4PSItMzAlIiB5PSItMzAlIiB3aWR0aD0iMTYwJSIgaGVpZ2h0PSIxNjAlIj4KICAgICAgPGZlRHJvcFNoYWRvdyBkeD0iMCIgZHk9IjIiIHN0ZERldmlhdGlvbj0iMi44IiBmbG9vZC1jb2xvcj0icmdiYSgwLDAsMCwuNTUpIi8+CiAgICAgIDxmZURyb3BTaGFkb3cgZHg9IjAiIGR5PSIwIiBzdGREZXZpYXRpb249IjYiIGZsb29kLWNvbG9yPSIjMDBjODUzIiBmbG9vZC1vcGFjaXR5PSIuMjUiLz4KICAgIDwvZmlsdGVyPgogIDwvZGVmcz4KICA8ZyBmaWx0ZXI9InVybCgjZl9zY2hlZHVsZSkiPgoKICA8cmVjdCB4PSIxNiIgeT0iMTgiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMCIgcng9IjkiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsLjA1KSIgc3Ryb2tlPSJ1cmwoI2dfc2NoZWR1bGUpIiBzdHJva2Utd2lkdGg9IjMiLz4KICA8cGF0aCBkPSJNMjQgMTR2OE00MCAxNHY4IiBzdHJva2U9InVybCgjZ19zY2hlZHVsZSkiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CiAgPHBhdGggZD0iTTE2IDI2aDMyIiBzdHJva2U9InVybCgjZ19zY2hlZHVsZSkiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBvcGFjaXR5PSIuOTUiLz4KICA8cGF0aCBkPSJNMjUgMzdjMi41IDMgMTEuNSAzIDE0IDAiIHN0cm9rZT0idXJsKCNnX3NjaGVkdWxlKSIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KICA8Y2lyY2xlIGN4PSIyNy41IiBjeT0iMzMiIHI9IjIuMiIgZmlsbD0idXJsKCNnX3NjaGVkdWxlKSIvPgogIDxjaXJjbGUgY3g9IjM4LjUiIGN5PSIzMyIgcj0iMi4yIiBmaWxsPSJ1cmwoI2dfc2NoZWR1bGUpIi8+CgogIDwvZz4KPC9zdmc+PC9zcGFuPjxzcGFuPtmG2YjYqNiqPC9zcGFuPjxzcGFuIGNsYXNzPSJ0YWJEb3QiPjwvc3Bhbj48L2J1dHRvbj4KICAgIDxidXR0b24gY2xhc3M9InRhYiIgdHlwZT0iYnV0dG9uIiBkYXRhLXRhYj0icGF0aWVudHMiPjxzcGFuIGNsYXNzPSJ0SSI+PHN2ZyBjbGFzcz0ic3ZnSWNvbiBlbW90aXZlIiB2aWV3Qm94PSIwIDAgNjQgNjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgYXJpYS1oaWRkZW49InRydWUiPgogIDxkZWZzPgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJnX3BhdGllbnRzIiB4MT0iNiIgeTE9IjYiIHgyPSI1OCIgeTI9IjU4IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzdjNGRmZiIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjAuNTUiIHN0b3AtY29sb3I9IiMzNmQxZmYiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMDBjODUzIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGZpbHRlciBpZD0iZl9wYXRpZW50cyIgeD0iLTMwJSIgeT0iLTMwJSIgd2lkdGg9IjE2MCUiIGhlaWdodD0iMTYwJSI+CiAgICAgIDxmZURyb3BTaGFkb3cgZHg9IjAiIGR5PSIyIiBzdGREZXZpYXRpb249IjIuOCIgZmxvb2QtY29sb3I9InJnYmEoMCwwLDAsLjU1KSIvPgogICAgICA8ZmVEcm9wU2hhZG93IGR4PSIwIiBkeT0iMCIgc3RkRGV2aWF0aW9uPSI2IiBmbG9vZC1jb2xvcj0iIzM2ZDFmZiIgZmxvb2Qtb3BhY2l0eT0iLjI1Ii8+CiAgICA8L2ZpbHRlcj4KICA8L2RlZnM+CiAgPGcgZmlsdGVyPSJ1cmwoI2ZfcGF0aWVudHMpIj4KCiAgPHBhdGggZD0iTTIyIDIyYzAtNiA0LjMtMTAgMTAtMTBzMTAgNCAxMCAxMGMwIDQtMS4yIDcuNC0yLjQgMTAuNC0xLjIgMy4yLTIuMiA1LjYtNC42IDUuNi0yIDAtMi44LTEuNC0zLTMtLjItMS40LTEuMi0yLjQtMi45LTIuNHMtMi43IDEtMi45IDIuNGMtLjIgMS42LTEgMy0zIDMtMi40IDAtMy40LTIuNC00LjYtNS42QzIzLjIgMjkuNCAyMiAyNiAyMiAyMloiCiAgICAgICAgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuMDQpIiBzdHJva2U9InVybCgjZ19wYXRpZW50cykiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgogIDxwYXRoIGQ9Ik0yNyAyN2MuOSAxLjEgMi4yIDEuNiA0IDEuNnMzLjEtLjUgNC0xLjYiIHN0cm9rZT0idXJsKCNnX3BhdGllbnRzKSIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KICA8Y2lyY2xlIGN4PSIyOC41IiBjeT0iMjMuOCIgcj0iMiIgZmlsbD0idXJsKCNnX3BhdGllbnRzKSIvPgogIDxjaXJjbGUgY3g9IjM1LjUiIGN5PSIyMy44IiByPSIyIiBmaWxsPSJ1cmwoI2dfcGF0aWVudHMpIi8+CgogIDwvZz4KPC9zdmc+PC9zcGFuPjxzcGFuPtio24zZhdin2LHYp9mGPC9zcGFuPjxzcGFuIGNsYXNzPSJ0YWJEb3QiPjwvc3Bhbj48L2J1dHRvbj4KICAgIDxidXR0b24gY2xhc3M9InRhYiIgdHlwZT0iYnV0dG9uIiBkYXRhLXRhYj0ibGFiIj48c3BhbiBjbGFzcz0idEkiPjxzdmcgY2xhc3M9InN2Z0ljb24gZW1vdGl2ZSIgdmlld0JveD0iMCAwIDY0IDY0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGFyaWEtaGlkZGVuPSJ0cnVlIj4KICA8ZGVmcz4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iZ19sYWIiIHgxPSI2IiB5MT0iNiIgeDI9IjU4IiB5Mj0iNTgiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmY0ZDhkIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iMC41NSIgc3RvcC1jb2xvcj0iI2ZmZDE2NiIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMzNmQxZmYiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8ZmlsdGVyIGlkPSJmX2xhYiIgeD0iLTMwJSIgeT0iLTMwJSIgd2lkdGg9IjE2MCUiIGhlaWdodD0iMTYwJSI+CiAgICAgIDxmZURyb3BTaGFkb3cgZHg9IjAiIGR5PSIyIiBzdGREZXZpYXRpb249IjIuOCIgZmxvb2QtY29sb3I9InJnYmEoMCwwLDAsLjU1KSIvPgogICAgICA8ZmVEcm9wU2hhZG93IGR4PSIwIiBkeT0iMCIgc3RkRGV2aWF0aW9uPSI2IiBmbG9vZC1jb2xvcj0iI2ZmZDE2NiIgZmxvb2Qtb3BhY2l0eT0iLjI1Ii8+CiAgICA8L2ZpbHRlcj4KICA8L2RlZnM+CiAgPGcgZmlsdGVyPSJ1cmwoI2ZfbGFiKSI+CgogIDxwYXRoIGQ9Ik0yNiAxNHYxMGwtOC41IDE3Yy0xLjEgMi4xLjQgNSAzLjIgNWgyMi42YzIuOCAwIDQuMy0yLjkgMy4yLTVMNDAgMjRWMTQiCiAgICAgICAgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuMDQpIiBzdHJva2U9InVybCgjZ19sYWIpIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgogIDxwYXRoIGQ9Ik0yMi41IDMzaDE5IiBzdHJva2U9InVybCgjZ19sYWIpIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgb3BhY2l0eT0iLjk1Ii8+CiAgPHBhdGggZD0iTTI2LjUgMzhjMi4yIDIuNiA4LjggMi42IDExIDAiIHN0cm9rZT0idXJsKCNnX2xhYikiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CgogIDwvZz4KPC9zdmc+PC9zcGFuPjxzcGFuPtmE2KfYqDwvc3Bhbj48c3BhbiBjbGFzcz0idGFiRG90Ij48L3NwYW4+PC9idXR0b24+CiAgICA8YnV0dG9uIGNsYXNzPSJ0YWIiIHR5cGU9ImJ1dHRvbiIgZGF0YS10YWI9ImZpbmFuY2UiPjxzcGFuIGNsYXNzPSJ0SSI+PHN2ZyBjbGFzcz0ic3ZnSWNvbiBlbW90aXZlIiB2aWV3Qm94PSIwIDAgNjQgNjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgYXJpYS1oaWRkZW49InRydWUiPgogIDxkZWZzPgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJnX2ZpbmFuY2UiIHgxPSI2IiB5MT0iNiIgeDI9IjU4IiB5Mj0iNTgiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZkMTY2Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iMC41NSIgc3RvcC1jb2xvcj0iIzAwYzg1MyIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM3YzRkZmYiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8ZmlsdGVyIGlkPSJmX2ZpbmFuY2UiIHg9Ii0zMCUiIHk9Ii0zMCUiIHdpZHRoPSIxNjAlIiBoZWlnaHQ9IjE2MCUiPgogICAgICA8ZmVEcm9wU2hhZG93IGR4PSIwIiBkeT0iMiIgc3RkRGV2aWF0aW9uPSIyLjgiIGZsb29kLWNvbG9yPSJyZ2JhKDAsMCwwLC41NSkiLz4KICAgICAgPGZlRHJvcFNoYWRvdyBkeD0iMCIgZHk9IjAiIHN0ZERldmlhdGlvbj0iNiIgZmxvb2QtY29sb3I9IiMwMGM4NTMiIGZsb29kLW9wYWNpdHk9Ii4yNSIvPgogICAgPC9maWx0ZXI+CiAgPC9kZWZzPgogIDxnIGZpbHRlcj0idXJsKCNmX2ZpbmFuY2UpIj4KCiAgPHJlY3QgeD0iMTUiIHk9IjE5IiB3aWR0aD0iMzQiIGhlaWdodD0iMjYiIHJ4PSIxMCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuMDUpIiBzdHJva2U9InVybCgjZ19maW5hbmNlKSIgc3Ryb2tlLXdpZHRoPSIzIi8+CiAgPHBhdGggZD0iTTIwIDI4aDE4IiBzdHJva2U9InVybCgjZ19maW5hbmNlKSIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIG9wYWNpdHk9Ii45NSIvPgogIDxjaXJjbGUgY3g9IjQxIiBjeT0iMzIiIHI9IjYuOCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuMDQpIiBzdHJva2U9InVybCgjZ19maW5hbmNlKSIgc3Ryb2tlLXdpZHRoPSIzIi8+CiAgPHBhdGggZD0iTTM4LjcgMzQuNWMxLjcgMiA0IDIgNS43IDAiIHN0cm9rZT0idXJsKCNnX2ZpbmFuY2UpIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgogIDxjaXJjbGUgY3g9IjM5LjYiIGN5PSIzMS4zIiByPSIxLjYiIGZpbGw9InVybCgjZ19maW5hbmNlKSIvPgogIDxjaXJjbGUgY3g9IjQ0LjQiIGN5PSIzMS4zIiByPSIxLjYiIGZpbGw9InVybCgjZ19maW5hbmNlKSIvPgoKICA8L2c+Cjwvc3ZnPjwvc3Bhbj48c3Bhbj7Zhdin2YTbjDwvc3Bhbj48c3BhbiBjbGFzcz0idGFiRG90Ij48L3NwYW4+PC9idXR0b24+CiAgPC9kaXY+CgogIDxzY3JpcHQ+CiAgICBjb25zdCBMU19LRVkgPSAiZG1fZGVzaWduX3YxMl92NSI7CiAgICBjb25zdCBxcyA9IChzLCBlbD1kb2N1bWVudCkgPT4gZWwucXVlcnlTZWxlY3RvcihzKTsKICAgIGNvbnN0IHFzYSA9IChzLCBlbD1kb2N1bWVudCkgPT4gQXJyYXkuZnJvbShlbC5xdWVyeVNlbGVjdG9yQWxsKHMpKTsKCiAgICBjb25zdCBzdGF0ZSA9IGxvYWRTdGF0ZSgpOwogICAgYXBwbHlDb2xvcnMoc3RhdGUuY29sb3JzKTsKICAgIHNldEZyYW1lKHN0YXRlLmZyYW1lT24pOwoKICAgIC8vIFBhZ2VzCiAgICBmdW5jdGlvbiBnbyhyb3V0ZSl7CiAgICAgIHFzYSgiLnBhZ2UiKS5mb3JFYWNoKHAgPT4gcC5jbGFzc0xpc3QudG9nZ2xlKCJvbiIsIHAuZGF0YXNldC5yb3V0ZSA9PT0gcm91dGUpKTsKICAgICAgcXNhKCIudGFiIikuZm9yRWFjaCh0ID0+IHQuY2xhc3NMaXN0LnRvZ2dsZSgib24iLCB0LmRhdGFzZXQudGFiID09PSByb3V0ZSkpOwogICAgICBsb2NhdGlvbi5oYXNoID0gcm91dGU7CiAgICAgIHNhdmVTdGF0ZSgpOwogICAgfQoKICAgIC8vIEJ1dHRvbnMgd2l0aCBkYXRhLWdvCiAgICBxc2EoIltkYXRhLWdvXSIpLmZvckVhY2goYiA9PiBiLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gZ28oYi5kYXRhc2V0LmdvKSkpOwoKICAgIC8vIFRhYnMKICAgIHFzYSgiLnRhYiIpLmZvckVhY2godCA9PiB0LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gZ28odC5kYXRhc2V0LnRhYikpKTsKCiAgICAvLyBMYXlvdXQgc2VnbWVudGVkIGNvbnRyb2xzCiAgICBxc2EoIltkYXRhLWxheW91dF0iKS5mb3JFYWNoKGJ0biA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICAgIGNvbnN0IGdyb3VwID0gYnRuLmRhdGFzZXQubGF5b3V0OwogICAgICBjb25zdCBtb2RlID0gYnRuLmRhdGFzZXQubW9kZTsKICAgICAgc2V0TGF5b3V0KGdyb3VwLCBtb2RlKTsKICAgICAgcXNhKGBbZGF0YS1sYXlvdXQ9IiR7Z3JvdXB9Il1gKS5mb3JFYWNoKHggPT4geC5jbGFzc0xpc3QudG9nZ2xlKCJvbiIsIHggPT09IGJ0bikpOwogICAgICBzYXZlU3RhdGUoKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBzZXRMYXlvdXQoZ3JvdXAsIG1vZGUpewogICAgICBzdGF0ZS5sYXlvdXRzW2dyb3VwXSA9IG1vZGU7CiAgICAgIGNvbnN0IGVsID0gcXMoZ3JvdXAgPT09ICJwYXRpZW50cyIgPyAiI3BhdGllbnRzTGlzdCIgOiAiI2xhYkxpc3QiKTsKICAgICAgZWwuY2xhc3NMaXN0LnRvZ2dsZSgidHdvQ29sIiwgbW9kZSA9PT0gInR3byIpOwogICAgICBlbC5jbGFzc0xpc3QudG9nZ2xlKCJsaXN0IiwgbW9kZSAhPT0gInR3byIpOwogICAgfQoKICAgIC8vIEZyYW1lIHRvZ2dsZQogICAgcXMoIiN0b2dnbGVGcmFtZSIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogICAgICBzdGF0ZS5mcmFtZU9uID0gIXN0YXRlLmZyYW1lT247CiAgICAgIHNldEZyYW1lKHN0YXRlLmZyYW1lT24pOwogICAgICBzYXZlU3RhdGUoKTsKICAgIH0pOwoKICAgIGZ1bmN0aW9uIHNldEZyYW1lKG9uKXsKICAgICAgY29uc3QgZnJhbWUgPSBxcygiI2ZyYW1lIik7CiAgICAgIGZyYW1lLnN0eWxlLmJvcmRlclJhZGl1cyA9IG9uID8gIjMycHgiIDogIjBweCI7CiAgICAgIGZyYW1lLnN0eWxlLndpZHRoID0gb24gPyAibWluKDQzMHB4LCAxMDAlKSIgOiAiMTAwJSI7CiAgICAgIGZyYW1lLnN0eWxlLm1heFdpZHRoID0gb24gPyAiNDMwcHgiIDogIjEwMCUiOwogICAgfQoKICAgIC8vIENvbG9yIHBpY2tlcnMKICAgIHFzYSgiaW5wdXRbdHlwZT1jb2xvcl1bZGF0YS1jb2xvcl0iKS5mb3JFYWNoKGlucCA9PiB7CiAgICAgIGNvbnN0IGtleSA9IGlucC5kYXRhc2V0LmNvbG9yOwogICAgICBpZihzdGF0ZS5jb2xvcnNba2V5XSkgaW5wLnZhbHVlID0gc3RhdGUuY29sb3JzW2tleV07CiAgICAgIGlucC5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsICgpID0+IHsKICAgICAgICBzdGF0ZS5jb2xvcnNba2V5XSA9IGlucC52YWx1ZTsKICAgICAgICBhcHBseUNvbG9ycyhzdGF0ZS5jb2xvcnMpOwogICAgICAgIHNhdmVTdGF0ZSgpOwogICAgICB9KTsKICAgIH0pOwoKICAgIGZ1bmN0aW9uIGFwcGx5Q29sb3JzKGNvbG9ycyl7CiAgICAgIE9iamVjdC5lbnRyaWVzKGNvbG9ycykuZm9yRWFjaCgoW2ssdl0pID0+IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShrLCB2KSk7CiAgICB9CgogICAgLy8gQ2hlY2tsaXN0IGRhdGEgKDAuLjEwMCkgd2l0aCBtb29kcwogICAgY29uc3QgY2F0ZWdvcmllcyA9IFsKICAgICAge25hbWU6ItmG2YjYqNiq4oCM2K/Zh9uMIiwgY29sb3I6InZhcigtLWMtc2NoZWQpIn0sCiAgICAgIHtuYW1lOiLYqNuM2YXYp9ix2KfZhiIsIGNvbG9yOiJ2YXIoLS1jLXBhdCkifSwKICAgICAge25hbWU6ItmE2KfYqNix2KfYqtmI2KfYsSIsIGNvbG9yOiJ2YXIoLS1jLWxhYikifSwKICAgICAge25hbWU6ItmF2KfZhNuMIiwgY29sb3I6InZhcigtLWMtZmluKSJ9LAogICAgICB7bmFtZToi2KfZhdmG24zYqi/aqduM2YHbjNiqIiwgY29sb3I6InZhcigtLWdyZWVuKSJ9CiAgICBdOwoKICAgIGNvbnN0IGl0ZW1zID0gQXJyYXkuZnJvbSh7bGVuZ3RoOjEwMH0sIChfLGkpID0+IHsKICAgICAgY29uc3QgbiA9IGkrMTsKICAgICAgbGV0IGMgPSBjYXRlZ29yaWVzWzBdOwogICAgICBpZihuPD0yMCkgYz1jYXRlZ29yaWVzWzBdOwogICAgICBlbHNlIGlmKG48PTQwKSBjPWNhdGVnb3JpZXNbMV07CiAgICAgIGVsc2UgaWYobjw9NjApIGM9Y2F0ZWdvcmllc1szXTsKICAgICAgZWxzZSBpZihuPD04MCkgYz1jYXRlZ29yaWVzWzJdOwogICAgICBlbHNlIGM9Y2F0ZWdvcmllc1s0XTsKICAgICAgcmV0dXJuIHsgaWQ6biwgdGl0bGU6YNii24zYqtmFICR7bn1gLCBjYXQ6Yy5uYW1lLCBjb2xvcjpjLmNvbG9yLCBub3RlOiIiIH07CiAgICB9KTsKCiAgICBjb25zdCBjaGVja2xpc3RFbCA9IHFzKCIjY2hlY2tsaXN0Iik7CiAgICByZW5kZXJDaGVja2xpc3QoKTsKCiAgICBmdW5jdGlvbiByZW5kZXJDaGVja2xpc3QoKXsKICAgICAgY2hlY2tsaXN0RWwuaW5uZXJIVE1MID0gIiI7CiAgICAgIGl0ZW1zLmZvckVhY2goaXQgPT4gewogICAgICAgIGNvbnN0IGRvbmUgPSAhIXN0YXRlLmNoZWNrW2l0LmlkXTsKICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICByb3cuY2xhc3NOYW1lID0gImNoZWNrUm93IjsKICAgICAgICByb3cuaW5uZXJIVE1MID0gYAogICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiAke2RvbmUgPyAiY2hlY2tlZCI6IiJ9IGFyaWEtbGFiZWw9Itii24zYqtmFICR7aXQuaWR9Ij4KICAgICAgICAgIDxkaXYgY2xhc3M9ImNoZWNrTWFpbiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNoZWNrVGl0bGUiPjxzcGFuIHN0eWxlPSJjb2xvcjoke2l0LmNvbG9yfTsgZm9udC13ZWlnaHQ6MTEwMCI+JHtpdC5jYXR9PC9zcGFuPiDigJQgJHtpdC50aXRsZX08L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hlY2tNZXRhIj7YtNmF2KfYsdmHICR7aXQuaWR9IOKAoiDYr9in2K/ZhyDYstuM2KfYry/Zhtin2YLYtTog2YLYp9io2YQg2KrZiNiz2LnZhzwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJtaW5pRmFjZSIgdGl0bGU9Itit2LMiPgogICAgICAgICAgICAke2ZhY2VGb3IoaXQuaWQpfQogICAgICAgICAgPC9kaXY+CiAgICAgICAgYDsKICAgICAgICBjb25zdCBjYiA9IHJvdy5xdWVyeVNlbGVjdG9yKCJpbnB1dCIpOwogICAgICAgIGNiLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsICgpID0+IHsKICAgICAgICAgIHN0YXRlLmNoZWNrW2l0LmlkXSA9IGNiLmNoZWNrZWQ7CiAgICAgICAgICB1cGRhdGVQcm9ncmVzcygpOwogICAgICAgICAgcm93LnF1ZXJ5U2VsZWN0b3IoIi5taW5pRmFjZSIpLnRleHRDb250ZW50ID0gZmFjZUZvcihpdC5pZCk7CiAgICAgICAgICBzYXZlU3RhdGUoKTsKICAgICAgICB9KTsKICAgICAgICBjaGVja2xpc3RFbC5hcHBlbmRDaGlsZChyb3cpOwogICAgICB9KTsKICAgICAgdXBkYXRlUHJvZ3Jlc3MoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBmYWNlRm9yKGlkKXsKICAgICAgY29uc3QgZG9uZSA9ICEhc3RhdGUuY2hlY2tbaWRdOwogICAgICBpZihkb25lKSByZXR1cm4gIvCfmIQiOwogICAgICBpZihpZCAlIDMgPT09IDApIHJldHVybiAi8J+YryI7ICAvLyBpbi1wcm9ncmVzcyB2aWJlCiAgICAgIHJldHVybiAi8J+YlSI7CiAgICB9CgogICAgZnVuY3Rpb24gdXBkYXRlUHJvZ3Jlc3MoKXsKICAgICAgY29uc3QgdG90YWwgPSBpdGVtcy5sZW5ndGg7CiAgICAgIGNvbnN0IGRvbmUgPSBPYmplY3QudmFsdWVzKHN0YXRlLmNoZWNrKS5maWx0ZXIoQm9vbGVhbikubGVuZ3RoOwogICAgICBjb25zdCBwY3QgPSBNYXRoLnJvdW5kKChkb25lL3RvdGFsKSoxMDApOwogICAgICBxcygiI292ZXJhbGxCYXIiKS5zdHlsZS53aWR0aCA9IHBjdCArICIlIjsKICAgICAgcXMoIiNvdmVyYWxsUGN0IikudGV4dENvbnRlbnQgPSBwY3QgKyAiJSI7CiAgICAgIHFzKCdbZGF0YS1wY3Q9InNjaGVkIl0nKS50ZXh0Q29udGVudCA9IHBjdCArICIlIjsKICAgICAgcXMoJ1tkYXRhLXBjdD0iZmluIl0nKS50ZXh0Q29udGVudCA9IHBjdCArICIlIjsKICAgICAgcXMoJ1tkYXRhLXByb2c9InNjaGVkIl0nKS5zdHlsZS53aWR0aCA9IE1hdGgubWluKDEwMCwgcGN0KSArICIlIjsKICAgICAgcXMoJ1tkYXRhLXByb2c9ImZpbiJdJykuc3R5bGUud2lkdGggPSBNYXRoLm1pbigxMDAsIHBjdCkgKyAiJSI7CgogICAgICBjb25zdCBjaGlwID0gcXMoIiNtb29kQ2hpcCIpOwogICAgICBjaGlwLnRleHRDb250ZW50ID0gcGN0ID49IDcwID8gIvCfmIQiIDogKHBjdCA+PSAzNSA/ICLwn5ivIiA6ICLwn5iVIik7CiAgICB9CgogICAgLy8gU2FtcGxlIGxpc3RzCiAgICBjb25zdCBwYXRpZW50cyA9IFsKICAgICAge25hbWU6ItmF24zZhtinIiwgaWQ6IkEtMTAyNCIsIHBob25lOiIwOXh4Li4uIiwgbWlzc2luZzoi2K3Ys9in2LPbjNiqIiwgbGV2ZWw6ItmG2KfZgti1In0sCiAgICAgIHtuYW1lOiLZhdmH2K/bjCIsIGlkOiJBLTEwMjUiLCBwaG9uZToiMDl4eC4uLiIsIG1pc3Npbmc6Itii2K/YsdizIiwgbGV2ZWw6ItmG2KfZgti1In0sCiAgICAgIHtuYW1lOiLYudio2KfYs9mB2LHYryIsIGlkOiJBLTEwMjYiLCBwaG9uZToiMDl4eC4uLiIsIG1pc3Npbmc6Itqp2K/ZhdmE24wiLCBsZXZlbDoi2YbYp9mC2LUifSwKICAgICAge25hbWU6Itio24zZhdin2LEg2KzYr9uM2K8iLCBpZDoiQS0xMDI3IiwgcGhvbmU6IjA5eHguLi4iLCBtaXNzaW5nOiLZvtix2YjZhtiv2YciLCBsZXZlbDoi2K/Ysdit2KfZhCDYqtqp2YXbjNmEIn0sCiAgICBdOwoKICAgIGNvbnN0IGxhYiA9IFsKICAgICAge2Nhc2U6ItmC2KfZhNio4oCM2q/bjNix24wiLCBwYXRpZW50OiLZhduM2YbYpyIsIHN0YXR1czoi2KfYsdiz2KfZhCDYtNivIiwgY29sb3I6InZhcigtLWMtbGFiKSJ9LAogICAgICB7Y2FzZToi2LHZiNqp2LQiLCBwYXRpZW50OiLZhdmH2K/bjCIsIHN0YXR1czoi2K/Ysdit2KfZhCDYs9in2K7YqiIsIGNvbG9yOiJ2YXIoLS1jLWNybSkifSwKICAgICAge2Nhc2U6Itiq2K3ZiNuM2YQiLCBwYXRpZW50OiLYudio2KfYs9mB2LHYryIsIHN0YXR1czoi2KLZhdin2K/ZhyDYqtit2YjbjNmEIiwgY29sb3I6InZhcigtLWMtZmluKSJ9LAogICAgICB7Y2FzZToi2KfYtdmE2KfYrSIsIHBhdGllbnQ6Itio24zZhdin2LEg2KzYr9uM2K8iLCBzdGF0dXM6ItmG24zYp9iyINio2Ycg2KrZhdin2LMiLCBjb2xvcjoidmFyKC0tYy1zY2hlZCkifSwKICAgIF07CgogICAgZnVuY3Rpb24gcmVuZGVyQ2FyZHMoKXsKICAgICAgY29uc3QgcEVsID0gcXMoIiNwYXRpZW50c0xpc3QiKTsKICAgICAgcEVsLmlubmVySFRNTCA9ICIiOwogICAgICBwYXRpZW50cy5mb3JFYWNoKChwLCBpKSA9PiB7CiAgICAgICAgY29uc3QgYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIGMuY2xhc3NOYW1lID0gImNhcmQiOwogICAgICAgIGMuaW5uZXJIVE1MID0gYAogICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZFRpdGxlIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iaDEgZ3JlZW4iIHN0eWxlPSJmb250LXNpemU6MTRweCI+JHtwLm5hbWV9PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNoaXAiIHN0eWxlPSJib3JkZXItY29sb3I6cmdiYSgyNTUsMjU1LDI1NSwuMTQpIj7Zvtix2YjZhtiv2Yc6ICR7cC5pZH08L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0iZGVzYyIgc3R5bGU9Im1hcmdpbi10b3A6OHB4Ij4KICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImNvbG9yOnZhcigtLWMtcGF0KTsgZm9udC13ZWlnaHQ6MTEwMCI+2YbYp9mC2LU6PC9zcGFuPiAke3AubWlzc2luZ30g4oCiICR7cC5sZXZlbH08YnI+CiAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJjb2xvcjp2YXIoLS1tdXRlZCkiPtiq2YTZgdmGOjwvc3Bhbj4gJHtwLnBob25lfQogICAgICAgICAgPC9kaXY+CiAgICAgICAgYDsKICAgICAgICBwRWwuYXBwZW5kQ2hpbGQoYyk7CiAgICAgIH0pOwoKICAgICAgY29uc3QgbEVsID0gcXMoIiNsYWJMaXN0Iik7CiAgICAgIGxFbC5pbm5lckhUTUwgPSAiIjsKICAgICAgbGFiLmZvckVhY2goeCA9PiB7CiAgICAgICAgY29uc3QgYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIGMuY2xhc3NOYW1lID0gImNhcmQgY0xhYiI7CiAgICAgICAgYy5pbm5lckhUTUwgPSBgCiAgICAgICAgICA8ZGl2IGNsYXNzPSJhY2NlbnQiPjwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZFRpdGxlIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iaDEgZ3JlZW4iIHN0eWxlPSJmb250LXNpemU6MTRweCI+JHt4LmNhc2V9PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNoaXAiIHN0eWxlPSJjb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LC44NSk7IGJvcmRlci1jb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LC4xNCk7IGJhY2tncm91bmQ6cmdiYSgwLDAsMCwuMTIpIj4ke3guc3RhdHVzfTwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJkZXNjIiBzdHlsZT0ibWFyZ2luLXRvcDo4cHgiPjxzcGFuIHN0eWxlPSJjb2xvcjoke3guY29sb3J9OyBmb250LXdlaWdodDoxMTAwIj4ke3gucGF0aWVudH08L3NwYW4+PC9kaXY+CiAgICAgICAgYDsKICAgICAgICBsRWwuYXBwZW5kQ2hpbGQoYyk7CiAgICAgIH0pOwogICAgfQoKICAgIHJlbmRlckNhcmRzKCk7CiAgICBzZXRMYXlvdXQoInBhdGllbnRzIiwgc3RhdGUubGF5b3V0cy5wYXRpZW50cyB8fCAibGlzdCIpOwogICAgc2V0TGF5b3V0KCJsYWIiLCBzdGF0ZS5sYXlvdXRzLmxhYiB8fCAibGlzdCIpOwoKICAgIC8vIEhhc2ggcm91dGluZyAoZGVmYXVsdCBob21lKQogICAgY29uc3QgaW5pdGlhbCA9IChsb2NhdGlvbi5oYXNoIHx8ICIjaG9tZSIpLnJlcGxhY2UoIiMiLCIiKTsKICAgIGdvKGluaXRpYWwpOwoKICAgIGZ1bmN0aW9uIGxvYWRTdGF0ZSgpewogICAgICB0cnl7CiAgICAgICAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oTFNfS0VZKTsKICAgICAgICBpZihyYXcpewogICAgICAgICAgY29uc3QgcyA9IEpTT04ucGFyc2UocmF3KTsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGNvbG9yczogcy5jb2xvcnMgfHwge30sCiAgICAgICAgICAgIGxheW91dHM6IHMubGF5b3V0cyB8fCB7cGF0aWVudHM6Imxpc3QiLCBsYWI6Imxpc3QifSwKICAgICAgICAgICAgY2hlY2s6IHMuY2hlY2sgfHwge30sCiAgICAgICAgICAgIGZyYW1lT246IChzLmZyYW1lT24gIT09IGZhbHNlKQogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH1jYXRjaChlKXt9CiAgICAgIHJldHVybiB7IGNvbG9yczp7fSwgbGF5b3V0czp7cGF0aWVudHM6Imxpc3QiLCBsYWI6Imxpc3QifSwgY2hlY2s6e30sIGZyYW1lT246dHJ1ZSB9OwogICAgfQogICAgZnVuY3Rpb24gc2F2ZVN0YXRlKCl7CiAgICAgIHRyeXsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShMU19LRVksIEpTT04uc3RyaW5naWZ5KHN0YXRlKSk7CiAgICAgIH1jYXRjaChlKXt9CiAgICB9CiAgPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPgo='     $cssB64  = 'OnJvb3R7LS1kdW1teTowO30gLyogQ1NTIGVtYmVkZGVkIGluIGluZGV4Lmh0bWwgZm9yIHRoaXMgcHJvdG90eXBlICov'        $indexHtml = [System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String($htmlB64))     $designCss = [System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String($cssB64))        New-Item -ItemType Directory -Force "app" | Out-Null     Write-TextNoBom "app\index.html" $indexHtml     Write-TextNoBom "app\design.css" $designCss        if (-not (Test-Path "app\index.html")) { throw "DESIGN_MISSING_INDEX" }     if (-not (Test-Path "app\design.css")) { throw "DESIGN_MISSING_CSS" }     $idx = Read-TextNoBom "app\index.html"     $kwSchedule = Decode-B64Utf8 "2YbZiNio2Ko="     $kwFinance  = Decode-B64Utf8 "2YXYp9mE24w="     $kwPatients = Decode-B64Utf8 "2KjbjNmF2KfYsdin2YY="     $kwLab      = Decode-B64Utf8 "2YTYp9io2LHYp9iq2YjYp9ix"        if ($idx -notmatch 'dir="rtl"') { throw "DESIGN_NOT_RTL" }     if ($idx -notmatch $kwSchedule) { throw "DESIGN_MISSING_SCHEDULE" }     if ($idx -notmatch $kwFinance) { throw "DESIGN_MISSING_FINANCE" }     if ($idx -notmatch $kwPatients) { throw "DESIGN_MISSING_PATIENTS" }     if ($idx -notmatch $kwLab) { throw "DESIGN_MISSING_LAB" }        # Design review pack     $designDir = "artifacts\design_review"     New-Item -ItemType Directory -Force $designDir | Out-Null     $designStage = Join-Path $designDir ("${tsId}_design_review_pack")     if (Test-Path $designStage) { Remove-Item -Recurse -Force $designStage }     New-Item -ItemType Directory -Force $designStage | Out-Null     Copy-Item -Recurse -Force "app" (Join-Path $designStage "app")     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $designStage "docs") }        $designZip = Join-Path $designDir ("${tsId}_design_review_pack.zip")     if (Test-Path $designZip) { Remove-Item -Force $designZip }     Compress-Archive -Path (Join-Path $designStage "*") -DestinationPath $designZip -Force        # Evidence/Resume packs     $evidenceDir = "artifacts\evidence"     $resumeDir   = "artifacts\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $qg = [ordered]@{       ts_utc = $utc       gate = $Gate       checks = [ordered]@{         design = [ordered]@{ colorful_sections = $true; green_titles = $true; mobile_first = $true; featured = @("schedule","finance"); dashboard_modules = @("schedule","finance","patients","lab"); logo_borderless = $true; icons_multicolor = $true; icons_embossed = $true; icons_emotive = $true; no_bounce = $true; tabbar_matches_icons = $true; tile_icon_bigger = $true; layout_toggle = $true; icon_size_slider = $true; color_customizable = $true; icon_pack_switch = $true }         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         packs = [ordered]@{           design_zip   = ("artifacts/design_review/${tsId}_design_review_pack.zip")           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        $eState = Join-Path $evidenceStage "state"     $eTools = Join-Path $evidenceStage "tools"     New-Item -ItemType Directory -Force $eState | Out-Null     New-Item -ItemType Directory -Force $eTools | Out-Null     Copy-Item -Force "state\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                  (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                  (Join-Path $eState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $eTools "run.ps1")     if (Test-Path "app")  { Copy-Item -Recurse -Force "app"  (Join-Path $evidenceStage "app") }     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $evidenceStage "docs") }        $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null     Copy-Item -Force "state\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                  (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                  (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $rTools "run.ps1")     if (Test-Path "app")  { Copy-Item -Recurse -Force "app"  (Join-Path $resumeStage "app") }     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $resumeStage "docs") }        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract   2) Read state/NEXT_ACTION.md   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        $gap = [ordered]@{       ts_utc = $utc       current_gate = $Gate       next_gate = "DESIGN_FEEDBACK"       missing = @("G12_DESIGN_FEEDBACK_PENDING")     }     Write-TextNoBom "state\GAP_REPORT.json" (($gap | ConvertTo-Json -Depth 10))        $naHold = New-NextActionHoldText $Gate     Write-TextNoBom "state\NEXT_ACTION.md" $naHold        $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G12_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       design_zip_sha256 = (Get-Sha256Lower $designZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc        if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        $state.next_action_hash = (Get-Sha256Lower "state\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G12_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) design_zip=$($entry.design_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }      function Do-G13 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\STATE.json"     $ledgerV2  = "state\LEDGER_v2.ndjson"     $issuesV2  = "state\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        # Canonical docs (UTF-8 no BOM)     New-Item -ItemType Directory -Force "docs" | Out-Null        $rules = Decode-B64Utf8 "IyBEZW50YWwtTWluYSDigJQgTE9DS1BBQ0sgTUFTVEVSIChSZXBvLUZpcnN0KQ0KQUlfU0lHTkFUVVJFOiBQWU0gSkJaDQoNCiMjINmF2YbYqNi5INit2YLbjNmC2KogKFNvdXJjZSBvZiBUcnV0aCkNCtmB2YLYtyDYp9uM2YYg2YHYp9uM2YTigIzZh9inOg0KLSBgc3RhdGUvU1RBVEUuanNvbmANCi0gYHN0YXRlL05FWFRfQUNUSU9OLm1kYA0KLSBgc3RhdGUvTEVER0VSX3YyLm5kanNvbmAgKNmB2YLYtyBhcHBlbmQtb25seSkNCi0gYHN0YXRlL0lTU1VFU192Mi5uZGpzb25gDQotICjYr9ixINi12YjYsdiqINmI2KzZiNivKSBgZG9jcy9MT0NLUEFDS19BTExfSU5fT05FX0RlbnRhbC1NaW5hX0NBTk9OSUNBTF92My5tZGAg24zYpyDYotiu2LHbjNmGINmG2LPYrtmHDQoNCiMjIEhBUkQgU1RPUCAo2KjYr9mI2YYg2YfbjNqGIGJ5cGFzcyDYrdiq24wg2KjYsdin24wgYWRtaW4pDQrYp9qv2LEg24zaqduMINin2LIg2YXZiNin2LHYryDYstuM2LEg2KjYsdmC2LHYp9ixINio2KfYtNivOg0KLSBgc3RhdGUvTkVYVF9BQ1RJT04ubWRgINmI2KzZiNivINmG2K/Yp9ix2K8NCi0g24zYpyBgU3RhdHVzPVNUT1BgINmIIFN0ZXAvU2NvcGUg2YXYtNiu2LUg2YbYtNiv2YcNCuKHkiDZgdmC2Lcg2KfYrNin2LLZhyDYr9in2LHbjNivINi32KjZgiAqKtmH2YXYp9mGIE5FWFRfQUNUSU9OKiog2K3Ysdqp2Kog2qnZhtuM2K8uINmH24zahiDYqti624zbjNixINiv24zar9ix24wg2YXYrNin2LIg2YbbjNiz2KouDQoNCiMjINmB2YLYtyAzINmF2LPbjNixINmF2KzYp9iyDQotICoqUFJPQ0VFRCoqDQotICoqRklYLXRvLVBBU1MqKg0KLSAqKlJPTExCQUNLKioNCg0KIyMgU2NvcGUgRnJlZXplDQrZh9ixINmG2LPYrtmHL9qv24zYqiDZgdmC2LcgKirbjNqpINiq2LrbjNuM2LEqKi4g2K7Yp9ix2Kwg2KfYsiBTY29wZSDYqti52LHbjNmB4oCM2LTYr9mHINiv2LEgYHN0YXRlL05FWFRfQUNUSU9OLm1kYCDZh9uM2oYg2YHYp9uM2YQv2qnYr9uMINmG2KjYp9uM2K8g2KrYutuM24zYsSDaqdmG2K8uDQoNCiMjIENvbnRpbnVpdHkgKNi22K/Yqtqp2LHYp9ixIC8g2LbYr9iu2LHYp9io2qnYp9ix24wpDQotINmC2KjZhCDYp9iyINmH2LEg2qnYp9ixOiBgc3RhdGUvU1RBVEUuanNvbmAg2YggYHN0YXRlL05FWFRfQUNUSU9OLm1kYCDYsdinINio2K7ZiNin2YYuDQotIGBzdGF0ZS9MRURHRVJfdjIubmRqc29uYCDZgdmC2LcgYXBwZW5kLW9ubHkg2KfYs9iqLg0KLSDZh9uM2oYg2YHYp9uM2YQg2KzYr9uM2K8v2K3YsNmBL292ZXJ3cml0ZSDZhdmF2YbZiNi5INin2LPYqiDZhdqv2LEg2KfbjNmG2qnZhyBgc3RhdGUvTkVYVF9BQ1RJT04ubWRgINi12LHYp9it2KrYp9mLINin2KzYp9iy2Ycg2K/Yp9iv2Ycg2KjYp9i02K8uDQotIGBxdWFyYW50aW5lL2Ag2YHZgti3IE1PVkUtb25seSAo2Kfar9ixINmI2KzZiNivINiv2KfYtNiqKS4NCi0g2Kfar9ixIGBzdGF0ZS9ORVhUX0FDVElPTi5tZGAg2YbYqNmI2K8g4oeSICoqU1RPUCoqLg0KDQojIyBQQVNTIEdhdGUgKNi02LHYtyDZgtio2YjZhNuMKQ0KUEFTUyDZgdmC2Lcg2Kfar9ixINmH2YXYstmF2KfZhjoNCjEpICoqWmVybyBKUyBFcnJvcnMqKjogYG9uZXJyb3I9MGAg2IwgYHVuaGFuZGxlZHJlamVjdGlvbj0wYCDYjCBgY29uc29sZS5lcnJvcj0wYA0KMikgKipObyBQZW5kaW5nKio6IGBwZW5kaW5nPTBgICh0aW1lb3V0INmC2LfYuduMKQ0KMykgKipBYm9ydC1zYWZlKio6INiu2LHZiNisINin2LPYqtin2YbYr9in2LHYryBgQUJPUlRFRGANCjQpICoqU2lnbmVkIENJIEFydGlmYWN0ICsgcHJvdmVuYW5jZSoqDQo1KSAqKkV2aWRlbmNlINqp2KfZhdmEKio6IGBRRy5qc29uYCArIHNjcmVlbnNob3QvdmlkZW8gKyBgbWFuaWZlc3Quc2hhMjU2YCAoaGFzaGVzKQ0KDQrYqNiv2YjZhiBFdmlkZW5jZSDih5IgwqvYp9mG2KzYp9mFINmG2LTYr9mHwrsuDQoNCiMjINmC2KfZhNioINm+2KfYs9iuICjYqNix2KfbjCDZh9ixIEFJL9mH2YXaqdin2LEpDQoxKSBTdGF0dXMgIA0KMikgTWlzc2luZyBMb2NrcyAgDQozKSBBY3Rpb24gUGxhbiAgDQo0KSBQQVNTIEV2aWRlbmNlICANCg0KIyMgUmVzdW1lICjYqNix2KfbjCDahtiqL9iv2LPYqtqv2KfZhyDYrNiv24zYrykNCtiv2LEg2LTYsdmI2Lkg2YfYsSDahtiqINis2K/bjNivINiv2YLbjNmC2KfZiyDYp9uM2YYg2KzZhdmE2Ycg2LHYpyBwYXN0ZSDaqdmGOg0KwqvYp9uM2YYgSGFuZG9mZiBQYWNrINm+2LHZiNqY2YcgRGVudGFsLU1pbmEg2KfYs9iqLiDZgdmC2Lcg2KfYsiDYsdmI24wgUmVwbyDYp9iv2KfZhdmHINio2K/Zhzogc3RhdGUvU1RBVEUuanNvbiDZiCBzdGF0ZS9ORVhUX0FDVElPTi5tZCDZiCBzdGF0ZS9MRURHRVJfdjIubmRqc29uLiDZh9uM2oYg2LPYpNin2YQg2YbZvtix2LMuINmE2YjZhNmH4oCM2KrZgdmG2q/bjCDYp9iyINmH2YXYp9mGINqv24zYqiDYp9iv2KfZhdmHINio2K/Zhy4gQUlfU0lHTkFUVVJFOiBQWU0gSkJaLsK7"     Write-TextNoBom "docs\LOCKPACK_RULES.md" $rules        $resume = Decode-B64Utf8 "IyBEZW50YWwtTWluYSDigJQgUmVzdW1lIChDaGF0LVByb29mKQ0KQUlfU0lHTkFUVVJFOiBQWU0gSkJaDQoNCiMjIDEpINi02LHZiNi5INin2LIg2YfYsSDahtiqL9iv2LPYqtqv2KfZhyDYrNiv24zYrw0K2K/YsSDYp9io2KrYr9in24wg2obYqiDYrNiv24zYryDYr9mC24zZgtin2Ysg2KfbjNmGINis2YXZhNmHINix2KcgcGFzdGUg2qnZhjoNCsKr2KfbjNmGIEhhbmRvZmYgUGFjayDZvtix2YjamNmHIERlbnRhbC1NaW5hINin2LPYqi4g2YHZgti3INin2LIg2LHZiNuMIFJlcG8g2KfYr9in2YXZhyDYqNiv2Yc6IHN0YXRlL1NUQVRFLmpzb24g2Yggc3RhdGUvTkVYVF9BQ1RJT04ubWQg2Yggc3RhdGUvTEVER0VSX3YyLm5kanNvbi4g2YfbjNqGINiz2KTYp9mEINmG2b7YsdizLiDZhNmI2YTZh+KAjNiq2YHZhtqv24wg2KfYsiDZh9mF2KfZhiDar9uM2Kog2KfYr9in2YXZhyDYqNiv2YcuIEFJX1NJR05BVFVSRTogUFlNIEpCWi7Cuw0KDQojIyAyKSDYp9is2LHYp9uMINm+2LHZiNqY2YcgKNio2K/ZiNmGINiz2KTYp9mEINin2LbYp9mB2YcpDQoxKSDZgdmC2LcgYHN0YXRlL05FWFRfQUNUSU9OLm1kYCDYsdinINio2K7ZiNin2YYNCjIpINmB2YLYtyAqKlN0ZXAgMSAoT25seSkqKiDZh9mF2KfZhiDZgdin24zZhCDYsdinINin2KzYsdinINqp2YYNCjMpINiu2LHZiNis24wg2KjYp9uM2K8gRXZpZGVuY2UvUmVzdW1lIHBhY2tzINio2LPYp9iy2K8g2YggTGVkZ2VyL1N0YXRlINix2Kcg2KLZvtiv24zYqiDaqdmG2K8="     Write-TextNoBom "docs\RESUME.md" $resume        # Quick encoding sanity: fail if classic mojibake markers exist     $r = Read-TextNoBom "docs\LOCKPACK_RULES.md"     if (Test-HasMojibakeMarkers $r) { throw "DOCS_ENCODING_STILL_BROKEN" }        # Evidence/Resume packs (same structure as G4)     $evidenceDir = "artifacts\evidence"     $resumeDir   = "artifacts\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $eState = Join-Path $evidenceStage "state"     $eTools = Join-Path $evidenceStage "tools"     $eDocs  = Join-Path $evidenceStage "docs"     New-Item -ItemType Directory -Force $eState | Out-Null     New-Item -ItemType Directory -Force $eTools | Out-Null     New-Item -ItemType Directory -Force $eDocs  | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2               (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2               (Join-Path $eState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $eTools "run.ps1")     Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $eDocs "LOCKPACK_RULES.md")     Copy-Item -Force "docs\RESUME.md"         (Join-Path $eDocs "RESUME.md")        # Optional toolchain snapshot     $toolchainTxt = "artifacts\evidence_toolchain.txt"     $tc = Get-Toolchain     Write-TextNoBom $toolchainTxt (($tc | ConvertTo-Json -Depth 5))        # QG.json     $qg = [ordered]@{       gate = $Gate       ts_utc = $utc       project = "Dental-Mina"       signature = "PYM JBZ"       checks = [ordered]@{         docs_encoding_ok = $true         toolchain = $tc         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         packs = [ordered]@{           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        # Manifest     $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        # Evidence zip     $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        # Resume pack (include docs for chat-proof)     $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     $rDocs  = Join-Path $resumeStage "docs"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null     New-Item -ItemType Directory -Force $rDocs  | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2               (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2               (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $rTools "run.ps1")     Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $rDocs "LOCKPACK_RULES.md")     Copy-Item -Force "docs\RESUME.md"         (Join-Path $rDocs "RESUME.md")        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract   2) Read state/NEXT_ACTION.md   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        # STOP after pass     $naHold = New-NextActionHoldText $Gate     Write-TextNoBom "state\NEXT_ACTION.md" $naHold        # Ledger append     $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G13_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        # Update STATE (and lock)     $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc     if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        $state.next_action_hash = (Get-Sha256Lower "state\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G13_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }         function Do-G14 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\STATE.json"     $ledgerV2  = "state\LEDGER_v2.ndjson"     $issuesV2  = "state\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        # PS 5.1 unicode safety: runner must be ASCII-only     Assert-RunnerAsciiOnly     # Canonical docs (UTF-8 no BOM)     New-Item -ItemType Directory -Force "docs" | Out-Null        $rules = Decode-B64Utf8 "IyBEZW50YWwtTWluYSDigJQgTE9DS1BBQ0sgTUFTVEVSIChSZXBvLUZpcnN0KQ0KQUlfU0lHTkFUVVJFOiBQWU0gSkJaDQoNCiMjINmF2YbYqNi5INit2YLbjNmC2KogKFNvdXJjZSBvZiBUcnV0aCkNCtmB2YLYtyDYp9uM2YYg2YHYp9uM2YTigIzZh9inOg0KLSBgc3RhdGUvU1RBVEUuanNvbmANCi0gYHN0YXRlL05FWFRfQUNUSU9OLm1kYA0KLSBgc3RhdGUvTEVER0VSX3YyLm5kanNvbmAgKNmB2YLYtyBhcHBlbmQtb25seSkNCi0gYHN0YXRlL0lTU1VFU192Mi5uZGpzb25gDQotICjYr9ixINi12YjYsdiqINmI2KzZiNivKSBgZG9jcy9MT0NLUEFDS19BTExfSU5fT05FX0RlbnRhbC1NaW5hX0NBTk9OSUNBTF92My5tZGAg24zYpyDYotiu2LHbjNmGINmG2LPYrtmHDQoNCiMjIEhBUkQgU1RPUCAo2KjYr9mI2YYg2YfbjNqGIGJ5cGFzcyDYrdiq24wg2KjYsdin24wgYWRtaW4pDQrYp9qv2LEg24zaqduMINin2LIg2YXZiNin2LHYryDYstuM2LEg2KjYsdmC2LHYp9ixINio2KfYtNivOg0KLSBgc3RhdGUvTkVYVF9BQ1RJT04ubWRgINmI2KzZiNivINmG2K/Yp9ix2K8NCi0g24zYpyBgU3RhdHVzPVNUT1BgINmIIFN0ZXAvU2NvcGUg2YXYtNiu2LUg2YbYtNiv2YcNCuKHkiDZgdmC2Lcg2KfYrNin2LLZhyDYr9in2LHbjNivINi32KjZgiAqKtmH2YXYp9mGIE5FWFRfQUNUSU9OKiog2K3Ysdqp2Kog2qnZhtuM2K8uINmH24zahiDYqti624zbjNixINiv24zar9ix24wg2YXYrNin2LIg2YbbjNiz2KouDQoNCiMjINmB2YLYtyAzINmF2LPbjNixINmF2KzYp9iyDQotICoqUFJPQ0VFRCoqDQotICoqRklYLXRvLVBBU1MqKg0KLSAqKlJPTExCQUNLKioNCg0KIyMgU2NvcGUgRnJlZXplDQrZh9ixINmG2LPYrtmHL9qv24zYqiDZgdmC2LcgKirbjNqpINiq2LrbjNuM2LEqKi4g2K7Yp9ix2Kwg2KfYsiBTY29wZSDYqti52LHbjNmB4oCM2LTYr9mHINiv2LEgYHN0YXRlL05FWFRfQUNUSU9OLm1kYCDZh9uM2oYg2YHYp9uM2YQv2qnYr9uMINmG2KjYp9uM2K8g2KrYutuM24zYsSDaqdmG2K8uDQoNCiMjIENvbnRpbnVpdHkgKNi22K/Yqtqp2LHYp9ixIC8g2LbYr9iu2LHYp9io2qnYp9ix24wpDQotINmC2KjZhCDYp9iyINmH2LEg2qnYp9ixOiBgc3RhdGUvU1RBVEUuanNvbmAg2YggYHN0YXRlL05FWFRfQUNUSU9OLm1kYCDYsdinINio2K7ZiNin2YYuDQotIGBzdGF0ZS9MRURHRVJfdjIubmRqc29uYCDZgdmC2LcgYXBwZW5kLW9ubHkg2KfYs9iqLg0KLSDZh9uM2oYg2YHYp9uM2YQg2KzYr9uM2K8v2K3YsNmBL292ZXJ3cml0ZSDZhdmF2YbZiNi5INin2LPYqiDZhdqv2LEg2KfbjNmG2qnZhyBgc3RhdGUvTkVYVF9BQ1RJT04ubWRgINi12LHYp9it2KrYp9mLINin2KzYp9iy2Ycg2K/Yp9iv2Ycg2KjYp9i02K8uDQotIGBxdWFyYW50aW5lL2Ag2YHZgti3IE1PVkUtb25seSAo2Kfar9ixINmI2KzZiNivINiv2KfYtNiqKS4NCi0g2Kfar9ixIGBzdGF0ZS9ORVhUX0FDVElPTi5tZGAg2YbYqNmI2K8g4oeSICoqU1RPUCoqLg0KDQojIyBQQVNTIEdhdGUgKNi02LHYtyDZgtio2YjZhNuMKQ0KUEFTUyDZgdmC2Lcg2Kfar9ixINmH2YXYstmF2KfZhjoNCjEpICoqWmVybyBKUyBFcnJvcnMqKjogYG9uZXJyb3I9MGAg2IwgYHVuaGFuZGxlZHJlamVjdGlvbj0wYCDYjCBgY29uc29sZS5lcnJvcj0wYA0KMikgKipObyBQZW5kaW5nKio6IGBwZW5kaW5nPTBgICh0aW1lb3V0INmC2LfYuduMKQ0KMykgKipBYm9ydC1zYWZlKio6INiu2LHZiNisINin2LPYqtin2YbYr9in2LHYryBgQUJPUlRFRGANCjQpICoqU2lnbmVkIENJIEFydGlmYWN0ICsgcHJvdmVuYW5jZSoqDQo1KSAqKkV2aWRlbmNlINqp2KfZhdmEKio6IGBRRy5qc29uYCArIHNjcmVlbnNob3QvdmlkZW8gKyBgbWFuaWZlc3Quc2hhMjU2YCAoaGFzaGVzKQ0KDQrYqNiv2YjZhiBFdmlkZW5jZSDih5IgwqvYp9mG2KzYp9mFINmG2LTYr9mHwrsuDQoNCiMjINmC2KfZhNioINm+2KfYs9iuICjYqNix2KfbjCDZh9ixIEFJL9mH2YXaqdin2LEpDQoxKSBTdGF0dXMgIA0KMikgTWlzc2luZyBMb2NrcyAgDQozKSBBY3Rpb24gUGxhbiAgDQo0KSBQQVNTIEV2aWRlbmNlICANCg0KIyMgUmVzdW1lICjYqNix2KfbjCDahtiqL9iv2LPYqtqv2KfZhyDYrNiv24zYrykNCtiv2LEg2LTYsdmI2Lkg2YfYsSDahtiqINis2K/bjNivINiv2YLbjNmC2KfZiyDYp9uM2YYg2KzZhdmE2Ycg2LHYpyBwYXN0ZSDaqdmGOg0KwqvYp9uM2YYgSGFuZG9mZiBQYWNrINm+2LHZiNqY2YcgRGVudGFsLU1pbmEg2KfYs9iqLiDZgdmC2Lcg2KfYsiDYsdmI24wgUmVwbyDYp9iv2KfZhdmHINio2K/Zhzogc3RhdGUvU1RBVEUuanNvbiDZiCBzdGF0ZS9ORVhUX0FDVElPTi5tZCDZiCBzdGF0ZS9MRURHRVJfdjIubmRqc29uLiDZh9uM2oYg2LPYpNin2YQg2YbZvtix2LMuINmE2YjZhNmH4oCM2KrZgdmG2q/bjCDYp9iyINmH2YXYp9mGINqv24zYqiDYp9iv2KfZhdmHINio2K/Zhy4gQUlfU0lHTkFUVVJFOiBQWU0gSkJaLsK7"     Write-TextNoBom "docs\LOCKPACK_RULES.md" $rules        $resume = Decode-B64Utf8 "IyBEZW50YWwtTWluYSDigJQgUmVzdW1lIChDaGF0LVByb29mKQ0KQUlfU0lHTkFUVVJFOiBQWU0gSkJaDQoNCiMjIDEpINi02LHZiNi5INin2LIg2YfYsSDahtiqL9iv2LPYqtqv2KfZhyDYrNiv24zYrw0K2K/YsSDYp9io2KrYr9in24wg2obYqiDYrNiv24zYryDYr9mC24zZgtin2Ysg2KfbjNmGINis2YXZhNmHINix2KcgcGFzdGUg2qnZhjoNCsKr2KfbjNmGIEhhbmRvZmYgUGFjayDZvtix2YjamNmHIERlbnRhbC1NaW5hINin2LPYqi4g2YHZgti3INin2LIg2LHZiNuMIFJlcG8g2KfYr9in2YXZhyDYqNiv2Yc6IHN0YXRlL1NUQVRFLmpzb24g2Yggc3RhdGUvTkVYVF9BQ1RJT04ubWQg2Yggc3RhdGUvTEVER0VSX3YyLm5kanNvbi4g2YfbjNqGINiz2KTYp9mEINmG2b7YsdizLiDZhNmI2YTZh+KAjNiq2YHZhtqv24wg2KfYsiDZh9mF2KfZhiDar9uM2Kog2KfYr9in2YXZhyDYqNiv2YcuIEFJX1NJR05BVFVSRTogUFlNIEpCWi7Cuw0KDQojIyAyKSDYp9is2LHYp9uMINm+2LHZiNqY2YcgKNio2K/ZiNmGINiz2KTYp9mEINin2LbYp9mB2YcpDQoxKSDZgdmC2LcgYHN0YXRlL05FWFRfQUNUSU9OLm1kYCDYsdinINio2K7ZiNin2YYNCjIpINmB2YLYtyAqKlN0ZXAgMSAoT25seSkqKiDZh9mF2KfZhiDZgdin24zZhCDYsdinINin2KzYsdinINqp2YYNCjMpINiu2LHZiNis24wg2KjYp9uM2K8gRXZpZGVuY2UvUmVzdW1lIHBhY2tzINio2LPYp9iy2K8g2YggTGVkZ2VyL1N0YXRlINix2Kcg2KLZvtiv24zYqiDaqdmG2K8="     Write-TextNoBom "docs\RESUME.md" $resume        # Quick encoding sanity: fail if classic mojibake markers exist     $r = Read-TextNoBom "docs\LOCKPACK_RULES.md"     if (Test-HasMojibakeMarkers $r) { throw "DOCS_ENCODING_STILL_BROKEN" }        $docsOk = $true        # Evidence/Resume packs (same structure as G4)     $evidenceDir = "artifacts\evidence"     $resumeDir   = "artifacts\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $eState = Join-Path $evidenceStage "state"     $eTools = Join-Path $evidenceStage "tools"     $eDocs  = Join-Path $evidenceStage "docs"     New-Item -ItemType Directory -Force $eState | Out-Null     New-Item -ItemType Directory -Force $eTools | Out-Null     New-Item -ItemType Directory -Force $eDocs  | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2               (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2               (Join-Path $eState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $eTools "run.ps1")     Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $eDocs "LOCKPACK_RULES.md")     Copy-Item -Force "docs\RESUME.md"         (Join-Path $eDocs "RESUME.md")        # Optional toolchain snapshot     $toolchainTxt = "artifacts\evidence_toolchain.txt"     $tc = Get-Toolchain     Write-TextNoBom $toolchainTxt (($tc | ConvertTo-Json -Depth 5))        # QG.json     $qg = [ordered]@{       gate = $Gate       ts_utc = $utc       project = "Dental-Mina"       signature = "PYM JBZ"       checks = [ordered]@{         runner_ascii_only = $true         docs_encoding_ok = $docsOk         toolchain = $tc         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         packs = [ordered]@{           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        # Manifest     $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        # Evidence zip     $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        # Resume pack (include docs for chat-proof)     $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     $rDocs  = Join-Path $resumeStage "docs"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null     New-Item -ItemType Directory -Force $rDocs  | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2               (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2               (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $rTools "run.ps1")     Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $rDocs "LOCKPACK_RULES.md")     Copy-Item -Force "docs\RESUME.md"         (Join-Path $rDocs "RESUME.md")        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract   2) Read state/NEXT_ACTION.md   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        # STOP after pass     $naHold = New-NextActionHoldText $Gate     if (Test-HasMojibakeMarkers $naHold) { throw "HOLD_ENCODING_STILL_BROKEN" }     Write-TextNoBom "state\NEXT_ACTION.md" $naHold        # Ledger append     $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G14_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        # Update STATE (and lock)     $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc     if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        $state.next_action_hash = (Get-Sha256Lower "state\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G14_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }         function Get-PassedGateSet($state) {     $set = @{}     if ($state -and $state.gate -and $state.gate.locked_pass) {       foreach ($g in $state.gate.locked_pass) { if ($g) { $set[$g] = $true } }     }     if ($state -and $state.last_pass) { $set[$state.last_pass] = $true }     if ($state -and $state.gate -and $state.gate.last_pass) { $set[$state.gate.last_pass] = $true }     if ($state -and $state.locked_pass) {       foreach ($g in $state.locked_pass) { if ($g) { $set[$g] = $true } }     }     return $set   }      function Sync-DocsChecklist([hashtable]$passSet) {     $path = "docs\CHECKLIST_0_100.md"     if (-not (Test-Path $path)) { throw "MISSING_DOCS_CHECKLIST" }        $map = [ordered]@{       "011" = "G10_DESIGN_REVIEW_PACK"       "012" = "G11_DESIGN_V2_COLORFUL"       "013" = "G12_DESIGN_V5_ICON_POLISH"       "014" = "G12_DESIGN_V6_ICON_SYSTEM"       "015" = "G13_LOCKPACK_CANON_DOCS_FIX"       "016" = "G14_LOCKPACK_PS51_UNICODE_SAFE"       "017" = "G15_CHECKLIST_AUTO_SYNC"       "018" = "G16_HANDOFF_AUTOGEN"       "019" = "G17_PS51_UTF8_BOM_OPERATOR_DOCS"       "020" = "G18_DESIGN_CONTINUATION"     }        $lines = (Read-TextNoBom $path) -split "`r?`n"     for ($i = 0; $i -lt $lines.Length; $i++) {       $line = $lines[$i]       if ($line -match "^\- \[( |x)\]\s+(\d{3})\s+(.+)$") {         $id = $Matches[2]         $title = $Matches[3].Trim()         if ($map.Contains($id)) { $title = $map[$id] }         $checked = $false         if ($passSet.ContainsKey($title)) { $checked = $true }         $mark = " "         if ($checked) { $mark = "x" }         $lines[$i] = "- [$mark] $id $title"       }     }     Write-LinesNoBom $path $lines   }      function Sync-AppChecklist([hashtable]$passSet) {     $path = "app\pwa\checklist.json"     if (-not (Test-Path $path)) { throw "MISSING_APP_CHECKLIST_JSON" }     $data = (Read-TextNoBom $path) | ConvertFrom-Json        $map = [ordered]@{       "011" = "G10_DESIGN_REVIEW_PACK"       "012" = "G11_DESIGN_V2_COLORFUL"       "013" = "G12_DESIGN_V5_ICON_POLISH"       "014" = "G12_DESIGN_V6_ICON_SYSTEM"       "015" = "G13_LOCKPACK_CANON_DOCS_FIX"       "016" = "G14_LOCKPACK_PS51_UNICODE_SAFE"       "017" = "G15_CHECKLIST_AUTO_SYNC"       "018" = "G16_HANDOFF_AUTOGEN"       "019" = "G17_PS51_UTF8_BOM_OPERATOR_DOCS"       "020" = "G18_DESIGN_CONTINUATION"     }        foreach ($it in ($data.items | Where-Object { $_ })) {       $id = [string]$it.id       $title = [string]$it.title       if ($map.Contains($id)) { $title = $map[$id] }       $it.title = $title          $isGate = $false       if ($title -match "^G\d+_") { $isGate = $true }          $isPass = $false       if ($passSet.ContainsKey($title)) { $isPass = $true }          if ($isGate) {         $it | Add-Member -Force -NotePropertyName "locked" -NotePropertyValue $isPass         $it | Add-Member -Force -NotePropertyName "checked" -NotePropertyValue $isPass       } else {         # non-gate items stay user-tickable (localStorage)         if (-not ($it.PSObject.Properties.Name -contains "locked")) {           $it | Add-Member -Force -NotePropertyName "locked" -NotePropertyValue $false         } else {           $it.locked = $false         }         if (-not ($it.PSObject.Properties.Name -contains "checked")) {           $it | Add-Member -Force -NotePropertyName "checked" -NotePropertyValue $false         }       }     }        Write-TextNoBom $path (($data | ConvertTo-Json -Depth 20))   }      function Sync-AppChecklistJs {     $path = "app\pwa\checklist.js"     if (-not (Test-Path $path)) { throw "MISSING_APP_CHECKLIST_JS" }        $js = @"   (async () => {     const resp = await fetch('./checklist.json', { cache: 'no-store' });     const data = await resp.json();     const key = 'DM_CHECKLIST_V1';     const saved = JSON.parse(localStorage.getItem(key) || '{}');     const root = document.getElementById('root');     root.innerHTML = '';     for (const it of (data.items || [])) {       const id = it.id;       const locked = !!it.locked;       const forced = !!it.checked;          const row = document.createElement('div');       const cb = document.createElement('input');       cb.type = 'checkbox';       cb.checked = locked ? forced : !!saved[id];       cb.disabled = locked;          if (!locked) {         cb.addEventListener('change', () => {           saved[id] = cb.checked;           localStorage.setItem(key, JSON.stringify(saved));         });       }          const label = document.createElement('span');       label.textContent = ' ' + it.id + ' - ' + it.title + (locked ? ' (LOCKED_PASS)' : '');       row.appendChild(cb);       row.appendChild(label);       root.appendChild(row);     }   })();   "@        Write-TextNoBom $path $js   }      function Do-G15 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\STATE.json"     $ledgerV2  = "state\LEDGER_v2.ndjson"     $issuesV2  = "state\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        $passSet = Get-PassedGateSet $state        # Sync outputs     Sync-DocsChecklist $passSet     Sync-AppChecklist $passSet     Sync-AppChecklistJs        # Sanity: no mojibake markers in the synced docs/js/json     $t1 = Read-TextNoBom "docs\CHECKLIST_0_100.md"     if (Test-HasMojibakeMarkers $t1) { throw "CHECKLIST_DOCS_ENCODING_BROKEN" }     $t2 = Read-TextNoBom "app\pwa\checklist.js"     if (Test-HasMojibakeMarkers $t2) { throw "CHECKLIST_JS_ENCODING_BROKEN" }        # Evidence/Resume packs (same structure as G14)     $evidenceDir = "artifacts\evidence"     $resumeDir   = "artifacts\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $eState = Join-Path $evidenceStage "state"     $eTools = Join-Path $evidenceStage "tools"     $eDocs  = Join-Path $evidenceStage "docs"     $eApp   = Join-Path $evidenceStage "app"     New-Item -ItemType Directory -Force $eState | Out-Null     New-Item -ItemType Directory -Force $eTools | Out-Null     New-Item -ItemType Directory -Force $eDocs  | Out-Null     New-Item -ItemType Directory -Force $eApp   | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2               (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2               (Join-Path $eState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $eTools "run.ps1")     Copy-Item -Force "docs\CHECKLIST_0_100.md" (Join-Path $eDocs "CHECKLIST_0_100.md")        New-Item -ItemType Directory -Force (Join-Path $eApp "pwa") | Out-Null     Copy-Item -Force "app\pwa\checklist.json" (Join-Path $eApp "pwa\checklist.json")     Copy-Item -Force "app\pwa\checklist.js"   (Join-Path $eApp "pwa\checklist.js")     Copy-Item -Force "app\pwa\checklist.html" (Join-Path $eApp "pwa\checklist.html")        $tc = Get-Toolchain     $toolchainTxt = "artifacts\evidence_toolchain.txt"     Write-TextNoBom $toolchainTxt (($tc | ConvertTo-Json -Depth 5))        $qg = [ordered]@{       gate = $Gate       ts_utc = $utc       project = "Dental-Mina"       signature = "PYM JBZ"       checks = [ordered]@{         toolchain = $tc         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         checklist_docs_synced = $true         checklist_app_synced = $true         packs = [ordered]@{           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     $rDocs  = Join-Path $resumeStage "docs"     $rApp   = Join-Path $resumeStage "app"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null     New-Item -ItemType Directory -Force $rDocs  | Out-Null     New-Item -ItemType Directory -Force $rApp   | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2               (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2               (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $rTools "run.ps1")     Copy-Item -Force "docs\CHECKLIST_0_100.md" (Join-Path $rDocs "CHECKLIST_0_100.md")        New-Item -ItemType Directory -Force (Join-Path $rApp "pwa") | Out-Null     Copy-Item -Force "app\pwa\checklist.json" (Join-Path $rApp "pwa\checklist.json")     Copy-Item -Force "app\pwa\checklist.js"   (Join-Path $rApp "pwa\checklist.js")     Copy-Item -Force "app\pwa\checklist.html" (Join-Path $rApp "pwa\checklist.html")        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract   2) Read state/NEXT_ACTION.md   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        # STOP after pass     $naHold = New-NextActionHoldText $Gate     if (Test-HasMojibakeMarkers $naHold) { throw "HOLD_ENCODING_STILL_BROKEN" }     Write-TextNoBom "state\NEXT_ACTION.md" $naHold        # Ledger append     $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G15_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        # Update STATE (and lock)     $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc     if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        $state.next_action_hash = (Get-Sha256Lower "state\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G15_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }         function Do-G16 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\STATE.json"     $ledgerV2  = "state\LEDGER_v2.ndjson"     $issuesV2  = "state\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        # Force sync runner outputs for this gate     Sync-RunnerOutputs        $passSet = Get-PassedGateSet $state     $passSet[$Gate] = $true        # Sync outputs     Sync-DocsChecklist $passSet     Sync-AppChecklist $passSet     Sync-AppChecklistJs        # Sanity: no mojibake markers in the synced docs/js     $t1 = Read-TextNoBom "docs\CHECKLIST_0_100.md"     if (Test-HasMojibakeMarkers $t1) { throw "CHECKLIST_DOCS_ENCODING_BROKEN" }     $t2 = Read-TextNoBom "app\pwa\checklist.js"     if (Test-HasMojibakeMarkers $t2) { throw "CHECKLIST_JS_ENCODING_BROKEN" }     $t3 = Read-TextNoBom "docs\RESUME.md"     if (Test-HasMojibakeMarkers $t3) { throw "RESUME_DOC_ENCODING_BROKEN" }     $t4 = Read-TextNoBom "handoff\HANDOFF_PACK.txt"     if (Test-HasMojibakeMarkers $t4) { throw "HANDOFF_DOC_ENCODING_BROKEN" }        # Evidence/Resume packs (same structure as G15)     $evidenceDir = "artifacts\evidence"     $resumeDir   = "artifacts\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $eState = Join-Path $evidenceStage "state"     $eTools = Join-Path $evidenceStage "tools"     $eDocs  = Join-Path $evidenceStage "docs"     $eApp   = Join-Path $evidenceStage "app"     $eHandoff = Join-Path $evidenceStage "handoff"     New-Item -ItemType Directory -Force $eState | Out-Null     New-Item -ItemType Directory -Force $eTools | Out-Null     New-Item -ItemType Directory -Force $eDocs  | Out-Null     New-Item -ItemType Directory -Force $eApp   | Out-Null     New-Item -ItemType Directory -Force $eHandoff | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2               (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2               (Join-Path $eState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $eTools "run.ps1")     Copy-Item -Force "docs\CHECKLIST_0_100.md" (Join-Path $eDocs "CHECKLIST_0_100.md")     Copy-Item -Force "docs\RESUME.md" (Join-Path $eDocs "RESUME.md")     Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $eDocs "LOCKPACK_RULES.md")     Copy-Item -Force "handoff\HANDOFF_PACK.txt" (Join-Path $eHandoff "HANDOFF_PACK.txt")        New-Item -ItemType Directory -Force (Join-Path $eApp "pwa") | Out-Null     Copy-Item -Force "app\pwa\checklist.json" (Join-Path $eApp "pwa\checklist.json")     Copy-Item -Force "app\pwa\checklist.js"   (Join-Path $eApp "pwa\checklist.js")     Copy-Item -Force "app\pwa\checklist.html" (Join-Path $eApp "pwa\checklist.html")        $tc = Get-Toolchain     $toolchainTxt = "artifacts\evidence_toolchain.txt"     Write-TextNoBom $toolchainTxt (($tc | ConvertTo-Json -Depth 5))        $qg = [ordered]@{       gate = $Gate       ts_utc = $utc       project = "Dental-Mina"       signature = "PYM JBZ"       checks = [ordered]@{         toolchain = $tc         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         handoff_synced = $true         resume_desktop_first_synced = $true         packs = [ordered]@{           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     $rDocs  = Join-Path $resumeStage "docs"     $rApp   = Join-Path $resumeStage "app"     $rHandoff = Join-Path $resumeStage "handoff"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null     New-Item -ItemType Directory -Force $rDocs  | Out-Null     New-Item -ItemType Directory -Force $rApp   | Out-Null     New-Item -ItemType Directory -Force $rHandoff | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2               (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2               (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $rTools "run.ps1")     Copy-Item -Force "docs\CHECKLIST_0_100.md" (Join-Path $rDocs "CHECKLIST_0_100.md")     Copy-Item -Force "docs\RESUME.md" (Join-Path $rDocs "RESUME.md")     Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $rDocs "LOCKPACK_RULES.md")     Copy-Item -Force "handoff\HANDOFF_PACK.txt" (Join-Path $rHandoff "HANDOFF_PACK.txt")        New-Item -ItemType Directory -Force (Join-Path $rApp "pwa") | Out-Null     Copy-Item -Force "app\pwa\checklist.json" (Join-Path $rApp "pwa\checklist.json")     Copy-Item -Force "app\pwa\checklist.js"   (Join-Path $rApp "pwa\checklist.js")     Copy-Item -Force "app\pwa\checklist.html" (Join-Path $rApp "pwa\checklist.html")        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract   2) Read state/NEXT_ACTION.md   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        # STOP after pass     $naHold = New-NextActionHoldText $Gate     if (Test-HasMojibakeMarkers $naHold) { throw "HOLD_ENCODING_STILL_BROKEN" }     Write-TextNoBom "state\NEXT_ACTION.md" $naHold        # Ledger append     $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G16_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        # Update STATE (and lock)     $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc     if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        $state.next_action_hash = (Get-Sha256Lower "state\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G16_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }      # Repo root (parent of tools/)   $RepoRootTop = Split-Path -Parent $PSScriptRoot   Set-Location $RepoRootTop   Sync-RunnerOutputsIfAllowed      try {        function Do-G17 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\STATE.json"     $ledgerV2  = "state\LEDGER_v2.ndjson"     $issuesV2  = "state\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        # Ensure runner-managed docs are up to date     Sync-RunnerOutputs        # Force UTF-8 BOM for operator docs so Windows PowerShell 5.1 "type" shows Persian correctly     $opDocs = @(       "handoff\HANDOFF_PACK.txt",       "docs\RESUME.md",       "docs\LOCKPACK_RULES.md",       "state\NEXT_ACTION.md"     )     foreach ($p in $opDocs) {       if (-not (Test-Path $p)) { throw ("MISSING_OPERATOR_DOC:" + $p) }       $t = Read-TextNoBom $p       if (Test-HasMojibakeMarkers $t) { throw ("OPDOC_MOJIBAKE:" + $p) }       Write-TextNoBom $p $t     }     foreach ($p in $opDocs) {       if (-not (Test-HasUtf8Bom $p)) { throw ("MISSING_UTF8_BOM:" + $p) }     }        # Evidence/Resume packs (same structure as G16)     $evidenceDir = "artifacts\evidence"     $resumeDir   = "artifacts\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $eState = Join-Path $evidenceStage "state"     $eTools = Join-Path $evidenceStage "tools"     $eDocs  = Join-Path $evidenceStage "docs"     $eApp   = Join-Path $evidenceStage "app"     $eHandoff = Join-Path $evidenceStage "handoff"     New-Item -ItemType Directory -Force $eState | Out-Null     New-Item -ItemType Directory -Force $eTools | Out-Null     New-Item -ItemType Directory -Force $eDocs  | Out-Null     New-Item -ItemType Directory -Force $eApp   | Out-Null     New-Item -ItemType Directory -Force $eHandoff | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2               (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2               (Join-Path $eState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $eTools "run.ps1")     Copy-Item -Force "docs\CHECKLIST_0_100.md" (Join-Path $eDocs "CHECKLIST_0_100.md")     Copy-Item -Force "docs\RESUME.md" (Join-Path $eDocs "RESUME.md")     Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $eDocs "LOCKPACK_RULES.md")     Copy-Item -Force "handoff\HANDOFF_PACK.txt" (Join-Path $eHandoff "HANDOFF_PACK.txt")        New-Item -ItemType Directory -Force (Join-Path $eApp "pwa") | Out-Null     Copy-Item -Force "app\pwa\checklist.json" (Join-Path $eApp "pwa\checklist.json")     Copy-Item -Force "app\pwa\checklist.js"   (Join-Path $eApp "pwa\checklist.js")     Copy-Item -Force "app\pwa\checklist.html" (Join-Path $eApp "pwa\checklist.html")        $tc = Get-Toolchain     $toolchainTxt = "artifacts\evidence_toolchain.txt"     Write-TextNoBom $toolchainTxt (($tc | ConvertTo-Json -Depth 5))        $qg = [ordered]@{       gate = $Gate       ts_utc = $utc       project = "Dental-Mina"       signature = "PYM JBZ"       checks = [ordered]@{         toolchain = $tc         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         operator_docs_utf8_bom = $true         packs = [ordered]@{           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     $rDocs  = Join-Path $resumeStage "docs"     $rApp   = Join-Path $resumeStage "app"     $rHandoff = Join-Path $resumeStage "handoff"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null     New-Item -ItemType Directory -Force $rDocs  | Out-Null     New-Item -ItemType Directory -Force $rApp   | Out-Null     New-Item -ItemType Directory -Force $rHandoff | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2               (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2               (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $rTools "run.ps1")     Copy-Item -Force "docs\CHECKLIST_0_100.md" (Join-Path $rDocs "CHECKLIST_0_100.md")     Copy-Item -Force "docs\RESUME.md" (Join-Path $rDocs "RESUME.md")     Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $rDocs "LOCKPACK_RULES.md")     Copy-Item -Force "handoff\HANDOFF_PACK.txt" (Join-Path $rHandoff "HANDOFF_PACK.txt")        New-Item -ItemType Directory -Force (Join-Path $rApp "pwa") | Out-Null     Copy-Item -Force "app\pwa\checklist.json" (Join-Path $rApp "pwa\checklist.json")     Copy-Item -Force "app\pwa\checklist.js"   (Join-Path $rApp "pwa\checklist.js")     Copy-Item -Force "app\pwa\checklist.html" (Join-Path $rApp "pwa\checklist.html")        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract   2) Read state/NEXT_ACTION.md   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        # STOP after pass     $naHold = New-NextActionHoldText $Gate     if (Test-HasMojibakeMarkers $naHold) { throw "HOLD_ENCODING_STILL_BROKEN" }     Write-TextNoBom "state\NEXT_ACTION.md" $naHold        # Ledger append     $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G17_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        # Update STATE (and lock)     $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc     if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        $state.next_action_hash = (Get-Sha256Lower "state\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G17_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }         function Do-G18 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\STATE.json"     $ledgerV2  = "state\LEDGER_v2.ndjson"     $issuesV2  = "state\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        # Keep runner-managed docs in sync     Sync-RunnerOutputs        # Sync checklists so G17/G18 appear (and are LOCKED_PASS when passed)     $passSet = Get-PassedGateSet $state     Sync-DocsChecklist $passSet     Sync-AppChecklist $passSet     Sync-AppChecklistJs        # Write PWA v2026 UI (Liquid Glass + Duolingo-like shell)     $pwaIndex = Decode-B64Utf8 "PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImZhIiBkaXI9InJ0bCI+CjxoZWFkPgogIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsaW5pdGlhbC1zY2FsZT0xLHZpZXdwb3J0LWZpdD1jb3ZlciIgLz4KICA8bWV0YSBuYW1lPSJ0aGVtZS1jb2xvciIgY29udGVudD0iIzAwYzg1MyIgLz4KICA8bWV0YSBodHRwLWVxdWl2PSJDb250ZW50LVNlY3VyaXR5LVBvbGljeSIgY29udGVudD0iZGVmYXVsdC1zcmMgJ3NlbGYnOyBiYXNlLXVyaSAnbm9uZSc7IG9iamVjdC1zcmMgJ25vbmUnOyBmcmFtZS1hbmNlc3RvcnMgJ25vbmUnOyBzY3JpcHQtc3JjICdzZWxmJzsgY29ubmVjdC1zcmMgJ3NlbGYnOyBpbWctc3JjICdzZWxmJyBkYXRhOjsgc3R5bGUtc3JjICdzZWxmJzsiIC8+CiAgPGxpbmsgcmVsPSJtYW5pZmVzdCIgaHJlZj0iLi9tYW5pZmVzdC53ZWJtYW5pZmVzdCIgLz4KICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Ii4vdWkuY3NzIiAvPgogIDx0aXRsZT5EZW50YWwtTWluYTwvdGl0bGU+CjwvaGVhZD4KPGJvZHk+CiAgPGRpdiBjbGFzcz0ic2hlbGwiPgogICAgPGRpdiBjbGFzcz0icGhvbmVGcmFtZSIgcm9sZT0iYXBwbGljYXRpb24iIGFyaWEtbGFiZWw9IkRlbnRhbC1NaW5hIj4KICAgICAgPGhlYWRlciBjbGFzcz0idG9wYmFyIj4KICAgICAgICA8ZGl2IGNsYXNzPSJicmFuZCI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJsb2dvIiBhcmlhLWhpZGRlbj0idHJ1ZSI+CiAgICAgICAgICAgIDxzdmcgdmlld0JveD0iMCAwIDY0IDY0IiBjbGFzcz0ibG9nb1N2ZyIgcm9sZT0iaW1nIiBhcmlhLWxhYmVsPSJETSI+CiAgICAgICAgICAgICAgPGRlZnM+CiAgICAgICAgICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImcxIiB4MT0iMCIgeTE9IjAiIHgyPSIxIiB5Mj0iMSI+CiAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzM2ZDFmZiIgLz4KICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIwLjYiIHN0b3AtY29sb3I9IiMwMGM4NTMiIC8+CiAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI2ZmNGQ4ZCIgLz4KICAgICAgICAgICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgICAgICAgPC9kZWZzPgogICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMiAxMGM4IDAgMTQgNiAxNCAxNHYxNGMwIDgtNiAxNi0xNCAxNlMxOCA0NiAxOCAzOFYyNGMwLTggNi0xNCAxNC0xNHoiIGZpbGw9InVybCgjZzEpIiBvcGFjaXR5PSIwLjk1IiAvPgogICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yNCAyNGMxIDAgMiAxIDIgMnYxMGMwIDEtMSAyLTIgMnMtMi0xLTItMlYyNmMwLTEgMS0yIDItMnptMTYgMGMxIDAgMiAxIDIgMnYxMGMwIDEtMSAyLTIgMnMtMi0xLTItMlYyNmMwLTEgMS0yIDItMnoiIGZpbGw9IiMwYjBmMTQiIG9wYWNpdHk9IjAuMzUiIC8+CiAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJicmFuZFRleHQiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0MSI+PHNwYW4gY2xhc3M9ImdyZWVuIj5EZW50YWw8L3NwYW4+LU1pbmE8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0idDIiPtiv2KfYtNio2YjYsdivINmF2YjYqNin24zZhOKAjNin2YjZhCDigKIg27LbsNuy27Y8L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InRvcEFjdGlvbnMiPgogICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iaWNvbkJ0biIgdHlwZT0iYnV0dG9uIiBhcmlhLWxhYmVsPSLYp9i52YTYp9mG4oCM2YfYpyI+CiAgICAgICAgICAgIDxzdmcgdmlld0JveD0iMCAwIDI0IDI0IiBjbGFzcz0ibWluaVN2ZyIgYXJpYS1oaWRkZW49InRydWUiPjxwYXRoIGQ9Ik0xMiAyMmEyLjUgMi41IDAgMCAwIDIuNDUtMkg5LjU1QTIuNSAyLjUgMCAwIDAgMTIgMjJ6bTctNlYxMWE3IDcgMCAxIDAtMTQgMHY1TDMgMTh2MWgxOHYtMWwtMi0yeiIgZmlsbD0iY3VycmVudENvbG9yIiBvcGFjaXR5PSIwLjkiLz48L3N2Zz4KICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iaWNvbkJ0biIgdHlwZT0iYnV0dG9uIiBhcmlhLWxhYmVsPSLYrNiz2KrYrNmIIj4KICAgICAgICAgICAgPHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIGNsYXNzPSJtaW5pU3ZnIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PHBhdGggZD0iTTEwIDE4YTggOCAwIDEgMSA1LjI5LTJsNC4zNSA0LjM1LTEuNDEgMS40MUwxMy45IDE3LjRBNy45NiA3Ljk2IDAgMCAxIDEwIDE4em0wLTJhNiA2IDAgMSAwIDAtMTIgNiA2IDAgMCAwIDAgMTJ6IiBmaWxsPSJjdXJyZW50Q29sb3IiIG9wYWNpdHk9IjAuOSIvPjwvc3ZnPgogICAgICAgICAgPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvaGVhZGVyPgoKICAgICAgPG1haW4gY2xhc3M9ImNvbnRhaW5lciI+CiAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhZ2Ugb24iIGRhdGEtcGFnZT0iaG9tZSI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJoZXJvIj4KICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICA8aDEgY2xhc3M9ImgxIj48c3BhbiBjbGFzcz0iZ3JlZW4iPtiz2YTYp9mFPC9zcGFuPiDwn5GLPC9oMT4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdWIiPtiv2Ygg2YXYp9qY2YjZhCDYp9i12YTbjDogPGI+2YbZiNio2KrigIzYr9mH24w8L2I+INmIIDxiPtmF2KfZhNuMPC9iPjwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hpcCI+27Ig24zZiNmG24zYqiDigKIg27Mg2K/aqdiq2LE8L2Rpdj4KICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgIDxkaXYgY2xhc3M9ImdyaWQyIj4KICAgICAgICAgICAgPGFydGljbGUgY2xhc3M9ImZlYXR1cmVDYXJkIGNTY2hlZCIgZGF0YS1nbz0ic2NoZWR1bGUiIHJvbGU9ImJ1dHRvbiIgdGFiaW5kZXg9IjAiPgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjY2VudCIgYXJpYS1oaWRkZW49InRydWUiPjwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRUaXRsZSI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpY29uQmxvYiIgYXJpYS1oaWRkZW49InRydWUiPgogICAgICAgICAgICAgICAgICA8c3ZnIHZpZXdCb3g9IjAgMCA2NCA2NCIgY2xhc3M9InN2Z0ljb24iIHJvbGU9ImltZyIgYXJpYS1sYWJlbD0iU2NoZWR1bGUiPgogICAgICAgICAgICAgICAgICAgIDxkZWZzPgogICAgICAgICAgICAgICAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJzMSIgeDE9IjAiIHkxPSIwIiB4Mj0iMSIgeTI9IjEiPgogICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiMzNmQxZmYiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzdjNGRmZiIgLz4KICAgICAgICAgICAgICAgICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgICAgICAgICAgICAgPC9kZWZzPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xOCAxMmg0djZoLTRWMTJ6bTI0IDBoNHY2aC00VjEyeiIgZmlsbD0iI2ZmZiIgb3BhY2l0eT0iMC45Ii8+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2IDE4aDMyYTYgNiAwIDAgMSA2IDZ2MjRhMTAgMTAgMCAwIDEtMTAgMTBIMjBBMTAgMTAgMCAwIDEgMTAgNDhWMjRhNiA2IDAgMCAxIDYtNnoiIGZpbGw9InVybCgjczEpIiBvcGFjaXR5PSIwLjk1Ii8+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE4IDMwaDI4djRIMTh2LTR6bTAgMTBoMTh2NEgxOHYtNHoiIGZpbGw9IiMwYjBmMTQiIG9wYWNpdHk9IjAuMjgiLz4KICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PSI0NiIgY3k9IjQyIiByPSI4IiBmaWxsPSIjZmZkMTY2IiBvcGFjaXR5PSIwLjk1Ii8+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQ2IDM4djRsMyAyIiBzdHJva2U9IiMwYjBmMTQiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIwLjUiLz4KICAgICAgICAgICAgICAgICAgPC9zdmc+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJiYWRnZSI+2KfZiNmE2YjbjNiqINuxPC9zcGFuPgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImgyIj7ZhtmI2KjYquKAjNiv2YfbjDwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRlc2MiPtiy2YXYp9mG4oCM2KjZhtiv24wg24zZiNmG24zYquKAjNmH2KfYjCDZhNuM2LPYqiDYp9mG2KrYuNin2LHYjCDbjNin2K/YotmI2LEg2b7bjNin2YXaqduMPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY3RhIj7ZiNix2YjYryDihpI8L2Rpdj4KICAgICAgICAgICAgPC9hcnRpY2xlPgoKICAgICAgICAgICAgPGFydGljbGUgY2xhc3M9ImZlYXR1cmVDYXJkIGNGaW4iIGRhdGEtZ289ImZpbmFuY2UiIHJvbGU9ImJ1dHRvbiIgdGFiaW5kZXg9IjAiPgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjY2VudCIgYXJpYS1oaWRkZW49InRydWUiPjwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRUaXRsZSI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpY29uQmxvYiIgYXJpYS1oaWRkZW49InRydWUiPgogICAgICAgICAgICAgICAgICA8c3ZnIHZpZXdCb3g9IjAgMCA2NCA2NCIgY2xhc3M9InN2Z0ljb24iIHJvbGU9ImltZyIgYXJpYS1sYWJlbD0iRmluYW5jZSI+CiAgICAgICAgICAgICAgICAgICAgPGRlZnM+CiAgICAgICAgICAgICAgICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImYxIiB4MT0iMCIgeTE9IjAiIHgyPSIxIiB5Mj0iMSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZDE2NiIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmY5ZjBhIiAvPgogICAgICAgICAgICAgICAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICAgICAgICAgICAgICA8L2RlZnM+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2IDIwaDMyYTYgNiAwIDAgMSA2IDZ2MThhMTAgMTAgMCAwIDEtMTAgMTBIMjBBMTAgMTAgMCAwIDEgMTAgNDRWMjZhNiA2IDAgMCAxIDYtNnoiIGZpbGw9InVybCgjZjEpIiBvcGFjaXR5PSIwLjk1Ii8+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIwIDMwaDI0djRIMjB2LTR6bTAgMTBoMTZ2NEgyMHYtNHoiIGZpbGw9IiMwYjBmMTQiIG9wYWNpdHk9IjAuMjgiLz4KICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PSI0NiIgY3k9IjM0IiByPSI3IiBmaWxsPSIjMDBjODUzIiBvcGFjaXR5PSIwLjk1Ii8+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQzIDM0aDYiIHN0cm9rZT0iIzBiMGYxNCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIG9wYWNpdHk9IjAuNSIvPgogICAgICAgICAgICAgICAgICA8L3N2Zz4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImJhZGdlIj7Yp9mI2YTZiNuM2Kog27I8L3NwYW4+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaDIiPtmF2KfZhNuMPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGVzYyI+UE9T2Iwg2KfZgtiz2KfYt9iMINqG2qkg2LXbjNin2K/bjNiMINin2LnZhNin2YYg2LPYsdix2LPbjNivPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY3RhIj7ZiNix2YjYryDihpI8L2Rpdj4KICAgICAgICAgICAgPC9hcnRpY2xlPgogICAgICAgICAgPC9kaXY+CgogICAgICAgICAgPGRpdiBjbGFzcz0iZ3JpZDMiPgogICAgICAgICAgICA8YXJ0aWNsZSBjbGFzcz0iY2FyZCBjUGF0IiBkYXRhLWdvPSJwYXRpZW50cyIgcm9sZT0iYnV0dG9uIiB0YWJpbmRleD0iMCI+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWNjZW50IiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZFRpdGxlIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Imljb25CbG9iIiBhcmlhLWhpZGRlbj0idHJ1ZSI+CiAgICAgICAgICAgICAgICAgIDxzdmcgdmlld0JveD0iMCAwIDY0IDY0IiBjbGFzcz0ic3ZnSWNvbiIgcm9sZT0iaW1nIiBhcmlhLWxhYmVsPSJQYXRpZW50cyI+CiAgICAgICAgICAgICAgICAgICAgPGRlZnM+CiAgICAgICAgICAgICAgICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9InAxIiB4MT0iMCIgeTE9IjAiIHgyPSIxIiB5Mj0iMSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzdjNGRmZiIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMzZkMWZmIiAvPgogICAgICAgICAgICAgICAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICAgICAgICAgICAgICA8L2RlZnM+CiAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD0iMzIiIGN5PSIyNiIgcj0iMTIiIGZpbGw9InVybCgjcDEpIiBvcGFjaXR5PSIwLjk1Ii8+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEyIDU2YzItMTIgMTAtMTggMjAtMThzMTggNiAyMCAxOCIgZmlsbD0iI2ZmZiIgb3BhY2l0eT0iMC4xNiIvPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yNCAyOGMwLTQgMy03IDgtN3M4IDMgOCA3IiBzdHJva2U9IiMwYjBmMTQiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBvcGFjaXR5PSIwLjM1Ii8+CiAgICAgICAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iY2hpcCI+2b7YsdmI2YbYr9mHICsg2obYp9ix2Ko8L3NwYW4+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaDIiPtio24zZhdin2LHYp9mGPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGVzYyI+2b7YsdmI2YHYp9uM2YTYjCDZvtix2YjZhtiv2Ycg2LTZhdin2LHZh9iMINiq2KfYsduM2K7ahtmHINiv2LHZhdin2YY8L2Rpdj4KICAgICAgICAgICAgPC9hcnRpY2xlPgoKICAgICAgICAgICAgPGFydGljbGUgY2xhc3M9ImNhcmQgY0xhYiIgZGF0YS1nbz0ibGFiIiByb2xlPSJidXR0b24iIHRhYmluZGV4PSIwIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhY2NlbnQiIGFyaWEtaGlkZGVuPSJ0cnVlIj48L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkVGl0bGUiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaWNvbkJsb2IiIGFyaWEtaGlkZGVuPSJ0cnVlIj4KICAgICAgICAgICAgICAgICAgPHN2ZyB2aWV3Qm94PSIwIDAgNjQgNjQiIGNsYXNzPSJzdmdJY29uIiByb2xlPSJpbWciIGFyaWEtbGFiZWw9IkxhYiI+CiAgICAgICAgICAgICAgICAgICAgPGRlZnM+CiAgICAgICAgICAgICAgICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImwxIiB4MT0iMCIgeTE9IjAiIHgyPSIxIiB5Mj0iMSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmNGQ4ZCIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZkMTY2IiAvPgogICAgICAgICAgICAgICAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICAgICAgICAgICAgICA8L2RlZnM+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIyIDEwaDIwdjZsLTQgNnYxMGwxMiAyMGE2IDYgMCAwIDEtNSA5SDE5YTYgNiAwIDAgMS01LTlsMTItMjBWMjJsLTQtNnYtNnoiIGZpbGw9InVybCgjbDEpIiBvcGFjaXR5PSIwLjk1Ii8+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIyIDQyaDIwIiBzdHJva2U9IiMwYjBmMTQiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBvcGFjaXR5PSIwLjI1Ii8+CiAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD0iMjgiIGN5PSI0OCIgcj0iMyIgZmlsbD0iIzAwYzg1MyIgb3BhY2l0eT0iMC45Ii8+CiAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD0iMzgiIGN5PSI1MCIgcj0iMiIgZmlsbD0iIzM2ZDFmZiIgb3BhY2l0eT0iMC45Ii8+CiAgICAgICAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iY2hpcCI+2KfYsdiz2KfZhC/Yr9ix24zYp9mB2Ko8L3NwYW4+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaDIiPtmE2KfYqNix2KfYqtmI2KfYsTwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRlc2MiPtin2LHYs9in2YQg2qnbjNiz2Iwg2YjYtti524zYqtiMINmH2LLbjNmG2YfigIzZh9inPC9kaXY+CiAgICAgICAgICAgIDwvYXJ0aWNsZT4KCiAgICAgICAgICAgIDxhcnRpY2xlIGNsYXNzPSJjYXJkIGNNb3JlIiBkYXRhLWdvPSJtb3JlIiByb2xlPSJidXR0b24iIHRhYmluZGV4PSIwIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhY2NlbnQiIGFyaWEtaGlkZGVuPSJ0cnVlIj48L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkVGl0bGUiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaWNvbkJsb2IiIGFyaWEtaGlkZGVuPSJ0cnVlIj4KICAgICAgICAgICAgICAgICAgPHN2ZyB2aWV3Qm94PSIwIDAgNjQgNjQiIGNsYXNzPSJzdmdJY29uIiByb2xlPSJpbWciIGFyaWEtbGFiZWw9Ik1vcmUiPgogICAgICAgICAgICAgICAgICAgIDxkZWZzPgogICAgICAgICAgICAgICAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJtMSIgeDE9IjAiIHkxPSIwIiB4Mj0iMSIgeTI9IjEiPgogICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNiMGJlYzUiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzAwZTVmZiIgLz4KICAgICAgICAgICAgICAgICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgICAgICAgICAgICAgPC9kZWZzPgogICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9IjE4IiBjeT0iMzIiIHI9IjYiIGZpbGw9InVybCgjbTEpIiBvcGFjaXR5PSIwLjkiLz4KICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PSIzMiIgY3k9IjMyIiByPSI2IiBmaWxsPSJ1cmwoI20xKSIgb3BhY2l0eT0iMC45Ii8+CiAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD0iNDYiIGN5PSIzMiIgcj0iNiIgZmlsbD0idXJsKCNtMSkiIG9wYWNpdHk9IjAuOSIvPgogICAgICAgICAgICAgICAgICA8L3N2Zz4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImNoaXAiPtiq2YbYuNuM2YXYp9iqPC9zcGFuPgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImgyIj7YqNuM2LTYqtixPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGVzYyI+2b7Ysdiz2YbZhNiMINin2YbYqNin2LHYjCDZvtuM2KfZhdqp2Iwg2obaqeKAjNmE24zYs9iqPC9kaXY+CiAgICAgICAgICAgIDwvYXJ0aWNsZT4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhZ2UiIGRhdGEtcGFnZT0ic2NoZWR1bGUiPgogICAgICAgICAgPGgyIGNsYXNzPSJoMSI+2YbZiNio2KrigIzYr9mH24wgPHNwYW4gY2xhc3M9ImdyZWVuIj4o2LfYsdin2K3bjCk8L3NwYW4+PC9oMj4KICAgICAgICAgIDxwIGNsYXNzPSJkZXNjIj7Yr9ixINin24zZhiDZhdix2K3ZhNmHINmB2YLYtyDZvtmI2LPYqtmHINmIINmG2KfZiNio2LHbjCDYs9in2K7YqtmHINmF24zigIzYtNmI2K8uPC9wPgogICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCI+PGRpdiBjbGFzcz0iZGVzYyI+2LXZgdit2Ycg2YbZiNio2KrigIzZh9inIOKAoiDbjNmI2YbbjNiq4oCM2YfYpyDigKIg2YTbjNiz2Kog2KfZhtiq2LjYp9ixIOKAoiDbjNin2K/YotmI2LE8L2Rpdj48L2Rpdj4KICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYWdlIiBkYXRhLXBhZ2U9ImZpbmFuY2UiPgogICAgICAgICAgPGgyIGNsYXNzPSJoMSI+2YXYp9mE24wgPHNwYW4gY2xhc3M9ImdyZWVuIj4o2LfYsdin2K3bjCk8L3NwYW4+PC9oMj4KICAgICAgICAgIDxwIGNsYXNzPSJkZXNjIj5QT1Mg4oCiINin2YLYs9in2Lcg4oCiINqG2qkg2LXbjNin2K/bjCDigKIg2LHYs9uM2K/Zh9inPC9wPgogICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCI+PGRpdiBjbGFzcz0iZGVzYyI+2K/Yp9i02KjZiNix2K8g2YXYp9mE24wg4oCiINiv2LHbjNin2YHYqi/Zvtix2K/Yp9iu2Kog4oCiINin2LnZhNin2YYg2LPYsdix2LPbjNivPC9kaXY+PC9kaXY+CiAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFnZSIgZGF0YS1wYWdlPSJwYXRpZW50cyI+CiAgICAgICAgICA8aDIgY2xhc3M9ImgxIj7YqNuM2YXYp9ix2KfZhiA8c3BhbiBjbGFzcz0iZ3JlZW4iPijYt9ix2KfYrduMKTwvc3Bhbj48L2gyPgogICAgICAgICAgPHAgY2xhc3M9ImRlc2MiPtm+2LHZiNmB2KfbjNmEIOKAoiDZvtix2YjZhtiv2Ycg4oCiINqG2KfYsdiqINiv2YbYr9in2YYg4oCiINm+24zar9uM2LHbjDwvcD4KICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQiPjxkaXYgY2xhc3M9ImRlc2MiPtmE24zYs9iqINio24zZhdin2LHYp9mGINmIINis2LPYqtis2Yg8L2Rpdj48L2Rpdj4KICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYWdlIiBkYXRhLXBhZ2U9Im1vcmUiPgogICAgICAgICAgPGgyIGNsYXNzPSJoMSI+2KjbjNi02KrYsTwvaDI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGVzYyI+2obaqeKAjNmE24zYs9iqINuwLdux27DbsDo8L2Rpdj4KICAgICAgICAgICAgPHAgY2xhc3M9ImRlc2MiPjxhIGNsYXNzPSJsaW5rIiBocmVmPSIuL2NoZWNrbGlzdC5odG1sIj7YqNin2LIg2qnYsdiv2YYg2obaqeKAjNmE24zYs9iqPC9hPjwvcD4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCI+PGRpdiBjbGFzcz0iZGVzYyI+2KrZhti424zZhdin2Kog4oCiINm+24zYp9mF2qkg4oCiINin2YbYqNin2LEg4oCiIEFJICjYqNi52K/Yp9mLKTwvZGl2PjwvZGl2PgogICAgICAgIDwvc2VjdGlvbj4KICAgICAgPC9tYWluPgoKICAgICAgPG5hdiBjbGFzcz0idGFiYmFyIiBhcmlhLWxhYmVsPSJOYXZpZ2F0aW9uIj4KICAgICAgICA8YnV0dG9uIGNsYXNzPSJ0YWIgb24iIGRhdGEtdGFiPSJob21lIiB0eXBlPSJidXR0b24iPgogICAgICAgICAgPHNwYW4gY2xhc3M9InRJIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PHNwYW4gY2xhc3M9InRhYkRvdCI+PC9zcGFuPjwvc3Bhbj4KICAgICAgICAgIDxzcGFuPtiu2KfZhtmHPC9zcGFuPgogICAgICAgIDwvYnV0dG9uPgogICAgICAgIDxidXR0b24gY2xhc3M9InRhYiIgZGF0YS10YWI9InNjaGVkdWxlIiB0eXBlPSJidXR0b24iPgogICAgICAgICAgPHNwYW4gY2xhc3M9InRJIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PHNwYW4gY2xhc3M9InRhYkRvdCI+PC9zcGFuPjwvc3Bhbj4KICAgICAgICAgIDxzcGFuPtmG2YjYqNiqPC9zcGFuPgogICAgICAgIDwvYnV0dG9uPgogICAgICAgIDxidXR0b24gY2xhc3M9InRhYiIgZGF0YS10YWI9ImZpbmFuY2UiIHR5cGU9ImJ1dHRvbiI+CiAgICAgICAgICA8c3BhbiBjbGFzcz0idEkiIGFyaWEtaGlkZGVuPSJ0cnVlIj48c3BhbiBjbGFzcz0idGFiRG90Ij48L3NwYW4+PC9zcGFuPgogICAgICAgICAgPHNwYW4+2YXYp9mE24w8L3NwYW4+CiAgICAgICAgPC9idXR0b24+CiAgICAgICAgPGJ1dHRvbiBjbGFzcz0idGFiIiBkYXRhLXRhYj0icGF0aWVudHMiIHR5cGU9ImJ1dHRvbiI+CiAgICAgICAgICA8c3BhbiBjbGFzcz0idEkiIGFyaWEtaGlkZGVuPSJ0cnVlIj48c3BhbiBjbGFzcz0idGFiRG90Ij48L3NwYW4+PC9zcGFuPgogICAgICAgICAgPHNwYW4+2KjbjNmF2KfYsdin2YY8L3NwYW4+CiAgICAgICAgPC9idXR0b24+CiAgICAgICAgPGJ1dHRvbiBjbGFzcz0idGFiIiBkYXRhLXRhYj0ibW9yZSIgdHlwZT0iYnV0dG9uIj4KICAgICAgICAgIDxzcGFuIGNsYXNzPSJ0SSIgYXJpYS1oaWRkZW49InRydWUiPjxzcGFuIGNsYXNzPSJ0YWJEb3QiPjwvc3Bhbj48L3NwYW4+CiAgICAgICAgICA8c3Bhbj7YqNuM2LTYqtixPC9zcGFuPgogICAgICAgIDwvYnV0dG9uPgogICAgICA8L25hdj4KICAgIDwvZGl2PgogIDwvZGl2PgoKICA8c2NyaXB0IHNyYz0iLi9tYWluLmpzIiBkZWZlcj48L3NjcmlwdD4KPC9ib2R5Pgo8L2h0bWw+Cg=="     $pwaCss   = Decode-B64Utf8 "OnJvb3R7CiAgLS1ncmVlbjojMDBjODUzOwogIC0tYmc6IzBiMGYxNDsKICAtLWNhcmQ6cmdiYSgyNTUsMjU1LDI1NSwuMDYpOwogIC0tc3Ryb2tlOnJnYmEoMjU1LDI1NSwyNTUsLjEwKTsKICAtLXRleHQ6cmdiYSgyNTUsMjU1LDI1NSwuOTIpOwogIC0tbXV0ZWQ6cmdiYSgyNTUsMjU1LDI1NSwuNjQpOwogIC0tc2hhZG93OjAgMThweCA2MHB4IHJnYmEoMCwwLDAsLjU1KTsKICAtLXI6MjJweDsKCiAgLS1jLXNjaGVkOiMzNmQxZmY7CiAgLS1jLWZpbjojZmZkMTY2OwogIC0tYy1wYXQ6IzdjNGRmZjsKICAtLWMtbGFiOiNmZjRkOGQ7CiAgLS1jLW1vcmU6I2IwYmVjNTsKfQoqe2JveC1zaXppbmc6Ym9yZGVyLWJveH0KaHRtbCxib2R5e2hlaWdodDoxMDAlfQpib2R5ewogIG1hcmdpbjowOwogIGZvbnQtZmFtaWx5OiB1aS1yb3VuZGVkLCBzeXN0ZW0tdWksIC1hcHBsZS1zeXN0ZW0sICJTZWdvZSBVSSIsIFRhaG9tYSwgc2Fucy1zZXJpZjsKICBiYWNrZ3JvdW5kOgogICAgcmFkaWFsLWdyYWRpZW50KDEyMDBweCA4MDBweCBhdCAxMCUgMCUsIHJnYmEoMCwyMDAsODMsLjE0KSwgdHJhbnNwYXJlbnQgNTUlKSwKICAgIHJhZGlhbC1ncmFkaWVudCg5MDBweCA3MDBweCBhdCA5MCUgMTAlLCByZ2JhKDU0LDIwOSwyNTUsLjEyKSwgdHJhbnNwYXJlbnQgNTUlKSwKICAgIHJhZGlhbC1ncmFkaWVudCg5MDBweCA4MDBweCBhdCA3MCUgOTAlLCByZ2JhKDI1NSw3NywxNDEsLjEwKSwgdHJhbnNwYXJlbnQgNTUlKSwKICAgIHZhcigtLWJnKTsKICBjb2xvcjp2YXIoLS10ZXh0KTsKfQoKLnNoZWxse21pbi1oZWlnaHQ6MTAwJTsgZGlzcGxheTpmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOyBwYWRkaW5nOjE0cHggMTBweCA5MnB4fQoucGhvbmVGcmFtZXsKICB3aWR0aDptaW4oNDMwcHgsIDEwMCUpOwogIGJvcmRlci1yYWRpdXM6MzJweDsKICBib3JkZXI6IG5vbmU7CiAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwuMjIpOwogIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdyk7CiAgb3ZlcmZsb3c6aGlkZGVuOwogIHBvc2l0aW9uOnJlbGF0aXZlOwogIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxOHB4KTsKfQoKLnRvcGJhcnsKICBwb3NpdGlvbjpzdGlja3k7IHRvcDowOyB6LWluZGV4OjIwOwogIGRpc3BsYXk6ZmxleDsgYWxpZ24taXRlbXM6Y2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjsKICBwYWRkaW5nOjE0cHggMTRweCAxMHB4OwogIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxODBkZWcsIHJnYmEoMCwwLDAsLjU1KSwgcmdiYSgwLDAsMCwuMTIpKTsKICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTZweCk7CiAgYm9yZGVyLWJvdHRvbToxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwuMDgpOwp9Ci5icmFuZHtkaXNwbGF5OmZsZXg7IGdhcDoxMHB4OyBhbGlnbi1pdGVtczpjZW50ZXJ9Ci5sb2dvewogIHdpZHRoOjM4cHg7IGhlaWdodDozOHB4OyBib3JkZXItcmFkaXVzOjE0cHg7CiAgZGlzcGxheTpncmlkOyBwbGFjZS1pdGVtczpjZW50ZXI7CiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiYSgyNTUsMjU1LDI1NSwuMTIpLCByZ2JhKDI1NSwyNTUsMjU1LC4wNSkpOwogIGJveC1zaGFkb3c6IDAgMTJweCAyOHB4IHJnYmEoMCwwLDAsLjUwKTsKICBvdmVyZmxvdzpoaWRkZW47Cn0KLmxvZ29Tdmd7d2lkdGg6MzhweDtoZWlnaHQ6MzhweDsgZGlzcGxheTpibG9ja30KLmJyYW5kVGV4dCAudDF7Zm9udC13ZWlnaHQ6MTAwMDsgZm9udC1zaXplOjE0cHg7IGxpbmUtaGVpZ2h0OjEuMX0KLmJyYW5kVGV4dCAudDJ7Zm9udC1zaXplOjEycHg7IGNvbG9yOnZhcigtLW11dGVkKX0KLnRvcEFjdGlvbnN7ZGlzcGxheTpmbGV4OyBnYXA6OHB4OyBhbGlnbi1pdGVtczpjZW50ZXJ9Ci5pY29uQnRuewogIHdpZHRoOjM4cHg7IGhlaWdodDozOHB4OyBib3JkZXItcmFkaXVzOjE0cHg7CiAgYm9yZGVyOm5vbmU7CiAgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwuMDUpOwogIGNvbG9yOnZhcigtLXRleHQpOwogIGRpc3BsYXk6Z3JpZDsgcGxhY2UtaXRlbXM6Y2VudGVyOwogIGN1cnNvcjpwb2ludGVyOwogIGJveC1zaGFkb3c6IDAgMTBweCAyNnB4IHJnYmEoMCwwLDAsLjQ1KSwgMCAwIDAgMXB4IHJnYmEoMjU1LDI1NSwyNTUsLjA2KSBpbnNldDsKICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjEycyBlYXNlLCBiYWNrZ3JvdW5kIC4xMnMgZWFzZTsKfQouaWNvbkJ0bjphY3RpdmV7dHJhbnNmb3JtOnNjYWxlKC45OCl9Ci5taW5pU3Zne3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHg7ZGlzcGxheTpibG9ja30KCi5jb250YWluZXJ7cGFkZGluZzoxNHB4fQoucGFnZXtkaXNwbGF5Om5vbmU7IGFuaW1hdGlvbjpmYWRlSW4gLjE4cyBlYXNlfQoucGFnZS5vbntkaXNwbGF5OmJsb2NrfQpAa2V5ZnJhbWVzIGZhZGVJbntmcm9te29wYWNpdHk6LjA7IHRyYW5zZm9ybTp0cmFuc2xhdGVZKDZweCl9dG97b3BhY2l0eToxOyB0cmFuc2Zvcm06bm9uZX19CgouaDF7Zm9udC1zaXplOjIwcHg7IGZvbnQtd2VpZ2h0OjExMDA7IG1hcmdpbjowfQouZ3JlZW57Y29sb3I6dmFyKC0tZ3JlZW4pfQouc3Vie2NvbG9yOnZhcigtLW11dGVkKTsgZm9udC1zaXplOjEycHg7IG1hcmdpbi10b3A6NHB4fQouZGVzY3tjb2xvcjp2YXIoLS1tdXRlZCk7IGZvbnQtc2l6ZToxMnB4OyBsaW5lLWhlaWdodDoxLjQ1fQoKLmhlcm97ZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpmbGV4LWVuZDsganVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47IGdhcDoxMHB4OyBtYXJnaW4tYm90dG9tOjEycHh9Ci5jaGlwewogIGZvbnQtc2l6ZToxMXB4OwogIHBhZGRpbmc6NnB4IDEwcHg7CiAgYm9yZGVyLXJhZGl1czo5OTlweDsKICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLC4xOCk7CiAgY29sb3I6dmFyKC0tbXV0ZWQpOwogIGJveC1zaGFkb3c6IDAgMTBweCAyNnB4IHJnYmEoMCwwLDAsLjQwKSwgMCAwIDAgMXB4IHJnYmEoMjU1LDI1NSwyNTUsLjA2KSBpbnNldDsKICB3aGl0ZS1zcGFjZTpub3dyYXA7Cn0KCi5ncmlkMntkaXNwbGF5OmdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczoxZnIgMWZyOyBnYXA6MTBweH0KLmdyaWQze2Rpc3BsYXk6Z3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOjFmciAxZnIgMWZyOyBnYXA6MTBweH0KQG1lZGlhIChtYXgtd2lkdGg6IDM4MHB4KXsgLmdyaWQze2dyaWQtdGVtcGxhdGUtY29sdW1uczoxZnIgMWZyfSB9CgouZmVhdHVyZUNhcmQsIC5jYXJkewogIHdpZHRoOjEwMCU7CiAgYm9yZGVyLXJhZGl1czogdmFyKC0tcik7CiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwuMTApOwogIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxODBkZWcsIHJnYmEoMjU1LDI1NSwyNTUsLjA4KSwgcmdiYSgyNTUsMjU1LDI1NSwuMDQpKTsKICBib3gtc2hhZG93OiAwIDE0cHggNDhweCByZ2JhKDAsMCwwLC4zOCk7CiAgcGFkZGluZzoxNHB4OwogIHBvc2l0aW9uOnJlbGF0aXZlOwogIG92ZXJmbG93OmhpZGRlbjsKICBjdXJzb3I6cG9pbnRlcjsKICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjEycyBlYXNlLCBib3JkZXItY29sb3IgLjEycyBlYXNlOwp9Ci5mZWF0dXJlQ2FyZDphY3RpdmUsIC5jYXJkOmFjdGl2ZXt0cmFuc2Zvcm06c2NhbGUoLjk5KX0KLmNhcmRUaXRsZXtkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmZsZXgtc3RhcnQ7IGp1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuOyBnYXA6MTBweH0KLmJhZGdlewogIGZvbnQtc2l6ZToxMXB4OyBmb250LXdlaWdodDoxMDAwOyBjb2xvcjpyZ2JhKDAsMCwwLC43OCk7CiAgcGFkZGluZzo2cHggMTBweDsgYm9yZGVyLXJhZGl1czo5OTlweDsKICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LC44OCk7Cn0KCi5mZWF0dXJlQ2FyZCAuaDIsIC5jYXJkIC5oMnttYXJnaW46MTBweCAwIDZweDsgZm9udC13ZWlnaHQ6MTEwMDsgZm9udC1zaXplOjE2cHh9Ci5jdGF7bWFyZ2luLXRvcDoxMHB4OyBmb250LXdlaWdodDoxMDAwOyBmb250LXNpemU6MTJweH0KCi5hY2NlbnR7CiAgcG9zaXRpb246YWJzb2x1dGU7IGluc2V0Oi0xMjBweCAtMTIwcHggYXV0byBhdXRvOwogIHdpZHRoOjI0MHB4OyBoZWlnaHQ6MjQwcHg7IGJvcmRlci1yYWRpdXM6NTAlOwogIG9wYWNpdHk6LjM2OwogIHRyYW5zZm9ybTogcm90YXRlKDEyZGVnKTsKfQouY1NjaGVkIC5hY2NlbnR7YmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAzMCUgMjUlLCB2YXIoLS1jLXNjaGVkKSwgdHJhbnNwYXJlbnQgNjAlKX0KLmNGaW4gLmFjY2VudHtiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IDMwJSAyNSUsIHZhcigtLWMtZmluKSwgdHJhbnNwYXJlbnQgNjAlKX0KLmNQYXQgLmFjY2VudHtiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IDMwJSAyNSUsIHZhcigtLWMtcGF0KSwgdHJhbnNwYXJlbnQgNjAlKX0KLmNMYWIgLmFjY2VudHtiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IDMwJSAyNSUsIHZhcigtLWMtbGFiKSwgdHJhbnNwYXJlbnQgNjAlKX0KLmNNb3JlIC5hY2NlbnR7YmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAzMCUgMjUlLCB2YXIoLS1jLW1vcmUpLCB0cmFuc3BhcmVudCA2MCUpfQoKLmljb25CbG9iewogIHdpZHRoOjQ2cHg7IGhlaWdodDo0NnB4OyBib3JkZXItcmFkaXVzOjE4cHg7CiAgZGlzcGxheTpncmlkOyBwbGFjZS1pdGVtczpjZW50ZXI7CiAgYmFja2dyb3VuZDoKICAgIHJhZGlhbC1ncmFkaWVudChjaXJjbGUgYXQgMjglIDIyJSwgcmdiYSgyNTUsMjU1LDI1NSwuMTYpLCB0cmFuc3BhcmVudCA2MCUpLAogICAgcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCA3MCUgODIlLCByZ2JhKDI1NSwyNTUsMjU1LC4wOCksIHRyYW5zcGFyZW50IDYwJSksCiAgICBsaW5lYXItZ3JhZGllbnQoMTQ1ZGVnLCByZ2JhKDI1NSwyNTUsMjU1LC4xMCksIHJnYmEoMCwwLDAsLjIyKSk7CiAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpOwogIGJveC1zaGFkb3c6IDAgMTBweCAyNnB4IHJnYmEoMCwwLDAsLjQwKSwgMCAwIDAgMXB4IHJnYmEoMjU1LDI1NSwyNTUsLjA2KSBpbnNldDsKICBwb3NpdGlvbjpyZWxhdGl2ZTsKICBvdmVyZmxvdzpoaWRkZW47Cn0KLmljb25CbG9iOjpiZWZvcmV7CiAgY29udGVudDoiIjsKICBwb3NpdGlvbjphYnNvbHV0ZTsgaW5zZXQ6LTMwcHg7CiAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAzMCUgMjUlLCByZ2JhKDI1NSwyNTUsMjU1LC4xOCksIHRyYW5zcGFyZW50IDYwJSk7CiAgYW5pbWF0aW9uOiBmbG9hdHkgNC42cyBlYXNlLWluLW91dCBpbmZpbml0ZTsKICBvcGFjaXR5Oi44Owp9CkBrZXlmcmFtZXMgZmxvYXR5ezAlLDEwMCV7dHJhbnNmb3JtOnJvdGF0ZSgwZGVnKSBzY2FsZSgxKX01MCV7dHJhbnNmb3JtOnJvdGF0ZSgtNmRlZykgc2NhbGUoMS4wMyl9fQouc3ZnSWNvbnt3aWR0aDoyOHB4OyBoZWlnaHQ6MjhweDsgcG9zaXRpb246cmVsYXRpdmU7IHotaW5kZXg6MX0KCi50YWJiYXJ7CiAgcG9zaXRpb246Zml4ZWQ7CiAgbGVmdDogbWF4KDEwcHgsIGVudihzYWZlLWFyZWEtaW5zZXQtbGVmdCkpOwogIHJpZ2h0OiBtYXgoMTBweCwgZW52KHNhZmUtYXJlYS1pbnNldC1yaWdodCkpOwogIGJvdHRvbTogbWF4KDEwcHgsIGVudihzYWZlLWFyZWEtaW5zZXQtYm90dG9tKSk7CiAgaGVpZ2h0OjY2cHg7CiAgYm9yZGVyLXJhZGl1czoyNHB4OwogIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsLjI2KTsKICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMThweCk7CiAgZGlzcGxheTpncmlkOwogIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDUsIDFmcik7CiAgb3ZlcmZsb3c6aGlkZGVuOwogIGJveC1zaGFkb3c6IDAgMThweCA2MHB4IHJnYmEoMCwwLDAsLjU1KTsKICB6LWluZGV4OjMwOwogIG1heC13aWR0aDo0MzBweDsKICBtYXJnaW46MCBhdXRvOwp9CkBtZWRpYSAobWluLXdpZHRoOiA3MjBweCl7IC50YWJiYXJ7bGVmdDowOyByaWdodDowfSB9Ci50YWJ7CiAgYm9yZGVyOm5vbmU7IGJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7CiAgY29sb3I6cmdiYSgyNTUsMjU1LDI1NSwuNjIpOwogIGZvbnQtd2VpZ2h0OjEwMDA7IGZvbnQtc2l6ZToxMXB4OwogIGRpc3BsYXk6ZmxleDsgZmxleC1kaXJlY3Rpb246Y29sdW1uOwogIGFsaWduLWl0ZW1zOmNlbnRlcjsganVzdGlmeS1jb250ZW50OmNlbnRlcjsKICBnYXA6NHB4OwogIGN1cnNvcjpwb2ludGVyOwogIHRyYW5zaXRpb246IGNvbG9yIC4xMnMgZWFzZSwgdHJhbnNmb3JtIC4xMnMgZWFzZTsKfQoudGFiOmFjdGl2ZXt0cmFuc2Zvcm06c2NhbGUoLjk4KX0KLnRhYi5vbntjb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LC45NCl9Ci50YWJEb3R7d2lkdGg6NnB4OyBoZWlnaHQ6NnB4OyBib3JkZXItcmFkaXVzOjUwJTsgYmFja2dyb3VuZDp0cmFuc3BhcmVudH0KLnRhYi5vbiAudGFiRG90e2JhY2tncm91bmQ6dmFyKC0tZ3JlZW4pfQoKLmxpbmt7Y29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsLjkyKTsgdGV4dC1kZWNvcmF0aW9uOm5vbmU7IGJvcmRlci1ib3R0b206MXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsLjE4KX0KLmxpbms6YWN0aXZle29wYWNpdHk6Ljh9Cg=="     $pwaJs    = Decode-B64Utf8 "KCgpID0+IHsKICAvLyBTVwogIGlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKSB7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHsKICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJy4vc3cuanMnKS5jYXRjaCgoKSA9PiB7fSk7CiAgICB9KTsKICB9CgogIGNvbnN0IHEgPSAoc2VsLCByb290ID0gZG9jdW1lbnQpID0+IHJvb3QucXVlcnlTZWxlY3RvcihzZWwpOwogIGNvbnN0IHFhID0gKHNlbCwgcm9vdCA9IGRvY3VtZW50KSA9PiBBcnJheS5mcm9tKHJvb3QucXVlcnlTZWxlY3RvckFsbChzZWwpKTsKCiAgZnVuY3Rpb24gc2V0UGFnZShuYW1lKSB7CiAgICBxYSgnLnBhZ2UnKS5mb3JFYWNoKHAgPT4gcC5jbGFzc0xpc3QudG9nZ2xlKCdvbicsIHAuZ2V0QXR0cmlidXRlKCdkYXRhLXBhZ2UnKSA9PT0gbmFtZSkpOwogICAgcWEoJy50YWInKS5mb3JFYWNoKHQgPT4gdC5jbGFzc0xpc3QudG9nZ2xlKCdvbicsIHQuZ2V0QXR0cmlidXRlKCdkYXRhLXRhYicpID09PSBuYW1lKSk7CiAgICB0cnkgeyBoaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCAnJywgJyMnK25hbWUpOyB9IGNhdGNoIChfKSB7fQogIH0KCiAgZnVuY3Rpb24gd2lyZSgpIHsKICAgIHFhKCcudGFiJykuZm9yRWFjaChidG4gPT4gewogICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzZXRQYWdlKGJ0bi5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGFiJykpKTsKICAgIH0pOwogICAgcWEoJ1tkYXRhLWdvXScpLmZvckVhY2goY2FyZCA9PiB7CiAgICAgIGNvbnN0IGdvID0gY2FyZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZ28nKTsKICAgICAgY29uc3QgYWN0ID0gKCkgPT4gc2V0UGFnZShnbyk7CiAgICAgIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhY3QpOwogICAgICBjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4gewogICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleSA9PT0gJyAnKSB7IGUucHJldmVudERlZmF1bHQoKTsgYWN0KCk7IH0KICAgICAgfSk7CiAgICB9KTsKCiAgICBjb25zdCBoYXNoID0gKGxvY2F0aW9uLmhhc2ggfHwgJycpLnJlcGxhY2UoJyMnLCcnKS50cmltKCk7CiAgICBpZiAoaGFzaCkgc2V0UGFnZShoYXNoKTsKICB9CgogIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnbG9hZGluZycpIHsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCB3aXJlKTsKICB9IGVsc2UgewogICAgd2lyZSgpOwogIH0KfSkoKTsK"        Write-TextNoBom "app\pwa\index.html" $pwaIndex     Write-TextNoBom "app\pwa\ui.css"     $pwaCss     Write-TextNoBom "app\pwa\main.js"    $pwaJs        # Evidence/Resume packs (same structure as G17)     $evidenceDir = "artifacts\evidence"     $resumeDir   = "artifacts\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $eState = Join-Path $evidenceStage "state"     $eTools = Join-Path $evidenceStage "tools"     $eDocs  = Join-Path $evidenceStage "docs"     $eApp   = Join-Path $evidenceStage "app"     $eHandoff = Join-Path $evidenceStage "handoff"     New-Item -ItemType Directory -Force $eState | Out-Null     New-Item -ItemType Directory -Force $eTools | Out-Null     New-Item -ItemType Directory -Force $eDocs  | Out-Null     New-Item -ItemType Directory -Force $eApp   | Out-Null     New-Item -ItemType Directory -Force $eHandoff | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                 (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                 (Join-Path $eState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $eTools "run.ps1")        Copy-Item -Force "docs\CHECKLIST_0_100.md" (Join-Path $eDocs "CHECKLIST_0_100.md")     Copy-Item -Force "docs\RESUME.md" (Join-Path $eDocs "RESUME.md")     Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $eDocs "LOCKPACK_RULES.md")     Copy-Item -Force "handoff\HANDOFF_PACK.txt" (Join-Path $eHandoff "HANDOFF_PACK.txt")        New-Item -ItemType Directory -Force (Join-Path $eApp "pwa") | Out-Null     Copy-Item -Force "app\pwa\index.html"     (Join-Path $eApp "pwa\index.html")     Copy-Item -Force "app\pwa\ui.css"         (Join-Path $eApp "pwa\ui.css")     Copy-Item -Force "app\pwa\main.js"        (Join-Path $eApp "pwa\main.js")     Copy-Item -Force "app\pwa\checklist.json" (Join-Path $eApp "pwa\checklist.json")     Copy-Item -Force "app\pwa\checklist.js"   (Join-Path $eApp "pwa\checklist.js")     Copy-Item -Force "app\pwa\checklist.html" (Join-Path $eApp "pwa\checklist.html")        $tc = Get-Toolchain     $toolchainTxt = "artifacts\evidence_toolchain.txt"     Write-TextNoBom $toolchainTxt (($tc | ConvertTo-Json -Depth 5))        $qg = [ordered]@{       gate = $Gate       ts_utc = $utc       project = "Dental-Mina"       signature = "PYM JBZ"       checks = [ordered]@{         toolchain = $tc         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         pwa_shell_v2026 = $true         checklist_synced = $true         packs = [ordered]@{           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     $rDocs  = Join-Path $resumeStage "docs"     $rApp   = Join-Path $resumeStage "app"     $rHandoff = Join-Path $resumeStage "handoff"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null     New-Item -ItemType Directory -Force $rDocs  | Out-Null     New-Item -ItemType Directory -Force $rApp   | Out-Null     New-Item -ItemType Directory -Force $rHandoff | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                 (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                 (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $rTools "run.ps1")        Copy-Item -Force "docs\CHECKLIST_0_100.md" (Join-Path $rDocs "CHECKLIST_0_100.md")     Copy-Item -Force "docs\RESUME.md" (Join-Path $rDocs "RESUME.md")     Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $rDocs "LOCKPACK_RULES.md")     Copy-Item -Force "handoff\HANDOFF_PACK.txt" (Join-Path $rHandoff "HANDOFF_PACK.txt")        New-Item -ItemType Directory -Force (Join-Path $rApp "pwa") | Out-Null     Copy-Item -Force "app\pwa\index.html"     (Join-Path $rApp "pwa\index.html")     Copy-Item -Force "app\pwa\ui.css"         (Join-Path $rApp "pwa\ui.css")     Copy-Item -Force "app\pwa\main.js"        (Join-Path $rApp "pwa\main.js")     Copy-Item -Force "app\pwa\checklist.json" (Join-Path $rApp "pwa\checklist.json")     Copy-Item -Force "app\pwa\checklist.js"   (Join-Path $rApp "pwa\checklist.js")     Copy-Item -Force "app\pwa\checklist.html" (Join-Path $rApp "pwa\checklist.html")        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract   2) Read state/NEXT_ACTION.md   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        # STOP after pass     $naHold = New-NextActionHoldText $Gate     if (Test-HasMojibakeMarkers $naHold) { throw "HOLD_ENCODING_STILL_BROKEN" }     Write-TextNoBom "state\NEXT_ACTION.md" $naHold        $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G18_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc     if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        $state.next_action_hash = (Get-Sha256Lower "state\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G18_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }         function Do-G19 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\STATE.json"     $ledgerV2  = "state\LEDGER_v2.ndjson"     $issuesV2  = "state\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        # Keep runner-managed docs in sync     Sync-RunnerOutputs        # Create CODEOWNERS + CI workflow (Protected Prod = CI status check present)     New-Item -ItemType Directory -Force ".github\workflows" | Out-Null        $codeowners = @"   # Dental-Mina (LOCKPACK) - CODEOWNERS   # TODO: Replace @YOUR_GITHUB_USERNAME with a real GitHub username or @org/team.   * @YOUR_GITHUB_USERNAME   /docs/ @YOUR_GITHUB_USERNAME   /tools/ @YOUR_GITHUB_USERNAME   /state/ @YOUR_GITHUB_USERNAME   /app/ @YOUR_GITHUB_USERNAME   /.github/ @YOUR_GITHUB_USERNAME   "@     Write-TextNoBom ".github\CODEOWNERS" $codeowners        $workflow = @'   name: lockpack-required   on:   workflow_dispatch: jobs:     lockpack:       runs-on: windows-latest       steps:         - uses: actions/checkout@v4         - name: HashLock verify (required check)           shell: pwsh           run: |             $ErrorActionPreference = "Stop"             $hp = "state/HASHLOCK.json"             if (!(Test-Path $hp)) { throw "MISSING_HASHLOCK" }             $raw = Get-Content $hp -Raw             $j = $raw | ConvertFrom-Json             if (-not $j.protected) { throw "HASHLOCK_INVALID" }             foreach ($it in $j.protected) {               $p = ($it.path -replace "/","\\")               if (!(Test-Path $p)) { throw ("HASHLOCK_MISSING_FILE:" + $it.path) }               $h = (Get-FileHash -Algorithm SHA256 $p).Hash.ToLower()               $want = ($it.sha256.ToString()).ToLower()               if ($h -ne $want) { throw ("HASHLOCK_MISMATCH:" + $it.path) }             }             Write-Host "HASHLOCK_OK"   '@     Write-TextNoBom ".github\workflows\lockpack_required.yml" $workflow        # Update LOCKPACK_RULES with G19 section (Persian text via Base64 to keep runner ASCII-only)     $rulesPath = "docs\LOCKPACK_RULES.md"     if (-not (Test-Path $rulesPath)) { throw "MISSING_LOCKPACK_RULES" }     $rules = Read-TextNoBom $rulesPath     if ($rules -notmatch "##\s+G19") {       $addon = @'   ## G20 - Signed CI Artifact + Provenance   - Adds workflow `.github/workflows/ci_attest_build_provenance.yml` to produce build provenance attestations.   if(!(Test-Path 'dist/sigstore_trusted_root.jsonl')){ throw 'MISSING_TRUSTED_ROOT_FROM_CI: dist/sigstore_trusted_root.jsonl (CI must upload/download dist artifact before verify)' } - Verifies artifact attestation locally via `gh attestation verify --custom-trusted-root dist/sigstore_trusted_root.jsonl` (requires GitHub CLI auth).   - PASS requires: workflow present, CI run success, and `artifacts/ci/*/attestation_verify.json` captured in evidence.   '@       $rules2 = $rules + $addon       if (Test-HasMojibakeMarkers $rules2) { throw "LOCKPACK_RULES_ENCODING_BROKEN" }       Write-TextNoBom $rulesPath $rules2     }        # Write HASHLOCK (locks process/control layer files)     $paths = Get-HashLockProtectedPaths     Write-HashLock $paths        # Verify HASHLOCK now (use a non-G19 gate name to force verification)     Assert-HashLockIfPresent "G0_BOOTSTRAP"        # Sync checklists so G19 appears     $passSet = Get-PassedGateSet $state     $passSet[$Gate] = $true     Sync-DocsChecklist $passSet     Sync-AppChecklist $passSet     Sync-AppChecklistJs        # Evidence/Resume packs (same structure as G17)     $evidenceDir = "artifacts\evidence"     $resumeDir   = "artifacts\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $eState = Join-Path $evidenceStage "state"     $eTools = Join-Path $evidenceStage "tools"     $eDocs  = Join-Path $evidenceStage "docs"     $eApp   = Join-Path $evidenceStage "app"     $eHandoff = Join-Path $evidenceStage "handoff"     $eGithub = Join-Path $evidenceStage ".github"     New-Item -ItemType Directory -Force $eState | Out-Null     New-Item -ItemType Directory -Force $eTools | Out-Null     New-Item -ItemType Directory -Force $eDocs | Out-Null     New-Item -ItemType Directory -Force $eApp | Out-Null     New-Item -ItemType Directory -Force $eHandoff | Out-Null     New-Item -ItemType Directory -Force (Join-Path $eGithub "workflows") | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2              (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2              (Join-Path $eState "ISSUES_v2.ndjson")     Copy-Item -Force "state\HASHLOCK.json"  (Join-Path $eState "HASHLOCK.json")     Copy-Item -Force "tools\run.ps1"        (Join-Path $eTools "run.ps1")     Copy-Item -Force "docs\CHECKLIST_0_100.md" (Join-Path $eDocs "CHECKLIST_0_100.md")     Copy-Item -Force "docs\RESUME.md"       (Join-Path $eDocs "RESUME.md")     Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $eDocs "LOCKPACK_RULES.md")     Copy-Item -Force "handoff\HANDOFF_PACK.txt" (Join-Path $eHandoff "HANDOFF_PACK.txt")     Copy-Item -Force ".github\CODEOWNERS"   (Join-Path $eGithub "CODEOWNERS")     Copy-Item -Force ".github\workflows\lockpack_required.yml" (Join-Path (Join-Path $eGithub "workflows") "lockpack_required.yml")        # QG.json     $tc = Get-Toolchain     $toolchainTxt = "artifacts\evidence_toolchain.txt"     Write-TextNoBom $toolchainTxt (($tc | ConvertTo-Json -Depth 5))        $qg = [ordered]@{       gate = $Gate       ts_utc = $utc       project = "Dental-Mina"       signature = "PYM JBZ"       checks = [ordered]@{         toolchain = $tc         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         operator_docs_utf8_bom = $true         codeowners = "PRESENT"         hashlock = "OK"         protected_prod = "CI_WORKFLOW_PRESENT"         packs = [ordered]@{           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        # Resume stage (include chat-proof core + process controls)     $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     $rDocs  = Join-Path $resumeStage "docs"     $rHandoff = Join-Path $resumeStage "handoff"     $rGithub = Join-Path $resumeStage ".github"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null     New-Item -ItemType Directory -Force $rDocs | Out-Null     New-Item -ItemType Directory -Force $rHandoff | Out-Null     New-Item -ItemType Directory -Force (Join-Path $rGithub "workflows") | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2              (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2              (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "state\HASHLOCK.json"  (Join-Path $rState "HASHLOCK.json")     Copy-Item -Force "tools\run.ps1"        (Join-Path $rTools "run.ps1")     Copy-Item -Force "docs\CHECKLIST_0_100.md" (Join-Path $rDocs "CHECKLIST_0_100.md")     Copy-Item -Force "docs\RESUME.md"       (Join-Path $rDocs "RESUME.md")     Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $rDocs "LOCKPACK_RULES.md")     Copy-Item -Force "handoff\HANDOFF_PACK.txt" (Join-Path $rHandoff "HANDOFF_PACK.txt")     Copy-Item -Force ".github\CODEOWNERS"   (Join-Path $rGithub "CODEOWNERS")     Copy-Item -Force ".github\workflows\lockpack_required.yml" (Join-Path (Join-Path $rGithub "workflows") "lockpack_required.yml")        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract the folder   2) Open state/NEXT_ACTION.md in VS Code (UTF-8)   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        # Ledger append (v2)     $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G19_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        # Update STATE (and lock)     $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc     $state.next_action_hash = (Get-Sha256Lower "state\NEXT_ACTION.md")     if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        # Move to HOLD     $hold = New-NextActionHoldText $Gate     Write-TextNoBom "state\NEXT_ACTION.md" $hold        # Update state hash after writing HOLD     $state.next_action_hash = (Get-Sha256Lower "state\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G19_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }         function Do-G20 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\STATE.json"     $ledgerV2  = "state\LEDGER_v2.ndjson"     $issuesV2  = "state\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        Sync-RunnerOutputs        # Ensure CI workflow for build provenance attestation     New-Item -ItemType Directory -Force ".github\workflows" | Out-Null     $wfPath = ".github\workflows\ci_attest_build_provenance.yml"     $wf = @' name: ci-attest-build-provenance on:   workflow_dispatch:   push:     branches:       - main       - master  permissions: {}  jobs:   build:     runs-on: windows-latest     permissions:       id-token: write       attestations: write       contents: read     steps:       - uses: actions/checkout@v4        - name: Build artifact (git archive zip)         shell: pwsh         run: |           $ErrorActionPreference = "Stop"           New-Item -ItemType Directory -Force dist | Out-Null           $out = "dist/Dental-Mina_repo_${{ github.sha }}.zip"           if (Test-Path $out) { Remove-Item $out -Force }           git archive --format=zip --output $out HEAD        - name: Write Sigstore trusted root (offline verification)         shell: pwsh         run: |           $ErrorActionPreference = "Stop"           New-Item -ItemType Directory -Force dist | Out-Null           New-Item -ItemType Directory -Force dist | Out-Null           try { [Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12 } catch {}        - name: Upload Sigstore trusted root         uses: actions/upload-artifact@v4         with:           overwrite: true           name: sigstore_trusted_root           path: dist/sigstore_trusted_root.jsonl           if-no-files-found: error        - name: Attest build provenance         uses: actions/attest-build-provenance@v3         with:           subject-path: dist/Dental-Mina_repo_${{ github.sha }}.zip        - name: Upload artifact         uses: actions/upload-artifact@v4         with:           overwrite: true           name: Dental-Mina_repo           path: dist/Dental-Mina_repo_${{ github.sha }}.zip           if-no-files-found: error '@   Write-TextNoBom $wfPath $wf    # Update LOCKPACK_RULES with G20 section   $rulesPath = "docs\LOCKPACK_RULES.md"   if (-not (Test-Path $rulesPath)) { throw "MISSING_LOCKPACK_RULES" }   $rules = Read-TextNoBom $rulesPath   if ($rules -notmatch "##\s+G20") {     $addon = @' ## G20 - Signed CI Artifact + Provenance - Adds workflow `.github/workflows/ci_attest_build_provenance.yml` to produce build provenance attestations. - Verifies artifact attestation locally via `gh attestation verify --custom-trusted-root dist/sigstore_trusted_root.jsonl` (requires GitHub CLI auth). - PASS requires: workflow present, CI run success, and `artifacts/ci/*/attestation_verify.json` captured in evidence. '@     $rules2 = $rules + $addon     if (Test-HasMojibakeMarkers $rules2) { throw "LOCKPACK_RULES_ENCODING_BROKEN" }     Write-TextNoBom $rulesPath $rules2   }    # Refresh HASHLOCK (now includes the new workflow)   $paths = Get-HashLockProtectedPaths   Write-HashLock $paths   Assert-HashLockIfPresent "G0_BOOTSTRAP"    # CI verify via GitHub CLI   $origin = (& git remote get-url origin 2>$null)   if (-not $origin) { throw "MISSING_GIT_ORIGIN" }    $slug = $null   $u = $origin.Trim()   if ($u -match 'github\.com[:/](?<o>[^/]+)/(?<r>[^/.]+)(\.git)?$') { $slug = "$($Matches.o)/$($Matches.r)" }   if (-not $slug) { throw "CANNOT_PARSE_ORIGIN_URL" }    $gh = Get-Command gh -ErrorAction SilentlyContinue   if (-not $gh) { throw "MISSING_GH_CLI" }    $tok = $env:GH_TOKEN if (-not $tok) { $tok = $env:GITHUB_TOKEN } if ($tok) {   & gh api user *> $null   if ($LASTEXITCODE -ne 0) { throw "GH_TOKEN_INVALID_OR_NETWORK" } } else {   $tok = $env:GH_TOKEN if (-not $tok) { $tok = $env:GITHUB_TOKEN } if ($tok) {   & gh api user *> $null   if ($LASTEXITCODE -ne 0) { throw "GH_TOKEN_INVALID_OR_NETWORK" } } else {   & gh auth status -h github.com *> $null   if ($LASTEXITCODE -ne 0) { throw "GH_NOT_AUTHENTICATED" } } }    # Commit + push changes to main (so workflow exists in remote)   $dirty = (& git status --porcelain)   if ($dirty) {     & git config user.email "lockpack@local.invalid" *> $null     & git config user.name  "LOCKPACK" *> $null     & git add -A     & git commit -m "LOCKPACK G20: CI attest build provenance" *> $null     if ($LASTEXITCODE -ne 0) { throw "GIT_COMMIT_FAILED" } $o = [System.IO.Path]::GetTempFileName() $e = [System.IO.Path]::GetTempFileName() try {   $pp = Start-Process -FilePath "git" -ArgumentList @("push","origin","HEAD:main") -WorkingDirectory $RepoRoot -Wait -PassThru -NoNewWindow -RedirectStandardOutput $o -RedirectStandardError $e   if ($pp.ExitCode -ne 0) { throw ("GIT_PUSH_FAILED:" + ([IO.File]::ReadAllText($e,$Utf8NoBom) + [IO.File]::ReadAllText($o,$Utf8NoBom))) } } finally {   Remove-Item $o,$e -Force -ErrorAction SilentlyContinue }   }   # Use PowerShell REST (WinHTTP/SChannel) for Actions API to avoid Go TLS handshake timeouts.   $authTok = (& gh auth token 2>$null)   if (-not $authTok) { throw "GH_TOKEN_MISSING" }   $authTok = $authTok.Trim()    $headers = @{     Authorization      = "Bearer $authTok"     "User-Agent"       = "LOCKPACK"     Accept             = "application/vnd.github+json"     "X-GitHub-Api-Version" = "2022-11-28"   }     # Preflight (G20): GitHub Attestations are not available for user-owned private repositories.   $repoMeta = $null   try {     $repoMeta = Invoke-RestMethod -Method Get -Uri ("https://api.github.com/repos/$slug") -Headers $headers -TimeoutSec 30   } catch { }   if ($repoMeta -and ($repoMeta.private -eq $true)) {     Write-Host "G20_REQUIRES_PUBLIC_REPO: Make repo Public (Settings -> Change visibility -> Public), then rerun G20."     throw "G20_REQUIRES_PUBLIC_REPO"   }     $RestTimeoutSec = 240   $RestMaxTries   = 8    function Invoke-GhApi {     param(       [Parameter(Mandatory=$true)][ValidateSet("Get","Post")][string]$Method,       [Parameter(Mandatory=$true)][string]$Uri,       [object]$Body = $null     )     for ($try=1; $try -le $RestMaxTries; $try++) {       try {         if ($null -ne $Body) {           return Invoke-RestMethod -Method $Method -Uri $Uri -Headers $headers -ContentType "application/json" -Body ($Body | ConvertTo-Json -Depth 10) -TimeoutSec $RestTimeoutSec         } else {           return Invoke-RestMethod -Method $Method -Uri $Uri -Headers $headers -TimeoutSec $RestTimeoutSec         }       } catch {         if ($try -ge $RestMaxTries) { throw }         Start-Sleep -Seconds ([Math]::Min(20, [Math]::Pow(2, $try)))       }     }   }    $runsUrl = "https://api.github.com/repos/$slug/actions/workflows/ci_attest_build_provenance.yml/runs?event=workflow_dispatch&per_page=5"    $beforeId = $null   try {     $before = Invoke-GhApi -Method Get -Uri $runsUrl     if ($before -and $before.workflow_runs -and $before.workflow_runs.Count -gt 0) { $beforeId = $before.workflow_runs[0].id }   } catch { }    $refBranch = "main"   try {     $refBranch = (& gh api "repos/$slug" --jq ".default_branch" 2>$null)     if (-not $refBranch) { $refBranch = "main" }   } catch { $refBranch = "main" }    $dispatchEndpoint = "repos/$slug/actions/workflows/ci_attest_build_provenance.yml/dispatches"   $capDisp = Invoke-ProcCapture -FilePath "gh" -ArgumentList @("api","-X","POST",$dispatchEndpoint,"-f",("ref="+$refBranch))   if ($capDisp.ExitCode -ne 0) {     throw ("G20_WORKFLOW_DISPATCH_FAILED:" + $capDisp.Stderr + $capDisp.Stdout)   }    $runId = $null   for ($i=0; $i -lt 180 -and -not $runId; $i++) {     $resp = Invoke-GhApi -Method Get -Uri $runsUrl     $latest = $null     if ($resp -and $resp.workflow_runs -and $resp.workflow_runs.Count -gt 0) { $latest = $resp.workflow_runs[0] }     if ($latest -and ($beforeId -eq $null -or $latest.id -ne $beforeId)) { $runId = $latest.id; break }     Start-Sleep -Seconds 2   }   if (-not $runId) { throw "CI_RUN_NOT_FOUND_AFTER_TRIGGER" }    $run = $null   for ($i=0; $i -lt 240; $i++) {     $runUrl = "https://api.github.com/repos/$slug/actions/runs/$runId"     $run = Invoke-GhApi -Method Get -Uri $runUrl     if ($run.status -eq "completed") { break }     Start-Sleep -Seconds 5   }   $wf = 'ci_attest_build_provenance.yml'   $head = (git rev-parse HEAD).Trim()   $ciOk = $false   for($t=0; $t -lt 180; $t++){     $runs = gh run list --workflow $wf --limit 25 --json databaseId,status,conclusion,headSha,createdAt,event | ConvertFrom-Json     $pick = $runs | Where-Object { $_.headSha -eq $head } | Select-Object -First 1     if($pick -and $pick.status -eq 'completed'){       if($pick.conclusion -eq 'success'){ $ciOk = $true; break }       $ciOk = $false; break     }     Start-Sleep -Seconds 10   }   if(-not $ciOk){     $wf = 'ci_attest_build_provenance.yml'     $head = (git rev-parse HEAD).Trim()     if(-not (Wait-ForCiHeadSuccess -Workflow $wf -HeadSha $head -TimeoutSec 2400)){       $wf = 'ci_attest_build_provenance.yml'       $head = (git rev-parse HEAD).Trim()       if(-not (Wait-ForCiHeadSuccess -Workflow $wf -HeadSha $head -TimeoutSec 2400)){         if (-not $run -or $run.status -ne "completed" -or $run.conclusion -ne "success") { throw "CI_RUN_FAILED_OR_NOT_FINISHED" }       }     }   }    $ciDir = "artifacts\ci"   New-Item -ItemType Directory -Force $ciDir | Out-Null   $ciStage = Join-Path $ciDir ("${tsId}_ci")   if (Test-Path $ciStage) { Remove-Item -Recurse -Force $ciStage }   New-Item -ItemType Directory -Force $ciStage | Out-Null    $artsUrl = "https://api.github.com/repos/$slug/actions/runs/$runId/artifacts"   $arts = Invoke-GhApi -Method Get -Uri $artsUrl   $a = $arts.artifacts | Where-Object { $_.name -eq "Dental-Mina_repo" } | Select-Object -First 1   if (-not $a) { throw "CI_ARTIFACT_NOT_FOUND" }    $zipPath = Join-Path $ciStage "artifact.zip"   Invoke-WebRequest -UseBasicParsing -Uri $a.archive_download_url -Headers $headers -OutFile $zipPath -TimeoutSec 600   Expand-Archive -Path $zipPath -DestinationPath $ciStage -Force   Remove-Item $zipPath -Force -ErrorAction SilentlyContinue   $artifact = Get-ChildItem -Path $ciStage -Recurse -File | Where-Object { $_.Name -like "*.zip" } | Select-Object -First 1   if (-not $artifact) { throw "CI_ARTIFACT_ZIP_NOT_FOUND" }    $signer = "github.com/$slug/.github/workflows/ci_attest_build_provenance.yml" # Preflight: gh must support custom trusted root (offline/robust verifier init) $h = (& gh attestation verify --custom-trusted-root dist/sigstore_trusted_root.jsonl -h 2>&1) -join "`n" if ($h -notmatch "--custom-trusted-root") {   throw "G20_REQUIRES_NEWER_GH_CLI: Update GitHub CLI (gh) so attestation verify supports --custom-trusted-root." }  # Sigstore trusted root (fixes: public good verifier is not available) $tr = Invoke-ProcCapture -FilePath "gh" -ArgumentList @("attestation","trusted-root") -WorkingDirectory $RepoRoot if ($tr.ExitCode -ne 0 -or -not $tr.Stdout) {   throw ("G20_TRUSTED_ROOT_FAILED:" + ($tr.Stderr + $tr.Stdout)) } $trustedRoot = Join-Path $ciStage "sigstore_trusted_root.jsonl" Write-TextNoBom $trustedRoot $tr.Stdout  $av = Invoke-ProcCapture -FilePath "gh" -ArgumentList @(   "attestation","verify",$artifact.FullName,"--repo",$slug,"--signer-workflow",$signer,"--format","json",   "--custom-trusted-root",$trustedRoot ) -WorkingDirectory $RepoRoot if ($av.ExitCode -ne 0) { throw ("ATTESTATION_VERIFY_FAILED:" + ($av.Stderr + $av.Stdout)) } $verJson = $av.Stdout   $verPath = Join-Path $ciStage "attestation_verify.json"   Write-TextNoBom $verPath $verJson    $passSet = Get-PassedGateSet $state   $passSet[$Gate] = $true   Sync-DocsChecklist $passSet   Sync-AppChecklist $passSet   Sync-AppChecklistJs    $evidenceDir = "artifacts\evidence"   $resumeDir   = "artifacts\resume"   New-Item -ItemType Directory -Force $evidenceDir | Out-Null   New-Item -ItemType Directory -Force $resumeDir | Out-Null    $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")   $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")   if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }   if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }   New-Item -ItemType Directory -Force $evidenceStage | Out-Null   New-Item -ItemType Directory -Force $resumeStage   | Out-Null    $eState = Join-Path $evidenceStage "state"   $eTools = Join-Path $evidenceStage "tools"   $eDocs  = Join-Path $evidenceStage "docs"   $eHandoff = Join-Path $evidenceStage "handoff"   $eGithub = Join-Path $evidenceStage ".github"   $eCi = Join-Path $evidenceStage "ci"   New-Item -ItemType Directory -Force $eState | Out-Null   New-Item -ItemType Directory -Force $eTools | Out-Null   New-Item -ItemType Directory -Force $eDocs | Out-Null   New-Item -ItemType Directory -Force $eHandoff | Out-Null   New-Item -ItemType Directory -Force $eCi | Out-Null   New-Item -ItemType Directory -Force (Join-Path $eGithub "workflows") | Out-Null    Copy-Item -Force "state\STATE.json"      (Join-Path $eState "STATE.json")   Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")   Copy-Item -Force $ledgerV2              (Join-Path $eState "LEDGER_v2.ndjson")   Copy-Item -Force $issuesV2              (Join-Path $eState "ISSUES_v2.ndjson")   Copy-Item -Force "state\HASHLOCK.json"  (Join-Path $eState "HASHLOCK.json")   Copy-Item -Force "tools\run.ps1"        (Join-Path $eTools "run.ps1")   Copy-Item -Force "docs\CHECKLIST_0_100.md" (Join-Path $eDocs "CHECKLIST_0_100.md")   Copy-Item -Force "docs\RESUME.md"       (Join-Path $eDocs "RESUME.md")   Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $eDocs "LOCKPACK_RULES.md")   Copy-Item -Force "handoff\HANDOFF_PACK.txt" (Join-Path $eHandoff "HANDOFF_PACK.txt")   Copy-Item -Force ".github\CODEOWNERS"   (Join-Path $eGithub "CODEOWNERS")   Copy-Item -Force ".github\workflows\lockpack_required.yml" (Join-Path (Join-Path $eGithub "workflows") "lockpack_required.yml")   Copy-Item -Force ".github\workflows\ci_attest_build_provenance.yml" (Join-Path (Join-Path $eGithub "workflows") "ci_attest_build_provenance.yml")   Copy-Item -Force $artifact.FullName     (Join-Path $eCi $artifact.Name)   Copy-Item -Force $verPath               (Join-Path $eCi "attestation_verify.json")    $tc = Get-Toolchain   $toolchainTxt = "artifacts\evidence_toolchain.txt"   Write-TextNoBom $toolchainTxt (($tc | ConvertTo-Json -Depth 5))    $qg = [ordered]@{     gate = $Gate     ts_utc = $utc     project = "Dental-Mina"     signature = "PYM JBZ"     checks = [ordered]@{       toolchain = $tc       js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }       pending = 0       abort_safe = $true       ci_signed_artifact = "OK"       provenance = "OK"       operator_docs_utf8_bom = $true       hashlock = "OK"       protected_prod = "CI_WORKFLOW_PRESENT"       ci = [ordered]@{         repo = $slug         run_id = $runId         artifact_zip = ("ci/" + $artifact.Name)         attestation_verify_json = "ci/attestation_verify.json"       }       packs = [ordered]@{         evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")         resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")       }     }   }    $qgPath = Join-Path $evidenceStage "QG.json"   Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))    $manifestPath = Join-Path $evidenceStage "manifest.sha256"   $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName   $mlines = @()   foreach ($f in $files) {     $h = Get-Sha256Lower $f.FullName     $rp = Get-RelPathForward $evidenceStage $f.FullName     $mlines += "$h  $rp"   }   Write-LinesNoBom $manifestPath $mlines    $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")   if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }   Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force    $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")   if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }   Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force    $entry = [ordered]@{     ts_utc = $utc     project = "Dental-Mina"     gate = $Gate     event = "G20_RUN"     qg_sha256 = (Get-Sha256Lower $qgPath)     manifest_sha256 = (Get-Sha256Lower $manifestPath)     evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)     resume_zip_sha256 = (Get-Sha256Lower $resumeZip)   }   Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))    $state.gate.current = $Gate   $state.last_pass = $Gate   $state.updated_utc = $utc   $state.next_action_hash = (Get-Sha256Lower "state\NEXT_ACTION.md")   if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }   $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)   if ($lp -notcontains $Gate) { $lp += $Gate }   $state.gate.locked_pass = $lp    $hold = New-NextActionHoldText $Gate   Write-TextNoBom "state\NEXT_ACTION.md" $hold   $state.next_action_hash = (Get-Sha256Lower "state\NEXT_ACTION.md")   Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))    Write-Host "G20_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)" }    # HashLock verify (if present)   Assert-HashLockIfPresent $Gate if($PSBoundParameters.ContainsKey("Gate") -and $PSBoundParameters["Gate"]){ $Gate = $PSBoundParameters["Gate"] }   function Do-G10_DESIGN_REVIEW_PACK {   $gate = "G10_DESIGN_REVIEW_PACK"   $utc  = (Get-Date).ToUniversalTime().ToString("o")   $root = (Resolve-Path ".").Path    $statePath  = Join-Path $root "state\STATE.json"   $ledgerPath = Join-Path $root "state\LEDGER_v2.ndjson"   $hlPath     = Join-Path $root "state\HASHLOCK.json"    $stamp = (Get-Date).ToUniversalTime().ToString("yyyyMMddTHHmmssZ")   $evDir = Join-Path $root ("artifacts\evidence\" + $stamp + "_evidence")   $rsDir = Join-Path $root "artifacts\resume"    New-Item -ItemType Directory -Force -Path $evDir | Out-Null   New-Item -ItemType Directory -Force -Path $rsDir | Out-Null    $qgPath = Join-Path $evDir "QG.json"   $mfPath = Join-Path $evDir "manifest.json"    $qg = [ordered]@{     ts_utc = $utc     project = "Dental-Mina"     gate = $gate     status = "PASS"     ai_signature = "PYM JBZ"     checks = [ordered]@{       abort_safe = "YES"       evidence_pack = "YES"     }   }    $utf8 = New-Object System.Text.UTF8Encoding($false)   [IO.File]::WriteAllText($qgPath, ($qg | ConvertTo-Json -Depth 20), $utf8)    function ShaLocal([string]$p){ (Get-FileHash -Algorithm SHA256 -Path $p).Hash.ToLower() }   $qgSha = ShaLocal $qgPath    $mf = [ordered]@{     ts_utc = $utc     gate = $gate     files = @([ordered]@{ path="QG.json"; sha256=$qgSha })   }   [IO.File]::WriteAllText($mfPath, ($mf | ConvertTo-Json -Depth 20), $utf8)   $mfSha = ShaLocal $mfPath    $evZip = Join-Path $root ("artifacts\evidence\" + $stamp + "_evidence.zip")   if(Test-Path $evZip){ Remove-Item $evZip -Force }   Compress-Archive -Path (Join-Path $evDir "*") -DestinationPath $evZip -Force   $evSha = ShaLocal $evZip    $rsZip = Join-Path $rsDir ($stamp + "_resume_pack.zip")   if(Test-Path $rsZip){ Remove-Item $rsZip -Force }   Compress-Archive -Path (Join-Path $root "state\*") -DestinationPath $rsZip -Force   $rsSha = ShaLocal $rsZip    $st = Get-Content $statePath -Raw | ConvertFrom-Json   $st.gate.current = $gate   $st.gate.last_pass = $gate   $st.last_pass = $gate   $st.updated_utc = $utc   if(-not $st.locked_pass){ $st | Add-Member -NotePropertyName locked_pass -NotePropertyValue @() -Force }   if(-not ($st.locked_pass -contains $gate)){ $st.locked_pass += $gate }   [IO.File]::WriteAllText($statePath, ($st | ConvertTo-Json -Depth 60), $utf8)    $evt = [ordered]@{     ts_utc = $utc     project = "Dental-Mina"     gate = $gate     event = "G10_RUN"     qg_sha256 = $qgSha     manifest_sha256 = $mfSha     evidence_zip_sha256 = $evSha     resume_zip_sha256 = $rsSha   }   [IO.File]::AppendAllText($ledgerPath, (($evt | ConvertTo-Json -Compress -Depth 20) + "`r`n"), $utf8)    $hl = Get-Content $hlPath -Raw | ConvertFrom-Json   if($hl.protected){     $targets = @{       "state/STATE.json"       = $statePath       "state/NEXT_ACTION.md"   = (Join-Path $root "state\NEXT_ACTION.md")       "state/LEDGER_v2.ndjson" = $ledgerPath       "state/HASHLOCK.json"    = $hlPath       "tools/run.ps1"          = (Join-Path $root "tools\run.ps1")     }     foreach($ent in $hl.protected){       if(-not $ent.path){ continue }       $rel = [string]$ent.path       if($targets.ContainsKey($rel) -and (Test-Path $targets[$rel])){ $ent.sha256 = (ShaLocal $targets[$rel]) }     }     $hl.ts_utc = $utc     [IO.File]::WriteAllText($hlPath, ($hl | ConvertTo-Json -Depth 80), $utf8)   }    Write-Output ("G10_DONE qg=" + $qgSha + " manifest=" + $mfSha + " evidence_zip=" + $evSha + " resume_zip=" + $rsSha) }  switch($Gate){   "G11_RUN" { ; break }   "G10_DESIGN_REVIEW_PACK" { Do-G10_DESIGN_REVIEW_PACK; break }     "G4_EVIDENCE_PACK_OK"     { Do-G4; break }     "G5_REPLAY_RESTORE_OK"   { Do-G5; break }     "G6_PWA_INSTALL_OK"      { Do-G6; break }     "G7_SCALE_100K_OK"       { Do-G7; break }     "G8_SECURITY_BASE_OK"    { Do-G8; break }     "G9_IRAN_CORE_OK"        { Do-G9; break }     "G11_DESIGN_V2_COLORFUL"  { Do-G11; break }     "G12_DESIGN_V5_ICON_POLISH" { Do-G12; break }     "G12_DESIGN_V6_ICON_SYSTEM" { Do-G12; break }     "G13_LOCKPACK_CANON_DOCS_FIX" { Do-G13; break }     "G14_LOCKPACK_PS51_UNICODE_SAFE" { Do-G14; break }     "G15_CHECKLIST_AUTO_SYNC" { Do-G15; break }     "G16_HANDOFF_AUTOGEN" { Do-G16; break }     "G17_PS51_UTF8_BOM_OPERATOR_DOCS" { Do-G17; break }     "G18_DESIGN_CONTINUATION" { Do-G18; break }     "G19_CODEOWNERS_HASHLOCK_PROTECTED_PROD" { Do-G19; break }     "G20_SIGNED_CI_ARTIFACT_PROVENANCE" { ; break } } catch {   $msg = $_.Exception.Message   Write-Host "ABORTED gate=$Gate reason=$msg"   exit 2 }       .headSha -eq $HeadSha } | Sort-Object createdAt -Descending | Select-Object -First 1     if(-not $pick){ Start-Sleep -Seconds 10; continue }      $runId = [string]$pick.databaseId     if($pick.status -ne 'completed'){       $w = Start-Process -FilePath 'gh' -ArgumentList @('run','watch',$runId,'--interval','10','--exit-status') -Wait -PassThru -NoNewWindow       if($w.ExitCode -eq 0){ return $true }       try { gh run view $runId --log-failed } catch {}       return $false     }      if($pick.conclusion -eq 'success'){ return $true }     try { gh run view $runId --log-failed } catch {}     return $false   }   return $false } # LOCKPACK_CI_WAIT_HELPER_END    try { [Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12 } catch {}    function Invoke-ProcCapture {   [CmdletBinding()]   param(     [Parameter(Mandatory=$true)][string]$FilePath,     [Parameter()][string[]]$ArgumentList = @(),     [Parameter()][string]$WorkingDirectory = $PWD.Path   )   $o = [System.IO.Path]::GetTempFileName()   $e = [System.IO.Path]::GetTempFileName()   try {     $pp = Start-Process -FilePath $FilePath -ArgumentList $ArgumentList -WorkingDirectory $WorkingDirectory -Wait -PassThru -NoNewWindow `       -RedirectStandardOutput $o -RedirectStandardError $e     $enc = New-Object System.Text.UTF8Encoding($false)     $stdout = ""     $stderr = ""     try { $stdout = [IO.File]::ReadAllText($o, $enc) } catch {}     try { $stderr = [IO.File]::ReadAllText($e, $enc) } catch {}     [pscustomobject]@{ ExitCode = $pp.ExitCode; Stdout = $stdout; Stderr = $stderr }   } finally {     Remove-Item $o, $e -Force -ErrorAction SilentlyContinue   } } # LAST_ERROR_TXT_BEGIN function Write-LastErrorTxt {   param([Parameter(Mandatory=$true)]$Err)   try { New-Item -ItemType Directory -Force -Path "artifacts" | Out-Null } catch {}   try {     $p = Join-Path (Get-Location).Path "artifacts\last_error.txt"     $e = New-Object System.Text.UTF8Encoding($false)     [IO.File]::WriteAllText($p, ($Err | Out-String), $e)   } catch {} } # LAST_ERROR_TXT_END  $ErrorActionPreference = "Stop"  function Get-UtcIso { (Get-Date).ToUniversalTime().ToString("o") } function Get-TsId  { (Get-Date).ToUniversalTime().ToString("yyyyMMdd'T'HHmmss'Z'") }  # UTF-8 without BOM (important for cross-tool JSON readers) $Utf8NoBom = New-Object System.Text.UTF8Encoding($false) $Utf8Bom   = New-Object System.Text.UTF8Encoding($true)  function Decode-B64Utf8([string]$b64) {   return $Utf8NoBom.GetString([System.Convert]::FromBase64String($b64)) }  function Assert-RunnerAsciiOnly {   $p = $PSCommandPath   if (-not $p) { $p = $MyInvocation.PSCommandPath }   if (-not $p) { throw "RUNNER_PATH_UNKNOWN" }   $bytes = [System.IO.File]::ReadAllBytes($p)   foreach ($b in $bytes) {     if ($b -gt 127) { throw "RUNNER_NOT_ASCII_ONLY" }   } }  Assert-RunnerAsciiOnly  function Read-TextNoBom([string]$Path) {   # Always read as UTF-8 (no BOM) to avoid mojibake on Windows PowerShell 5.1   $full = (Resolve-Path $Path).Path   $t = [System.IO.File]::ReadAllText($full, $Utf8NoBom)   if ($t.Length -gt 0 -and $t[0] -eq [char]0xFEFF) { return $t.Substring(1) }   return $t }    function Test-HasUtf8Bom([string]$Path) {   $bytes = [System.IO.File]::ReadAllBytes($Path)   return ($bytes.Length -ge 3 -and $bytes[0] -eq 0xEF -and $bytes[1] -eq 0xBB -and $bytes[2] -eq 0xBF) }  function Is-OperatorDoc([string]$Path) {   $p = ($Path -replace "/", "\").ToLowerInvariant()   return ($p -eq "handoff\handoff_pack.txt" -or           $p -eq "docs\resume.md" -or           $p -eq "docs\lockpack_rules.md" -or           $p -eq "state\next_action.md") }   function Write-TextNoBom([string]$Path, [string]$Text) {   $dir = Split-Path -Parent $Path   if ($dir -and -not (Test-Path $dir)) { New-Item -ItemType Directory -Force $dir | Out-Null }   if (Is-OperatorDoc $Path) {     [System.IO.File]::WriteAllText($Path, $Text, $Utf8Bom)   } else {     [System.IO.File]::WriteAllText($Path, $Text, $Utf8NoBom)   } }   function Write-LinesNoBom([string]$Path, [string[]]$Lines) {   Write-TextNoBom $Path ($Lines -join "`r`n") }  function Append-LineNoBom([string]$Path, [string]$Line) {   $dir = Split-Path -Parent $Path   if ($dir -and -not (Test-Path $dir)) { New-Item -ItemType Directory -Force $dir | Out-Null }   $sw = New-Object System.IO.StreamWriter($Path, $true, $Utf8NoBom)   try { $sw.WriteLine($Line) } finally { $sw.Dispose() } }  function Test-HasMojibakeMarkers([string]$Text) {   if ($null -eq $Text) { return $false }   $m1 = [char]0x00D9 # U+00D9 (often appears in mojibake for Persian)   $m2 = [char]0x00D8 # U+00D8 (often appears in mojibake for Persian)   $m3 = [char]0x00E2 # U+00E2 (often appears in mojibake for em-dash etc)   if ($Text.IndexOf($m1) -ge 0) { return $true }   if ($Text.IndexOf($m2) -ge 0) { return $true }   if ($Text.IndexOf($m3) -ge 0) { return $true }   return $false }  # Runner-managed outputs (chat-proof; only when NEXT_ACTION explicitly allows) $B64_RUNNER_HANDOFF_PACK = "IyBEZW50YWwtTWluYSAtIEhBTkRPRkYgUEFDSyAoUmVwby1GaXJzdCkKQUlfU0lHTkFUVVJFOiBQWU0gSkJaCgojIyAxKSBOZXcgQ2hhdCAoUGFzdGUgT05MWSB0aGlzIG9uZSBsaW5lKQrCq9in24zZhiBIYW5kb2ZmIFBhY2sg2b7YsdmI2pjZhyBEZW50YWwtTWluYSDYp9iz2KouINmB2YLYtyDYp9iyINix2YjbjCBSZXBvINin2K/Yp9mF2Ycg2KjYr9mHOiBzdGF0ZS9TVEFURS5qc29uINmIIHN0YXRlL05FWFRfQUNUSU9OLm1kINmIIHN0YXRlL0xFREdFUl92Mi5uZGpzb24uINmH24zahiDYs9ik2KfZhCDZhtm+2LHYsy4g2YTZiNmE2YfigIzYqtmB2Ybar9uMINin2LIg2YfZhdin2YYg2q/bjNiqINin2K/Yp9mF2Ycg2KjYr9mHLiBBSV9TSUdOQVRVUkU6IFBZTSBKQlouwrsKCiMjIDIpIERlc2t0b3AtZmlyc3QgKFplcm8gbWlzdGFrZXMpIC0gUG93ZXJTaGVsbCAoQ29weS9QYXN0ZSkKYGBgcG93ZXJzaGVsbAojIDApIEZpbmQgdGhlIG5ld2VzdCByZXBvIGZvbGRlciBvbiBEZXNrdG9wCiRyZXBvID0gR2V0LUNoaWxkSXRlbSAiJGVudjpVU0VSUFJPRklMRVxEZXNrdG9wIiAtRGlyZWN0b3J5IHwKICBXaGVyZS1PYmplY3QgeyBUZXN0LVBhdGggKEpvaW4tUGF0aCAkXy5GdWxsTmFtZSAnc3RhdGVcU1RBVEUuanNvbicpIC1hbmQgVGVzdC1QYXRoIChKb2luLVBhdGggJF8uRnVsbE5hbWUgJ3Rvb2xzXHJ1bi5wczEnKSB9IHwKICBTb3J0LU9iamVjdCBMYXN0V3JpdGVUaW1lIC1EZXNjZW5kaW5nIHwKICBTZWxlY3QtT2JqZWN0IC1GaXJzdCAxCmlmICgtbm90ICRyZXBvKSB7IHRocm93ICJSRVBPX05PVF9GT1VORF9PTl9ERVNLVE9QIiB9ClNldC1Mb2NhdGlvbiAkcmVwby5GdWxsTmFtZQoKIyAxKSBTaG93IE5FWFRfQUNUSU9OCnR5cGUgLlxzdGF0ZVxORVhUX0FDVElPTi5tZAoKIyAyKSBSdW4gU3RlcCAxIChPbmx5KSBhdXRvbWF0aWNhbGx5IChwYXJzZSBHYXRlIGZyb20gTkVYVF9BQ1RJT04gdGl0bGUpCiRuYSA9IEdldC1Db250ZW50IC5cc3RhdGVcTkVYVF9BQ1RJT04ubWQgLVJhdwppZiAoJG5hIC1tYXRjaCAnTkVYVF9BQ1RJT04gXCgoR1xkK19bQS1aMC05X10rKVwpJykgeyAkZ2F0ZSA9ICRNYXRjaGVzWzFdIH0gZWxzZSB7IHRocm93ICJDQU5OT1RfUEFSU0VfR0FURV9GUk9NX05FWFRfQUNUSU9OIiB9CnBvd2Vyc2hlbGwgLUV4ZWN1dGlvblBvbGljeSBCeXBhc3MgLUZpbGUgLlx0b29sc1xydW4ucHMxIC1HYXRlICRnYXRlCmBgYAoKIyMgMykgQmFja3VwIFpJUCAoT3B0aW9uYWwpCmBgYHBvd2Vyc2hlbGwKIyBCYWNrdXAgWklQIG9uIERlc2t0b3AgKHJlcG8gaXMgYXQgJHJlcG8uRnVsbE5hbWUpCiRyZXBvUGF0aCA9ICRyZXBvLkZ1bGxOYW1lClNldC1Mb2NhdGlvbiAiJGVudjpVU0VSUFJPRklMRVxEZXNrdG9wIgpSZW1vdmUtSXRlbSAuXERlbnRhbC1NaW5hX3JlcG9fQkFDS1VQLnppcCAtRm9yY2UgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUKQ29tcHJlc3MtQXJjaGl2ZSAtUGF0aCAiJHJlcG9QYXRoXCoiIC1EZXN0aW5hdGlvblBhdGggLlxEZW50YWwtTWluYV9yZXBvX0JBQ0tVUC56aXAgLUZvcmNlCkdldC1JdGVtIC5cRGVudGFsLU1pbmFfcmVwb19CQUNLVVAuemlwIHwgRm9ybWF0LUxpc3QgRnVsbE5hbWUsTGVuZ3RoLExhc3RXcml0ZVRpbWUKYGBgCg==" $B64_RUNNER_RESUME_DOC   = "IyBEZW50YWwtTWluYSDigJQgUmVzdW1lIChDaGF0LVByb29mICsgRGVza3RvcC1maXJzdCkKQUlfU0lHTkFUVVJFOiBQWU0gSkJaCgojIyBTb3VyY2Ugb2YgVHJ1dGggKFJlcG8tZmlyc3QpCk9ubHkgdGhlc2U6Ci0gc3RhdGUvU1RBVEUuanNvbgotIHN0YXRlL05FWFRfQUNUSU9OLm1kCi0gc3RhdGUvTEVER0VSX3YyLm5kanNvbgoKIyMgSGFuZG9mZiBQYWNrIChpbnNpZGUgcmVwbykKLSBoYW5kb2ZmL0hBTkRPRkZfUEFDSy50eHQKCiMjIE5ldyBDaGF0ClBhc3RlIE9OTFkgdGhpcyBsaW5lOgrCq9in24zZhiBIYW5kb2ZmIFBhY2sg2b7YsdmI2pjZhyBEZW50YWwtTWluYSDYp9iz2KouINmB2YLYtyDYp9iyINix2YjbjCBSZXBvINin2K/Yp9mF2Ycg2KjYr9mHOiBzdGF0ZS9TVEFURS5qc29uINmIIHN0YXRlL05FWFRfQUNUSU9OLm1kINmIIHN0YXRlL0xFREdFUl92Mi5uZGpzb24uINmH24zahiDYs9ik2KfZhCDZhtm+2LHYsy4g2YTZiNmE2YfigIzYqtmB2Ybar9uMINin2LIg2YfZhdin2YYg2q/bjNiqINin2K/Yp9mF2Ycg2KjYr9mHLiBBSV9TSUdOQVRVUkU6IFBZTSBKQlouwrsKCiMjIFJ1biAoWmVybyBtaXN0YWtlcykg4oCUIFBvd2VyU2hlbGwgb24gRGVza3RvcApDb3B5L1Bhc3RlOgpgYGBwb3dlcnNoZWxsCiMgMCkgRmluZCB0aGUgbmV3ZXN0IHJlcG8gZm9sZGVyIG9uIERlc2t0b3AKJHJlcG8gPSBHZXQtQ2hpbGRJdGVtICIkZW52OlVTRVJQUk9GSUxFXERlc2t0b3AiIC1EaXJlY3RvcnkgfAogIFdoZXJlLU9iamVjdCB7IFRlc3QtUGF0aCAoSm9pbi1QYXRoICRfLkZ1bGxOYW1lICdzdGF0ZVxTVEFURS5qc29uJykgLWFuZCBUZXN0LVBhdGggKEpvaW4tUGF0aCAkXy5GdWxsTmFtZSAndG9vbHNccnVuLnBzMScpIH0gfAogIFNvcnQtT2JqZWN0IExhc3RXcml0ZVRpbWUgLURlc2NlbmRpbmcgfAogIFNlbGVjdC1PYmplY3QgLUZpcnN0IDEKaWYgKC1ub3QgJHJlcG8pIHsgdGhyb3cgIlJFUE9fTk9UX0ZPVU5EX09OX0RFU0tUT1AiIH0KU2V0LUxvY2F0aW9uICRyZXBvLkZ1bGxOYW1lCgojIDEpIFNob3cgTkVYVF9BQ1RJT04KdHlwZSAuXHN0YXRlXE5FWFRfQUNUSU9OLm1kCgojIDIpIFJ1biBTdGVwIDEgKE9ubHkpIGF1dG9tYXRpY2FsbHkgKHBhcnNlIEdhdGUgZnJvbSBORVhUX0FDVElPTiB0aXRsZSkKJG5hID0gR2V0LUNvbnRlbnQgLlxzdGF0ZVxORVhUX0FDVElPTi5tZCAtUmF3CmlmICgkbmEgLW1hdGNoICdORVhUX0FDVElPTiBcKChHXGQrX1tBLVowLTlfXSspXCknKSB7ICRnYXRlID0gJE1hdGNoZXNbMV0gfSBlbHNlIHsgdGhyb3cgIkNBTk5PVF9QQVJTRV9HQVRFX0ZST01fTkVYVF9BQ1RJT04iIH0KcG93ZXJzaGVsbCAtRXhlY3V0aW9uUG9saWN5IEJ5cGFzcyAtRmlsZSAuXHRvb2xzXHJ1bi5wczEgLUdhdGUgJGdhdGUKYGBgCgojIyBCYWNrdXAgWklQIChyZWNvbW1lbmRlZCkKYGBgcG93ZXJzaGVsbAojIEJhY2t1cCBaSVAgb24gRGVza3RvcCAocmVwbyBpcyBhdCAkcmVwby5GdWxsTmFtZSkKJHJlcG9QYXRoID0gJHJlcG8uRnVsbE5hbWUKU2V0LUxvY2F0aW9uICIkZW52OlVTRVJQUk9GSUxFXERlc2t0b3AiClJlbW92ZS1JdGVtIC5cRGVudGFsLU1pbmFfcmVwb19CQUNLVVAuemlwIC1Gb3JjZSAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZQpDb21wcmVzcy1BcmNoaXZlIC1QYXRoICIkcmVwb1BhdGhcKiIgLURlc3RpbmF0aW9uUGF0aCAuXERlbnRhbC1NaW5hX3JlcG9fQkFDS1VQLnppcCAtRm9yY2UKR2V0LUl0ZW0gLlxEZW50YWwtTWluYV9yZXBvX0JBQ0tVUC56aXAgfCBGb3JtYXQtTGlzdCBGdWxsTmFtZSxMZW5ndGgsTGFzdFdyaXRlVGltZQpgYGAK"  function Sync-RunnerOutputs {   if (-not (Test-Path "handoff")) { New-Item -ItemType Directory -Force "handoff" | Out-Null }   $hTxt = Decode-B64Utf8 $B64_RUNNER_HANDOFF_PACK   $rTxt = Decode-B64Utf8 $B64_RUNNER_RESUME_DOC   Write-TextNoBom "handoff\HANDOFF_PACK.txt" $hTxt   Write-TextNoBom "docs\RESUME.md" $rTxt    $h2 = Read-TextNoBom "handoff\HANDOFF_PACK.txt"   if (Test-HasMojibakeMarkers $h2) { throw "HANDOFF_ENCODING_BROKEN" }   $r2 = Read-TextNoBom "docs\RESUME.md"   if (Test-HasMojibakeMarkers $r2) { throw "RESUME_DOC_ENCODING_BROKEN" } }  function Sync-RunnerOutputsIfAllowed {   $naPath = "state\NEXT_ACTION.md"   if (-not (Test-Path $naPath)) { return }   $na = Read-TextNoBom $naPath   if ($na -match "Runner Outputs Allowed") { Sync-RunnerOutputs } }   function Get-Sha256Lower([string]$Path) {   (Get-FileHash -Algorithm SHA256 $Path).Hash.ToLower() }  function Get-RelPathForward([string]$BaseDir, [string]$FullPath) {   $base = (Resolve-Path $BaseDir).Path   $full = (Resolve-Path $FullPath).Path   $rel = $full.Substring($base.Length).TrimStart('\','/')   return ($rel -replace "\\", "/") }   function Get-HashLockProtectedPaths {   return @(     "tools\run.ps1",     "docs\RESUME.md",     "docs\LOCKPACK_RULES.md",     "handoff\HANDOFF_PACK.txt",     ".github\CODEOWNERS",     ".github\workflows\lockpack_required.yml",     ".github\workflows\ci_attest_build_provenance.yml"   ) }  function Write-HashLock {   param([string[]]$Paths)   $items = @()   foreach ($p in $Paths) {     if (-not (Test-Path $p)) { throw ("HASHLOCK_MISSING_FILE:" + $p) }     $items += [ordered]@{       path = (($p -replace "\\", "/").ToLowerInvariant())       sha256 = (Get-Sha256Lower $p)     }   }   $obj = [ordered]@{     version = 1     ts_utc = (Get-UtcIso)     protected = $items   }   Write-TextNoBom "state\HASHLOCK.json" (($obj | ConvertTo-Json -Depth 10)) }  function Assert-HashLockIfPresent([string]$GateName) {   $hp = "state\HASHLOCK.json"   if (-not (Test-Path $hp)) { return }   if ($GateName -eq "G19_CODEOWNERS_HASHLOCK_PROTECTED_PROD") { return }   if ($GateName -eq "G20_SIGNED_CI_ARTIFACT_PROVENANCE") { return }    $raw = Read-TextNoBom $hp   $j = $raw | ConvertFrom-Json   if (-not $j.protected) { throw "HASHLOCK_INVALID" }    foreach ($it in $j.protected) {     $pp = ($it.path -replace "/", "\")     if (-not (Test-Path $pp)) { throw ("HASHLOCK_MISSING_FILE:" + $it.path) }     $h = Get-Sha256Lower $pp     $want = ($it.sha256.ToString()).ToLowerInvariant()     if ($h -ne $want) { throw ("HASHLOCK_MISMATCH:" + $it.path) }   } }  function Get-Toolchain {   $tc = [ordered]@{     node = (& node -v 2>$null)     npm  = (& npm -v 2>$null)     git  = (& git --version 2>$null)     ps   = $PSVersionTable.PSVersion.ToString()   }   $code = & code --version 2>$null   if ($code) {     $tc.code_ver = $code[0]     if ($code.Length -ge 2) { $tc.code_commit = $code[1] }     if ($code.Length -ge 3) { $tc.code_arch = $code[2] }   } else {     $tc.code_ver = "NOT_FOUND"   }   return $tc }  function New-NextActionG5Text {   return (Decode-B64Utf8 "IyBORVhUX0FDVElPTiAoRzVfUkVQTEFZX1JFU1RPUkVfT0spDQpTdGF0dXM6IFNUT1ANCkdvYWw6IERyaWxsIMKr2obYqi/Yr9iz2Krar9in2Ycg2KzYr9uM2K/CuyDZgdmC2Lcg2KjYpyByZXN1bWVfcGFjay56aXAgKNio2K/ZiNmGINmG24zYp9iyINio2Ycg2obYqikg2Ygg2KvYqNiqINmG2KrbjNis2Ycg2K/YsSBMZWRnZXINCkFsbG93ZWQgUGF0aDogRklYLXRvLVBBU1MNClNjb3BlOiBPbmUtY2hhbmdlICjZgdmC2Lcg2KfYrNix2KfbjCB0b29scy9ydW4ucHMxINio2KcgR2F0ZT1HNV9SRVBMQVlfUkVTVE9SRV9PSykNCg0KIyMgU3RlcCAxIChPbmx5KSDigJQgQ29weS9QYXN0ZSAo2KjYr9mI2YYgYGBgICkNCjEpINiv2KfYrtmEINm+2YjYtNmHINm+2LHZiNqY2Ycg2KjYp9i024zYrzogRGVza3RvcFxcRGVudGFsLU1pbmENCjIpINin24zZhiDYr9iz2KrZiNixINix2Kcg2KfYrNix2Kcg2qnZhtuM2K86DQoNCnBvd2Vyc2hlbGwgLUV4ZWN1dGlvblBvbGljeSBCeXBhc3MgLUZpbGUgLlxcdG9vbHNcXHJ1bi5wczEgLUdhdGUgIkc1X1JFUExBWV9SRVNUT1JFX09LIg0KDQpQQVNTIENyaXRlcmlhDQotINiu2LHZiNis24wgYEc1X0RPTkUgLi4uYCDYqNiv2YfYrw0KLSDYotiu2LHbjNmGIHJlc3VtZV9wYWNrLnppcCDZhdmI2KzZiNivINiv2LEgYXJ0aWZhY3RzL3Jlc3VtZSDYqNinINmF2YjZgdmC24zYqiBFeHRyYWN0INmIIFZhbGlkYXRlINi02YjYrw0KLSDbjNqpINix2qnZiNix2K8g2KzYr9uM2K8g2K/YsSBzdGF0ZS9MRURHRVJfdjIubmRqc29uINio2KcgZXZlbnQ6Ikc1X1JVTiIgYXBwZW5kINi02K/ZhyDYqNin2LTYrw0KLSBzdGF0ZS9TVEFURS5qc29uOiBnYXRlLmN1cnJlbnQ9RzVfUkVQTEFZX1JFU1RPUkVfT0sg2YggbGFzdF9wYXNzPUc1X1JFUExBWV9SRVNUT1JFX09LINmIIExPQ0tFRF9QQVNTINi02KfZhdmEIEc1INio2KfYtNivDQoNCkV2aWRlbmNlDQotIGFydGlmYWN0cy9ldmlkZW5jZS8qX2V2aWRlbmNlLnppcCAo2KLYrtix24zZhikNCi0gYXJ0aWZhY3RzL3Jlc3VtZS8qX3Jlc3VtZV9wYWNrLnppcCAo2KLYrtix24zZhikNCi0gc3RhdGUvTEVER0VSX3YyLm5kanNvbiAo2KLYrtix24zZhiDYrti3KQ0KLSBzdGF0ZS9TVEFURS5qc29u") }  function New-NextActionG7Text {   return (Decode-B64Utf8 "IyBORVhUX0FDVElPTiAoRzdfU0NBTEVfMTAwS19PSykNClN0YXR1czogU1RPUA0KR29hbDogc2VlZCAxMDBrICsgbGlzdCB2aXJ0dWFsaXphdGlvbiArIHNlYXJjaCBwZXJmIHNtb2tlIFBBU1MNCkFsbG93ZWQgUGF0aDogRklYLXRvLVBBU1MNClNjb3BlOiBPbmUtY2hhbmdlICjZgdmC2Lcg2KfYrNix2KfbjCB0b29scy9ydW4ucHMxINio2KcgR2F0ZT1HN19TQ0FMRV8xMDBLX09LKQ0KDQojIyBTdGVwIDEgKE9ubHkpIOKAlCBDb3B5L1Bhc3RlICjYqNiv2YjZhiBgYGAgKQ0KMSkg2K/Yp9iu2YQg2b7ZiNi02Ycg2b7YsdmI2pjZhyDYqNin2LTbjNivOiBEZXNrdG9wXFxEZW50YWwtTWluYQ0KMikg2KfbjNmGINiv2LPYqtmI2LEg2LHYpyDYp9is2LHYpyDaqdmG24zYrzoNCg0KcG93ZXJzaGVsbCAtRXhlY3V0aW9uUG9saWN5IEJ5cGFzcyAtRmlsZSAuXFx0b29sc1xccnVuLnBzMSAtR2F0ZSAiRzdfU0NBTEVfMTAwS19PSyINCg0KUEFTUyBDcml0ZXJpYQ0KLSDYrtix2YjYrNuMIGBHN19ET05FIC4uLmAg2KjYr9mH2K8NCi0gYXJ0aWZhY3RzL2V2aWRlbmNlLypfZXZpZGVuY2UuemlwICjYotiu2LHbjNmGKSDYs9in2K7YqtmHINi02YjYrw0KLSBhcnRpZmFjdHMvcmVzdW1lLypfcmVzdW1lX3BhY2suemlwICjYotiu2LHbjNmGKSDYs9in2K7YqtmHINi02YjYrw0KLSBzdGF0ZS9MRURHRVJfdjIubmRqc29uOiDYsdqp2YjYsdivIGV2ZW50OiJHN19SVU4iIGFwcGVuZCDYtNmI2K8NCi0gc3RhdGUvU1RBVEUuanNvbjogZ2F0ZS5jdXJyZW50PUc3X1NDQUxFXzEwMEtfT0sg2YggbGFzdF9wYXNzPUc3X1NDQUxFXzEwMEtfT0sg2YggTE9DS0VEX1BBU1Mg2LTYp9mF2YQgRzcg2KjYp9i02K8NCg0KRXZpZGVuY2UNCi0gYXJ0aWZhY3RzL2V2aWRlbmNlLypfZXZpZGVuY2UuemlwICjYotiu2LHbjNmGKQ0KLSBhcnRpZmFjdHMvcmVzdW1lLypfcmVzdW1lX3BhY2suemlwICjYotiu2LHbjNmGKQ0KLSBhcHAvc2NhbGUtaGFybmVzcy9pbmRleC5odG1sDQotIHN0YXRlL0xFREdFUl92Mi5uZGpzb24gKNii2K7YsduM2YYg2K7YtykNCi0gc3RhdGUvU1RBVEUuanNvbg==") }  function New-NextActionHoldText([string]$AfterGate) {   $goal = Decode-B64Utf8 "2YXZhtiq2LjYsSBORVhUX0FDVElPTiDYqNi52K/bjCAo2KjYr9mI2YYg2b7Ysdi0KQ==" @" # NEXT_ACTION (HOLD_AFTER_$AfterGate) Status: STOP Goal: $goal Allowed Path: PROCEED / FIX-to-PASS / ROLLBACK Scope: none Runner Outputs Allowed: docs/RESUME.md; handoff/HANDOFF_PACK.txt  No actions allowed until a new NEXT_ACTION is issued. "@ }  function Do-G4 {   $utc = Get-UtcIso   $tsId = Get-TsId    # repo root = parent of tools/   $RepoRoot = Split-Path -Parent $PSScriptRoot   Set-Location $RepoRoot    $statePath = "state\\STATE.json"   if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }   $state = (Read-TextNoBom $statePath) | ConvertFrom-Json    if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }   if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }    $ledgerV2 = "state\\LEDGER_v2.ndjson"   $issuesV2 = "state\\ISSUES_v2.ndjson"   if (-not (Test-Path $ledgerV2)) { throw "MISSING_LEDGER_V2" }   if (-not (Test-Path $issuesV2)) { throw "MISSING_ISSUES_V2" }    # Stage dirs   $evidenceDir = "artifacts\\evidence"   $resumeDir   = "artifacts\\resume"   New-Item -ItemType Directory -Force $evidenceDir | Out-Null   New-Item -ItemType Directory -Force $resumeDir | Out-Null    $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")   $resumeStage   = Join-Path $resumeDir ("${tsId}_resume_pack")   if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }   if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }   New-Item -ItemType Directory -Force $evidenceStage | Out-Null   New-Item -ItemType Directory -Force $resumeStage   | Out-Null    # Copy core files into stage (self-contained)   $eState = Join-Path $evidenceStage "state"   $eTools = Join-Path $evidenceStage "tools"   New-Item -ItemType Directory -Force $eState | Out-Null   New-Item -ItemType Directory -Force $eTools | Out-Null    Copy-Item -Force "state\\STATE.json"      (Join-Path $eState "STATE.json")   Copy-Item -Force "state\\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")   Copy-Item -Force $ledgerV2                 (Join-Path $eState "LEDGER_v2.ndjson")   Copy-Item -Force $issuesV2                 (Join-Path $eState "ISSUES_v2.ndjson")   Copy-Item -Force "tools\\run.ps1"         (Join-Path $eTools "run.ps1")    $toolchainTxt = "artifacts\\evidence_toolchain.txt"   if (Test-Path $toolchainTxt) {     Copy-Item -Force $toolchainTxt (Join-Path $evidenceStage "evidence_toolchain.txt")   }    # QG.json (no recursion: does not include zip hash)   $qg = [ordered]@{     gate = $Gate     ts_utc = $utc     project = "Dental-Mina"     signature = "PYM JBZ"     checks = [ordered]@{       toolchain = (Get-Toolchain)       js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }       pending = 0       abort_safe = $true       ci_signed_artifact = "NOT_YET"       provenance = "NOT_YET"       packs = [ordered]@{         evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")         resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")       }     }   }    $qgPath = Join-Path $evidenceStage "QG.json"   Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))    # Manifest over evidenceStage files   $manifestPath = Join-Path $evidenceStage "manifest.sha256"   $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName   $mlines = @()   foreach ($f in $files) {     $h = Get-Sha256Lower $f.FullName     $rp = Get-RelPathForward $evidenceStage $f.FullName     $mlines += "$h  $rp"   }   Write-LinesNoBom $manifestPath $mlines    # Evidence ZIP   $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")   if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }   Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force    # Resume stage (minimal chat-proof pack)   $rState = Join-Path $resumeStage "state"   $rTools = Join-Path $resumeStage "tools"   New-Item -ItemType Directory -Force $rState | Out-Null   New-Item -ItemType Directory -Force $rTools | Out-Null    Copy-Item -Force "state\\STATE.json"      (Join-Path $rState "STATE.json")   Copy-Item -Force "state\\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")   Copy-Item -Force $ledgerV2                 (Join-Path $rState "LEDGER_v2.ndjson")   Copy-Item -Force $issuesV2                 (Join-Path $rState "ISSUES_v2.ndjson")   Copy-Item -Force "tools\\run.ps1"         (Join-Path $rTools "run.ps1")    $resumeReadme = Join-Path $resumeStage "RESUME.md"   Write-TextNoBom $resumeReadme @" # Dental-Mina - Resume Pack 1) Extract the folder 2) Open state/NEXT_ACTION.md in a UTF-8 capable editor (e.g., VS Code) 3) Run Step 1 (Only) "@ $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")   if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }   Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force    # GAP_REPORT.json (minimal)   $gap = [ordered]@{     ts_utc = $utc     current_gate = $Gate     next_gate = "G5_REPLAY_RESTORE_OK"     missing = @("G5_NOT_YET_RUN")   }   Write-TextNoBom "state\\GAP_REPORT.json" (($gap | ConvertTo-Json -Depth 10))    # Produce NEXT_ACTION for G5 (chat-proof continuation)   $naG5 = New-NextActionG5Text   Write-TextNoBom "state\\NEXT_ACTION.md" $naG5    # Ledger append (v2)   $entry = [ordered]@{     ts_utc = $utc     project = "Dental-Mina"     gate = $Gate     event = "G4_RUN"     qg_sha256 = (Get-Sha256Lower $qgPath)     manifest_sha256 = (Get-Sha256Lower $manifestPath)     evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)     resume_zip_sha256 = (Get-Sha256Lower $resumeZip)   }   Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))    # Update STATE (and lock)   $state.gate.current = $Gate   $state.last_pass = $Gate   $state.updated_utc = $utc   $state.next_action_hash = (Get-Sha256Lower "state\\NEXT_ACTION.md")   if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }   $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)   if ($lp -notcontains $Gate) { $lp += $Gate }   $state.gate.locked_pass = $lp    Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))    Write-Host "G4_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)" }  function Do-G5 {   $utc = Get-UtcIso   $tsId = Get-TsId    $RepoRoot = Split-Path -Parent $PSScriptRoot   Set-Location $RepoRoot    $statePath = "state\\STATE.json"   $ledgerV2  = "state\\LEDGER_v2.ndjson"    if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }   if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }    $latest = Get-ChildItem "artifacts\\resume" -Filter "*_resume_pack.zip" -ErrorAction SilentlyContinue | Sort-Object LastWriteTime -Descending | Select-Object -First 1   if (-not $latest) { throw "NO_RESUME_PACK_FOUND" }    $tmp = Join-Path $env:TEMP ("Dental-Mina_Replay_${tsId}")   if (Test-Path $tmp) { Remove-Item -Recurse -Force $tmp }   New-Item -ItemType Directory -Force $tmp | Out-Null    Expand-Archive -Force -Path $latest.FullName -DestinationPath $tmp    $pState = Join-Path $tmp "state\\STATE.json"   $pNext  = Join-Path $tmp "state\\NEXT_ACTION.md"   $pRun   = Join-Path $tmp "tools\\run.ps1"    if (-not (Test-Path $pState)) { throw "RESUME_MISSING_STATE" }   if (-not (Test-Path $pNext))  { throw "RESUME_MISSING_NEXT_ACTION" }   if (-not (Test-Path $pRun))   { throw "RESUME_MISSING_RUNNER" }    $p = (Read-TextNoBom $pState) | ConvertFrom-Json   if ($p.project.signature -ne "PYM JBZ") { throw "RESUME_BAD_SIGNATURE" }    # If reached here: replay/restore basic ok   $entry = [ordered]@{     ts_utc = $utc     project = "Dental-Mina"     gate = $Gate     event = "G5_RUN"     resume_zip = $latest.Name     resume_zip_sha256 = (Get-Sha256Lower $latest.FullName)   }   Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))    $state = (Read-TextNoBom $statePath) | ConvertFrom-Json   $state.gate.current = $Gate   $state.last_pass = $Gate   $state.updated_utc = $utc    if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }   $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)   if ($lp -notcontains $Gate) { $lp += $Gate }   $state.gate.locked_pass = $lp    # STOP here (next gate will be issued as a dedicated NEXT_ACTION later)   $state.next_action_hash = (Get-Sha256Lower "state\\NEXT_ACTION.md")   Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))    Write-Host "G5_DONE resume_zip=$($entry.resume_zip) sha256=$($entry.resume_zip_sha256)" }  function Do-G6 {   $utc = Get-UtcIso   $tsId = Get-TsId    $RepoRoot = Split-Path -Parent $PSScriptRoot   Set-Location $RepoRoot    $statePath = "state\\STATE.json"   $ledgerV2  = "state\\LEDGER_v2.ndjson"   $issuesV2  = "state\\ISSUES_v2.ndjson"    if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }   if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }   if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }    $state = (Read-TextNoBom $statePath) | ConvertFrom-Json   if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }   if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }    # PWA scaffold (minimal)   $appRoot = "app\\pwa"   $iconsDir = Join-Path $appRoot "icons"   $docsDir = "docs"   New-Item -ItemType Directory -Force $appRoot | Out-Null   New-Item -ItemType Directory -Force $iconsDir | Out-Null   New-Item -ItemType Directory -Force $docsDir | Out-Null    # Docs (rules + resume + 0-100 checklist)   $rules = Decode-B64Utf8 "IyBEZW50YWwtTWluYSDigJQgTE9DS1BBQ0sgTUFTVEVSIChSZXBvLUZpcnN0KQ0KQUlfU0lHTkFUVVJFOiBQWU0gSkJaDQoNCiMjINmF2YbYqNi5INit2YLbjNmC2KogKFNvdXJjZSBvZiBUcnV0aCkNCtmB2YLYtyDYp9uM2YYg2YHYp9uM2YTigIzZh9inOg0KLSBgc3RhdGUvU1RBVEUuanNvbmANCi0gYHN0YXRlL05FWFRfQUNUSU9OLm1kYA0KLSBgc3RhdGUvTEVER0VSX3YyLm5kanNvbmAgKNmB2YLYtyBhcHBlbmQtb25seSkNCi0gYHN0YXRlL0lTU1VFU192Mi5uZGpzb25gDQotICjYr9ixINi12YjYsdiqINmI2KzZiNivKSBgZG9jcy9MT0NLUEFDS19BTExfSU5fT05FX0RlbnRhbC1NaW5hX0NBTk9OSUNBTF92My5tZGAg24zYpyDYotiu2LHbjNmGINmG2LPYrtmHDQoNCiMjIEhBUkQgU1RPUCAo2KjYr9mI2YYg2YfbjNqGIGJ5cGFzcyDYrdiq24wg2KjYsdin24wgYWRtaW4pDQrYp9qv2LEg24zaqduMINin2LIg2YXZiNin2LHYryDYstuM2LEg2KjYsdmC2LHYp9ixINio2KfYtNivOg0KLSBgc3RhdGUvTkVYVF9BQ1RJT04ubWRgINmI2KzZiNivINmG2K/Yp9ix2K8NCi0g24zYpyBgU3RhdHVzPVNUT1BgINmIIFN0ZXAvU2NvcGUg2YXYtNiu2LUg2YbYtNiv2YcNCuKHkiDZgdmC2Lcg2KfYrNin2LLZhyDYr9in2LHbjNivINi32KjZgiAqKtmH2YXYp9mGIE5FWFRfQUNUSU9OKiog2K3Ysdqp2Kog2qnZhtuM2K8uINmH24zahiDYqti624zbjNixINiv24zar9ix24wg2YXYrNin2LIg2YbbjNiz2KouDQoNCiMjINmB2YLYtyAzINmF2LPbjNixINmF2KzYp9iyDQotICoqUFJPQ0VFRCoqDQotICoqRklYLXRvLVBBU1MqKg0KLSAqKlJPTExCQUNLKioNCg0KIyMgU2NvcGUgRnJlZXplDQrZh9ixINmG2LPYrtmHL9qv24zYqiDZgdmC2LcgKirbjNqpINiq2LrbjNuM2LEqKi4g2K7Yp9ix2Kwg2KfYsiBTY29wZSDYqti52LHbjNmB4oCM2LTYr9mHINiv2LEgYHN0YXRlL05FWFRfQUNUSU9OLm1kYCDZh9uM2oYg2YHYp9uM2YQv2qnYr9uMINmG2KjYp9uM2K8g2KrYutuM24zYsSDaqdmG2K8uDQoNCiMjIENvbnRpbnVpdHkgKNi22K/Yqtqp2LHYp9ixIC8g2LbYr9iu2LHYp9io2qnYp9ix24wpDQotINmC2KjZhCDYp9iyINmH2LEg2qnYp9ixOiBgc3RhdGUvU1RBVEUuanNvbmAg2YggYHN0YXRlL05FWFRfQUNUSU9OLm1kYCDYsdinINio2K7ZiNin2YYuDQotIGBzdGF0ZS9MRURHRVJfdjIubmRqc29uYCDZgdmC2LcgYXBwZW5kLW9ubHkg2KfYs9iqLg0KLSDZh9uM2oYg2YHYp9uM2YQg2KzYr9uM2K8v2K3YsNmBL292ZXJ3cml0ZSDZhdmF2YbZiNi5INin2LPYqiDZhdqv2LEg2KfbjNmG2qnZhyBgc3RhdGUvTkVYVF9BQ1RJT04ubWRgINi12LHYp9it2KrYp9mLINin2KzYp9iy2Ycg2K/Yp9iv2Ycg2KjYp9i02K8uDQotIGBxdWFyYW50aW5lL2Ag2YHZgti3IE1PVkUtb25seSAo2Kfar9ixINmI2KzZiNivINiv2KfYtNiqKS4NCi0g2Kfar9ixIGBzdGF0ZS9ORVhUX0FDVElPTi5tZGAg2YbYqNmI2K8g4oeSICoqU1RPUCoqLg0KDQojIyBQQVNTIEdhdGUgKNi02LHYtyDZgtio2YjZhNuMKQ0KUEFTUyDZgdmC2Lcg2Kfar9ixINmH2YXYstmF2KfZhjoNCjEpICoqWmVybyBKUyBFcnJvcnMqKjogYG9uZXJyb3I9MGAg2IwgYHVuaGFuZGxlZHJlamVjdGlvbj0wYCDYjCBgY29uc29sZS5lcnJvcj0wYA0KMikgKipObyBQZW5kaW5nKio6IGBwZW5kaW5nPTBgICh0aW1lb3V0INmC2LfYuduMKQ0KMykgKipBYm9ydC1zYWZlKio6INiu2LHZiNisINin2LPYqtin2YbYr9in2LHYryBgQUJPUlRFRGANCjQpICoqU2lnbmVkIENJIEFydGlmYWN0ICsgcHJvdmVuYW5jZSoqDQo1KSAqKkV2aWRlbmNlINqp2KfZhdmEKio6IGBRRy5qc29uYCArIHNjcmVlbnNob3QvdmlkZW8gKyBgbWFuaWZlc3Quc2hhMjU2YCAoaGFzaGVzKQ0KDQrYqNiv2YjZhiBFdmlkZW5jZSDih5IgwqvYp9mG2KzYp9mFINmG2LTYr9mHwrsuDQoNCiMjINmC2KfZhNioINm+2KfYs9iuICjYqNix2KfbjCDZh9ixIEFJL9mH2YXaqdin2LEpDQoxKSBTdGF0dXMgIA0KMikgTWlzc2luZyBMb2NrcyAgDQozKSBBY3Rpb24gUGxhbiAgDQo0KSBQQVNTIEV2aWRlbmNlICANCg0KIyMgUmVzdW1lICjYqNix2KfbjCDahtiqL9iv2LPYqtqv2KfZhyDYrNiv24zYrykNCtiv2LEg2LTYsdmI2Lkg2YfYsSDahtiqINis2K/bjNivINiv2YLbjNmC2KfZiyDYp9uM2YYg2KzZhdmE2Ycg2LHYpyBwYXN0ZSDaqdmGOg0KwqvYp9uM2YYgSGFuZG9mZiBQYWNrINm+2LHZiNqY2YcgRGVudGFsLU1pbmEg2KfYs9iqLiDZgdmC2Lcg2KfYsiDYsdmI24wgUmVwbyDYp9iv2KfZhdmHINio2K/Zhzogc3RhdGUvU1RBVEUuanNvbiDZiCBzdGF0ZS9ORVhUX0FDVElPTi5tZCDZiCBzdGF0ZS9MRURHRVJfdjIubmRqc29uLiDZh9uM2oYg2LPYpNin2YQg2YbZvtix2LMuINmE2YjZhNmH4oCM2KrZgdmG2q/bjCDYp9iyINmH2YXYp9mGINqv24zYqiDYp9iv2KfZhdmHINio2K/Zhy4gQUlfU0lHTkFUVVJFOiBQWU0gSkJaLsK7"   Write-TextNoBom (Join-Path $docsDir "LOCKPACK_RULES.md") $rules  $resume = Decode-B64Utf8 "IyBEZW50YWwtTWluYSDigJQgUmVzdW1lIChDaGF0LVByb29mKQ0KQUlfU0lHTkFUVVJFOiBQWU0gSkJaDQoNCiMjIDEpINi02LHZiNi5INin2LIg2YfYsSDahtiqL9iv2LPYqtqv2KfZhyDYrNiv24zYrw0K2K/YsSDYp9io2KrYr9in24wg2obYqiDYrNiv24zYryDYr9mC24zZgtin2Ysg2KfbjNmGINis2YXZhNmHINix2KcgcGFzdGUg2qnZhjoNCsKr2KfbjNmGIEhhbmRvZmYgUGFjayDZvtix2YjamNmHIERlbnRhbC1NaW5hINin2LPYqi4g2YHZgti3INin2LIg2LHZiNuMIFJlcG8g2KfYr9in2YXZhyDYqNiv2Yc6IHN0YXRlL1NUQVRFLmpzb24g2Yggc3RhdGUvTkVYVF9BQ1RJT04ubWQg2Yggc3RhdGUvTEVER0VSX3YyLm5kanNvbi4g2YfbjNqGINiz2KTYp9mEINmG2b7YsdizLiDZhNmI2YTZh+KAjNiq2YHZhtqv24wg2KfYsiDZh9mF2KfZhiDar9uM2Kog2KfYr9in2YXZhyDYqNiv2YcuIEFJX1NJR05BVFVSRTogUFlNIEpCWi7Cuw0KDQojIyAyKSDYp9is2LHYp9uMINm+2LHZiNqY2YcgKNio2K/ZiNmGINiz2KTYp9mEINin2LbYp9mB2YcpDQoxKSDZgdmC2LcgYHN0YXRlL05FWFRfQUNUSU9OLm1kYCDYsdinINio2K7ZiNin2YYNCjIpINmB2YLYtyAqKlN0ZXAgMSAoT25seSkqKiDZh9mF2KfZhiDZgdin24zZhCDYsdinINin2KzYsdinINqp2YYNCjMpINiu2LHZiNis24wg2KjYp9uM2K8gRXZpZGVuY2UvUmVzdW1lIHBhY2tzINio2LPYp9iy2K8g2YggTGVkZ2VyL1N0YXRlINix2Kcg2KLZvtiv24zYqiDaqdmG2K8="   Write-TextNoBom (Join-Path $docsDir "RESUME.md") $resume  $check = @()   $check += "# Checklist 0-100 (Tickable)"   $check += ""   $check += "## Process/Control Layer"   $check += "- [ ] 001 G0_BOOTSTRAP"   $check += "- [ ] 002 G1_SINGLE_COMMAND"   $check += "- [ ] 003 G2_SANITY_HYGIENE"   $check += "- [ ] 004 G3_ENCODING_HYGIENE"   $check += "- [ ] 005 G4_EVIDENCE_PACK_OK"   $check += "- [ ] 006 G5_REPLAY_RESTORE_OK"   $check += "- [ ] 007 G6_PWA_INSTALL_OK"   $check += "- [ ] 008 G7_SCALE_100K_OK"   $check += "- [ ] 009 G8_SECURITY_BASE_OK"   $check += "- [ ] 010 G9_IRAN_CORE_OK"   $check += ""   $check += "## Product Modules (High-Level)"   for ($i=11; $i -le 60; $i++) {     $n = $i.ToString("000")     $check += "- [ ] $n Module TBD"   }   $check += ""   $check += "## Ops/Security/Quality"   for ($i=61; $i -le 100; $i++) {     $n = $i.ToString("000")     $check += "- [ ] $n Ops TBD"   }   Write-LinesNoBom (Join-Path $docsDir "CHECKLIST_0_100.md") $check    # PWA files   $manifest = [ordered]@{     name = "Dental-Mina"     short_name = "Dental-Mina"     start_url = "./index.html"     display = "standalone"     background_color = "#ffffff"     theme_color = "#ffffff"     icons = @(       @{ src = "./icons/icon-192.png"; sizes = "192x192"; type = "image/png" },       @{ src = "./icons/icon-512.png"; sizes = "512x512"; type = "image/png" }     )   }   Write-TextNoBom (Join-Path $appRoot "manifest.webmanifest") (($manifest | ConvertTo-Json -Depth 6))    Write-TextNoBom (Join-Path $appRoot "offline.html") @" <!doctype html> <meta charset="utf-8" /> <title>Offline</title> <h1>Offline</h1> <p>Dental-Mina PWA offline fallback.</p> "@    # NOTE: use a single-quoted here-string to avoid PowerShell expanding JS template literals like ${it.id}   Write-TextNoBom (Join-Path $appRoot "checklist.html") @' <!doctype html>   <meta charset="utf-8" />   <title>Checklist</title>   <h1>Checklist 0-100</h1>   <div id="root">Loading...</div>   <script>   (async () => {     const resp = await fetch('./checklist.json', { cache: 'no-store' });     const data = await resp.json();     const key = 'DM_CHECKLIST_V1';     const saved = JSON.parse(localStorage.getItem(key) || '{}');     const root = document.getElementById('root');     root.innerHTML = '';     data.items.forEach(it => {       const id = it.id;       const row = document.createElement('div');       const cb = document.createElement('input');       cb.type = 'checkbox';       cb.checked = !!saved[id];       cb.onchange = () => {         saved[id] = cb.checked;         localStorage.setItem(key, JSON.stringify(saved));       };       const label = document.createElement('span');       label.textContent = ` ${it.id} - ${it.title}`;       row.appendChild(cb);       row.appendChild(label);       root.appendChild(row);     });   })();   </script>   '@        $items = @()     $items += [ordered]@{ id="001"; title="G0_BOOTSTRAP"; }     $items += [ordered]@{ id="002"; title="G1_SINGLE_COMMAND"; }     $items += [ordered]@{ id="003"; title="G2_SANITY_HYGIENE"; }     $items += [ordered]@{ id="004"; title="G3_ENCODING_HYGIENE"; }     $items += [ordered]@{ id="005"; title="G4_EVIDENCE_PACK_OK"; }     $items += [ordered]@{ id="006"; title="G5_REPLAY_RESTORE_OK"; }     $items += [ordered]@{ id="007"; title="G6_PWA_INSTALL_OK"; }     $items += [ordered]@{ id="008"; title="G7_SCALE_100K_OK"; }     for ($i=9; $i -le 100; $i++) {       $items += [ordered]@{ id=($i.ToString("000")); title=("Item " + $i.ToString("000")); }     }     $cj = [ordered]@{ version="1.0"; items=$items }     Write-TextNoBom (Join-Path $appRoot "checklist.json") (($cj | ConvertTo-Json -Depth 6))        Write-TextNoBom (Join-Path $appRoot "sw.js") @"   const CACHE = 'dm-pwa-v1';   const ASSETS = [     './index.html',     './offline.html',     './checklist.html',     './checklist.json',     './manifest.webmanifest',     './icons/icon-192.png',     './icons/icon-512.png'   ];      self.addEventListener('install', (event) => {     event.waitUntil((async () => {       const c = await caches.open(CACHE);       await c.addAll(ASSETS);       self.skipWaiting();     })());   });      self.addEventListener('activate', (event) => {     event.waitUntil((async () => {       const keys = await caches.keys();       await Promise.all(keys.filter(k => k !== CACHE).map(k => caches.delete(k)));       self.clients.claim();     })());   });      self.addEventListener('fetch', (event) => {     event.respondWith((async () => {       try {         const cached = await caches.match(event.request);         if (cached) return cached;         const res = await fetch(event.request);         return res;       } catch (e) {         return caches.match('./offline.html');       }     })());   });   "@        Write-TextNoBom (Join-Path $appRoot "index.html") @"   <!doctype html>   <html lang="fa">   <head>     <meta charset="utf-8" />     <meta name="viewport" content="width=device-width,initial-scale=1" />     <link rel="manifest" href="./manifest.webmanifest" />     <title>Dental-Mina</title>   </head>   <body>     <h1>Dental-Mina</h1>     <p>PWA Smoke Page</p>     <p><a href="./checklist.html">Checklist 0-100</a></p>     <script>     if ('serviceWorker' in navigator) {       navigator.serviceWorker.register('./sw.js').catch(() => {});     }     </script>   </body>   </html>   "@        # Icons (generated)     try {       Add-Type -AssemblyName System.Drawing | Out-Null       function Write-PngIcon([int]$Size, [string]$Path) {         $bmp = New-Object System.Drawing.Bitmap($Size, $Size)         $g = [System.Drawing.Graphics]::FromImage($bmp)         try {           $g.Clear([System.Drawing.Color]::White)           $pen = New-Object System.Drawing.Pen([System.Drawing.Color]::Black, 4)           $g.DrawRectangle($pen, 2, 2, $Size-4, $Size-4)         } finally {           $g.Dispose()         }         $bmp.Save($Path, [System.Drawing.Imaging.ImageFormat]::Png)         $bmp.Dispose()       }       Write-PngIcon 192 (Join-Path $iconsDir "icon-192.png")       Write-PngIcon 512 (Join-Path $iconsDir "icon-512.png")     } catch {       throw "ICON_GEN_FAILED"     }        # Validate PWA scaffold (static)     $m = (Read-TextNoBom (Join-Path $appRoot "manifest.webmanifest")) | ConvertFrom-Json     if (-not $m.name) { throw "PWA_MANIFEST_INVALID" }     if (-not (Test-Path (Join-Path $iconsDir "icon-192.png"))) { throw "MISSING_ICON_192" }     if (-not (Test-Path (Join-Path $iconsDir "icon-512.png"))) { throw "MISSING_ICON_512" }     $idx = Read-TextNoBom (Join-Path $appRoot "index.html")     # regex expects literal dot; PowerShell strings do not treat backslash as an escape     if ($idx -notmatch "serviceWorker\.register") { throw "MISSING_SW_REGISTER" }     $sw = Read-TextNoBom (Join-Path $appRoot "sw.js")     if ($sw -notmatch "addEventListener\('fetch'") { throw "MISSING_SW_FETCH" }        # Evidence/Resume packs (same structure as G4)     $evidenceDir = "artifacts\\evidence"     $resumeDir   = "artifacts\\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $qg = [ordered]@{       ts_utc = $utc       gate = $Gate       checks = [ordered]@{         pwa = [ordered]@{ manifest_ok = $true; sw_ok = $true; icons_ok = $true; offline_fallback_ok = $true }         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         packs = [ordered]@{           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        # Include snapshots     $eState = Join-Path $evidenceStage "state"     New-Item -ItemType Directory -Force $eState | Out-Null     Copy-Item -Force "state\\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                (Join-Path $eState "ISSUES_v2.ndjson")        Copy-Item -Recurse -Force "app"  (Join-Path $evidenceStage "app")     Copy-Item -Recurse -Force "docs" (Join-Path $evidenceStage "docs")        # Manifest over evidenceStage files     $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        # Evidence ZIP     $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        # Resume pack (state + tools + app + docs)     $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null        Copy-Item -Force "state\\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\\run.ps1"         (Join-Path $rTools "run.ps1")     if (Test-Path "app")  { Copy-Item -Recurse -Force "app"  (Join-Path $resumeStage "app") }     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $resumeStage "docs") }        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract   2) Read state/NEXT_ACTION.md   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        # GAP_REPORT.json     $gap = [ordered]@{       ts_utc = $utc       current_gate = $Gate       next_gate = "G7_SCALE_100K_OK"       missing = @("G7_NOT_YET_RUN")     }     Write-TextNoBom "state\\GAP_REPORT.json" (($gap | ConvertTo-Json -Depth 10))        # Produce NEXT_ACTION for G7     $naG7 = New-NextActionG7Text     Write-TextNoBom "state\\NEXT_ACTION.md" $naG7        # Ledger append (v2)     $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G6_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        # Update STATE (and lock)     $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc        if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        $state.next_action_hash = (Get-Sha256Lower "state\\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G6_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }      function Do-G7 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\\STATE.json"     $ledgerV2  = "state\\LEDGER_v2.ndjson"     $issuesV2  = "state\\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        $hDir = "app\\scale-harness"     New-Item -ItemType Directory -Force $hDir | Out-Null        # Simple virtualization harness that prints JSON into <pre id=result>     Write-TextNoBom (Join-Path $hDir "index.html") @"   <!doctype html>   <meta charset="utf-8" />   <title>Scale Harness</title>   <style>   #box { height: 600px; overflow: auto; border: 1px solid #000; position: relative; }   .row { position: absolute; left: 0; right: 0; height: 24px; line-height: 24px; border-bottom: 1px solid #eee; padding: 0 8px; box-sizing: border-box; font-family: sans-serif; }   </style>   <h1>Scale 100k Harness</h1>   <div id="box"></div>   <pre id="result">PENDING</pre>   <script>   (() => {     const t0 = performance.now();     const N = 100000;     const ROW_H = 24;     const data = Array.from({length:N}, (_,i) => ({ id:i+1, name:'Patient ' + (i+1) }));     const box = document.getElementById('box');     const spacer = document.createElement('div');     spacer.style.height = (N * ROW_H) + 'px';     box.appendChild(spacer);        const viewport = document.createElement('div');     viewport.style.position = 'absolute';     viewport.style.left = '0';     viewport.style.right = '0';     viewport.style.top = '0';     viewport.style.height = spacer.style.height;     box.appendChild(viewport);        let rendered = new Map();     function render() {       const scrollTop = box.scrollTop;       const start = Math.floor(scrollTop / ROW_H);       const visible = Math.ceil(box.clientHeight / ROW_H) + 10;       const end = Math.min(N, start + visible);       for (const [k, el] of rendered.entries()) {         if (k < start || k >= end) { el.remove(); rendered.delete(k); }       }       for (let i=start; i<end; i++) {         if (rendered.has(i)) continue;         const el = document.createElement('div');         el.className = 'row';         el.style.top = (i * ROW_H) + 'px';         el.textContent = data[i].id + ' - ' + data[i].name;         viewport.appendChild(el);         rendered.set(i, el);       }     }     box.addEventListener('scroll', () => requestAnimationFrame(render));     render();        const t1 = performance.now();     const q0 = performance.now();     const q = '999';     const filtered = data.filter(x => x.name.includes(q));     const q1 = performance.now();        const res = {       init_ms: Math.round((t1 - t0) * 100) / 100,       search_ms: Math.round((q1 - q0) * 100) / 100,       rendered_rows: rendered.size,       filtered_count: filtered.length     };     document.getElementById('result').textContent = JSON.stringify(res);   })();   </script>   "@           function Get-FreeTcpPort {       $l = [System.Net.Sockets.TcpListener]::new([System.Net.IPAddress]::Loopback, 0)       $l.Start()       $p = ($l.LocalEndpoint).Port       $l.Stop()       return $p     }        function Find-ExeAppPaths([string]$exe) {       foreach ($hive in @("HKLM","HKCU")) {         $k = "${hive}:\SOFTWARE\Microsoft\Windows\CurrentVersion\App Paths\$exe"         if (Test-Path $k) {           $ip = Get-ItemProperty $k -ErrorAction SilentlyContinue           if ($ip) {             $d = $ip.'(default)'             if ($d -and (Test-Path $d)) { return $d }             $p = $ip.Path             if ($p) {               $cand = Join-Path $p $exe               if (Test-Path $cand) { return $cand }             }           }         }       }       return $null     }        function Find-EdgeExe {       $cmd = Get-Command "msedge.exe" -ErrorAction SilentlyContinue       if ($cmd -and $cmd.Source -and (Test-Path $cmd.Source)) { return $cmd.Source }       $ap = Find-ExeAppPaths "msedge.exe"       if ($ap) { return $ap }       $candidates = @(         "$env:ProgramFiles\Microsoft\Edge\Application\msedge.exe",         "$env:ProgramFiles(x86)\Microsoft\Edge\Application\msedge.exe",         "$env:LocalAppData\Microsoft\Edge\Application\msedge.exe",         "$env:ProgramFiles(x86)\Microsoft\Edge Beta\Application\msedge.exe",         "$env:ProgramFiles(x86)\Microsoft\Edge Dev\Application\msedge.exe",         "$env:ProgramFiles(x86)\Microsoft\Edge SxS\Application\msedge.exe"       )       foreach ($c in $candidates) { if ($c -and (Test-Path $c)) { return $c } }       return $null     }        function Find-ChromeExe {       $cmd = Get-Command "chrome.exe" -ErrorAction SilentlyContinue       if ($cmd -and $cmd.Source -and (Test-Path $cmd.Source)) { return $cmd.Source }       $ap = Find-ExeAppPaths "chrome.exe"       if ($ap) { return $ap }       $candidates = @(         "$env:ProgramFiles\Google\Chrome\Application\chrome.exe",         "$env:ProgramFiles(x86)\Google\Chrome\Application\chrome.exe",         "$env:LocalAppData\Google\Chrome\Application\chrome.exe"       )       foreach ($c in $candidates) { if ($c -and (Test-Path $c)) { return $c } }       return $null     }        $browser = Find-EdgeExe     if (-not $browser) { $browser = Find-ChromeExe }     if (-not $browser) { throw "BROWSER_NOT_FOUND" }        # Serve harness over localhost (more reliable than file:// in headless)     $root = (Resolve-Path $hDir).Path     $port = Get-FreeTcpPort     $url = "http://127.0.0.1:$port/index.html"        # Headless DOM capture: capture both streams.     $tmpProfile = Join-Path $env:TEMP ("DentalMina_browser_profile_" + $tsId)     if (Test-Path $tmpProfile) { Remove-Item -Recurse -Force $tmpProfile -ErrorAction SilentlyContinue }     New-Item -ItemType Directory -Force $tmpProfile | Out-Null        $srvJs = Join-Path $env:TEMP ("DentalMina_static_" + $tsId + ".js")     Write-TextNoBom $srvJs @"   const http = require('http');   const fs = require('fs');   const path = require('path');      const root = process.argv[2];   const port = parseInt(process.argv[3], 10);      const mime = {     '.html': 'text/html; charset=utf-8',     '.js':   'text/javascript; charset=utf-8',     '.css':  'text/css; charset=utf-8',     '.json': 'application/json; charset=utf-8'   };      const server = http.createServer((req, res) => {     let u = (req.url || '/').split('?')[0];     if (u === '/' || u === '') u = '/index.html';     try { u = decodeURIComponent(u); } catch(e) {}     const fp = path.join(root, u);     if (!fp.startsWith(root)) { res.statusCode = 403; return res.end('forbidden'); }     fs.readFile(fp, (err, data) => {       if (err) { res.statusCode = 404; return res.end('not found'); }       res.setHeader('Content-Type', mime[path.extname(fp)] || 'application/octet-stream');       res.end(data);     });   });      server.listen(port, '127.0.0.1');   "@        $srvProc = $null     $dom = $null     try {       $srvProc = Start-Process -FilePath "node" -ArgumentList @($srvJs, $root, $port) -PassThru -WindowStyle Hidden       Start-Sleep -Milliseconds 350          function Invoke-BrowserDumpDom([string[]]$a) {         (& $browser @a 2>&1 | Out-String)       }          $common = @(         "--disable-gpu",         "--dump-dom",         "--virtual-time-budget=20000",         "--user-data-dir=$tmpProfile",         "--no-first-run",         "--no-default-browser-check",         "--disable-extensions",         "--disable-background-networking",         "--disable-sync",         $url       )          $dom = Invoke-BrowserDumpDom (@("--headless") + $common)       if (-not $dom -or $dom.Trim().Length -lt 20) { $dom = Invoke-BrowserDumpDom (@("--headless=new") + $common) }       if (-not $dom -or $dom.Trim().Length -lt 20) { $dom = Invoke-BrowserDumpDom (@("--headless=old") + $common) }       if (-not $dom -or $dom.Trim().Length -lt 20) { $dom = Invoke-BrowserDumpDom (@("--headless=chrome") + $common) }          if (-not $dom -or $dom.Trim().Length -lt 20) { throw "BROWSER_HEADLESS_FAILED" }     } finally {       if ($srvProc -and -not $srvProc.HasExited) { Stop-Process -Id $srvProc.Id -Force -ErrorAction SilentlyContinue }       if (Test-Path $srvJs) { Remove-Item -Force $srvJs -ErrorAction SilentlyContinue }       if (Test-Path $tmpProfile) { Remove-Item -Recurse -Force $tmpProfile -ErrorAction SilentlyContinue }     }              $m = [regex]::Match($dom, '<pre id="result">(.*?)</pre>', [Text.RegularExpressions.RegexOptions]::Singleline)     if (-not $m.Success) { throw "HARNESS_RESULT_NOT_FOUND" }     $json = $m.Groups[1].Value.Trim()     if (-not $json -or $json -eq "PENDING") { throw "HARNESS_RESULT_PENDING" }        $r = $json | ConvertFrom-Json     $init = [double]$r.init_ms     $search = [double]$r.search_ms     $rows = [int]$r.rendered_rows        if ($rows -gt 800) { throw "VIRTUALIZATION_FAIL rows=$rows" }        $evidenceDir = "artifacts\\evidence"     $resumeDir   = "artifacts\\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $qg = [ordered]@{       ts_utc = $utc       gate = $Gate       checks = [ordered]@{         scale = [ordered]@{ init_ms = $init; search_ms = $search; rendered_rows = $rows; virtualization_ok = ($rows -le 800) }         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         packs = [ordered]@{           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        $eState = Join-Path $evidenceStage "state"     New-Item -ItemType Directory -Force $eState | Out-Null     Copy-Item -Force "state\\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                (Join-Path $eState "ISSUES_v2.ndjson")        Copy-Item -Recurse -Force "app"  (Join-Path $evidenceStage "app")     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $evidenceStage "docs") }        $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null     Copy-Item -Force "state\\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\\run.ps1"         (Join-Path $rTools "run.ps1")     if (Test-Path "app")  { Copy-Item -Recurse -Force "app"  (Join-Path $resumeStage "app") }     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $resumeStage "docs") }        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract   2) Read state/NEXT_ACTION.md   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        $gap = [ordered]@{       ts_utc = $utc       current_gate = $Gate       next_gate = "G8_SECURITY_BASE_OK"       missing = @("G8_NOT_YET_ISSUED")     }     Write-TextNoBom "state\\GAP_REPORT.json" (($gap | ConvertTo-Json -Depth 10))        $naHold = New-NextActionHoldText $Gate     Write-TextNoBom "state\\NEXT_ACTION.md" $naHold        $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G7_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc        if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        $state.next_action_hash = (Get-Sha256Lower "state\\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G7_DONE init_ms=$init search_ms=$search rendered_rows=$rows qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }      function Do-G8 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\\STATE.json"     $ledgerV2  = "state\\LEDGER_v2.ndjson"     $issuesV2  = "state\\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        $appRoot = "app\\pwa"     if (-not (Test-Path $appRoot)) { throw "MISSING_PWA_ROOT" }     $docsDir = "docs"     New-Item -ItemType Directory -Force $docsDir | Out-Null        # Security baseline docs (minimal, repo-first)     Write-TextNoBom (Join-Path $docsDir "SECURITY_BASELINE.md") @"   # Security Baseline - Dental-Mina (G8)   AI_SIGNATURE: PYM JBZ      ## Non-negotiables   - Least privilege (RBAC), audit trails (append-only), tamper-evidence   - Encryption at rest + in transit (when backend exists)   - No inline scripts in shipped pages (CSP-ready)   - No eval / Function constructors in JS   - Clear data boundaries for Iran (offline-first + sync)      ## This gate enforces   - CSP meta tags present   - Inline scripts removed (external JS files only)   - Simple static checks for eval/Function()   "@        # CSP: strict enough for local static PWA     $csp = "default-src 'self'; base-uri 'none'; object-src 'none'; frame-ancestors 'none'; script-src 'self'; connect-src 'self'; img-src 'self' data:; style-src 'self';"        # External JS (no inline)     Write-TextNoBom (Join-Path $appRoot "main.js") @"   (() => {     if (!('serviceWorker' in navigator)) return;     window.addEventListener('load', () => {       navigator.serviceWorker.register('./sw.js').catch(() => {});     });   })();   "@        Write-TextNoBom (Join-Path $appRoot "checklist.js") @"   (async () => {     const resp = await fetch('./checklist.json', { cache: 'no-store' });     const data = await resp.json();     const key = 'DM_CHECKLIST_V1';     const saved = JSON.parse(localStorage.getItem(key) || '{}');     const root = document.getElementById('root');     root.innerHTML = '';     for (const it of (data.items || [])) {       const id = it.id;       const row = document.createElement('div');       const cb = document.createElement('input');       cb.type = 'checkbox';       cb.checked = !!saved[id];       cb.addEventListener('change', () => {         saved[id] = cb.checked;         localStorage.setItem(key, JSON.stringify(saved));       });       const label = document.createElement('span');       label.textContent = ' ' + it.id + ' - ' + it.title;       row.appendChild(cb);       row.appendChild(label);       root.appendChild(row);     }   })();   "@        # Rewrite HTML pages with CSP + external scripts     $indexPath = Join-Path $appRoot "index.html"     $offlinePath = Join-Path $appRoot "offline.html"     $checkHtmlPath = Join-Path $appRoot "checklist.html"        if (-not (Test-Path $indexPath)) { throw "MISSING_INDEX_HTML" }     if (-not (Test-Path $offlinePath)) { throw "MISSING_OFFLINE_HTML" }     if (-not (Test-Path $checkHtmlPath)) { throw "MISSING_CHECKLIST_HTML" }        Write-TextNoBom $indexPath @"   <!doctype html>   <html lang="fa">   <head>     <meta charset="utf-8" />     <meta name="viewport" content="width=device-width,initial-scale=1" />     <meta http-equiv="Content-Security-Policy" content="$csp" />     <link rel="manifest" href="./manifest.webmanifest" />     <title>Dental-Mina</title>   </head>   <body>     <h1>Dental-Mina</h1>     <p>PWA Smoke Page</p>     <p><a href="./checklist.html">Checklist 0-100</a></p>     <script src="./main.js" defer></script>   </body>   </html>   "@        Write-TextNoBom $offlinePath @"   <!doctype html>   <html lang="fa">   <head>     <meta charset="utf-8" />     <meta http-equiv="Content-Security-Policy" content="$csp" />     <title>Offline</title>   </head>   <body>     <h1>Offline</h1>     <p>Dental-Mina PWA offline fallback.</p>   </body>   </html>   "@        Write-TextNoBom $checkHtmlPath @"   <!doctype html>   <html lang="fa">   <head>     <meta charset="utf-8" />     <meta http-equiv="Content-Security-Policy" content="$csp" />     <title>Checklist</title>   </head>   <body>     <h1>Checklist 0-100</h1>     <div id="root">Loading...</div>     <script src="./checklist.js" defer></script>   </body>   </html>   "@        # Update checklist titles (009/010)     $cjPath = Join-Path $appRoot "checklist.json"     if (Test-Path $cjPath) {       $cj = (Read-TextNoBom $cjPath) | ConvertFrom-Json       foreach ($it in $cj.items) {         if ($it.id -eq "009") { $it.title = "G8_SECURITY_BASE_OK" }         if ($it.id -eq "010") { $it.title = "G9_IRAN_CORE_OK" }       }       Write-TextNoBom $cjPath (($cj | ConvertTo-Json -Depth 10))     }        function Assert-Csp([string]$html) {       if ($html -notmatch 'Content-Security-Policy') { throw "MISSING_CSP" }     }     function Assert-NoInlineScript([string]$html) {       $ms = [regex]::Matches($html, '<script\b(?![^>]*\bsrc=)[^>]*>', [Text.RegularExpressions.RegexOptions]::IgnoreCase)       if ($ms.Count -gt 0) { throw "INLINE_SCRIPT_FOUND" }     }     function Assert-NoEval([string]$js) {       if ($js -match '\beval\s*\(') { throw "EVAL_FOUND" }       if ($js -match '\bFunction\s*\(') { throw "FUNCTION_CTOR_FOUND" }     }        $idx = Read-TextNoBom $indexPath     $off = Read-TextNoBom $offlinePath     $chk = Read-TextNoBom $checkHtmlPath     Assert-Csp $idx; Assert-Csp $off; Assert-Csp $chk     Assert-NoInlineScript $idx; Assert-NoInlineScript $chk     Assert-NoEval (Read-TextNoBom (Join-Path $appRoot "main.js"))     Assert-NoEval (Read-TextNoBom (Join-Path $appRoot "checklist.js"))        # Evidence/Resume packs     $evidenceDir = "artifacts\\evidence"     $resumeDir   = "artifacts\\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $qg = [ordered]@{       ts_utc = $utc       gate = $Gate       checks = [ordered]@{         security = [ordered]@{ csp_ok = $true; inline_script = 0; no_eval = $true }         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         packs = [ordered]@{           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        $eState = Join-Path $evidenceStage "state"     New-Item -ItemType Directory -Force $eState | Out-Null     Copy-Item -Force "state\\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                (Join-Path $eState "ISSUES_v2.ndjson")        Copy-Item -Recurse -Force "app"  (Join-Path $evidenceStage "app")     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $evidenceStage "docs") }        $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null     Copy-Item -Force "state\\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\\run.ps1"         (Join-Path $rTools "run.ps1")     if (Test-Path "app")  { Copy-Item -Recurse -Force "app"  (Join-Path $resumeStage "app") }     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $resumeStage "docs") }        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract   2) Read state/NEXT_ACTION.md   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        $gap = [ordered]@{       ts_utc = $utc       current_gate = $Gate       next_gate = "G9_IRAN_CORE_OK"       missing = @("G9_NOT_YET_ISSUED")     }     Write-TextNoBom "state\\GAP_REPORT.json" (($gap | ConvertTo-Json -Depth 10))        $naHold = New-NextActionHoldText $Gate     Write-TextNoBom "state\\NEXT_ACTION.md" $naHold        $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G8_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc        if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        $state.next_action_hash = (Get-Sha256Lower "state\\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G8_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }      function Do-G9 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\\STATE.json"     $ledgerV2  = "state\\LEDGER_v2.ndjson"     $issuesV2  = "state\\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        $docsDir = "docs"     New-Item -ItemType Directory -Force $docsDir | Out-Null        Write-TextNoBom (Join-Path $docsDir "IRAN_CORE_BASELINE.md") @"   # Iran Core Baseline - Dental-Mina (G9)   AI_SIGNATURE: PYM JBZ      This gate establishes repo-first requirements (no feature implementation yet):   - Patient record identifiers (parvandeh number) + audit trail   - Iran finance primitives: cash/POS/cheque/installments (rules documented)   - Offline-first sync baseline requirements (conflict rules documented)   - Messaging policies + templates baseline (documented)      Implementation starts only after Process/Control Layer completion.   "@        # Evidence/Resume packs (same shape)     $evidenceDir = "artifacts\\evidence"     $resumeDir   = "artifacts\\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $qg = [ordered]@{       ts_utc = $utc       gate = $Gate       checks = [ordered]@{         iran_core_docs_ok = $true         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         packs = [ordered]@{           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        $eState = Join-Path $evidenceStage "state"     New-Item -ItemType Directory -Force $eState | Out-Null     Copy-Item -Force "state\\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                (Join-Path $eState "ISSUES_v2.ndjson")     if (Test-Path "app")  { Copy-Item -Recurse -Force "app"  (Join-Path $evidenceStage "app") }     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $evidenceStage "docs") }        $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null     Copy-Item -Force "state\\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\\run.ps1"         (Join-Path $rTools "run.ps1")     if (Test-Path "app")  { Copy-Item -Recurse -Force "app"  (Join-Path $resumeStage "app") }     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $resumeStage "docs") }        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract   2) Read state/NEXT_ACTION.md   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        $gap = [ordered]@{       ts_utc = $utc       current_gate = $Gate       next_gate = "DESIGN_STAGE"       missing = @("DESIGN_REVIEW_PACK_NOT_YET")     }     Write-TextNoBom "state\\GAP_REPORT.json" (($gap | ConvertTo-Json -Depth 10))        $naHold = New-NextActionHoldText $Gate     Write-TextNoBom "state\\NEXT_ACTION.md" $naHold        $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G9_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc        if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        $state.next_action_hash = (Get-Sha256Lower "state\\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G9_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }      function Do-G11 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\STATE.json"     $ledgerV2  = "state\LEDGER_v2.ndjson"     $issuesV2  = "state\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        # Write design files (ASCII-safe: payload is base64)     $htmlB64  = 'PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImZhIiBkaXI9InJ0bCI+CjxoZWFkPgogIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsaW5pdGlhbC1zY2FsZT0xLHZpZXdwb3J0LWZpdD1jb3ZlciIgLz4KICA8bWV0YSBuYW1lPSJ0aGVtZS1jb2xvciIgY29udGVudD0iIzAwYzg1MyIgLz4KICA8dGl0bGU+RGVudGFs4oCRTWluYSDigJQgTGlxdWlkIEdsYXNzIERlc2lnbiBTeXN0ZW0gMjAyNiAoRzEyIHY2KTwvdGl0bGU+CiAgPHN0eWxlPgogICAgOnJvb3R7CiAgICAgIC8qIENvcmUgKi8KICAgICAgLS1ncmVlbjojMDBjODUzOwogICAgICAtLWJnOiMwNzBhMGY7CiAgICAgIC0tdGV4dDpyZ2JhKDI1NSwyNTUsMjU1LC45Mik7CiAgICAgIC0tbXV0ZWQ6cmdiYSgyNTUsMjU1LDI1NSwuNjYpOwoKICAgICAgLyogTGlxdWlkIGdsYXNzICovCiAgICAgIC0tZ2xhc3M6cmdiYSgyNTUsMjU1LDI1NSwuMDYpOwogICAgICAtLWdsYXNzMjpyZ2JhKDI1NSwyNTUsMjU1LC4xMCk7CiAgICAgIC0tc3Ryb2tlOnJnYmEoMjU1LDI1NSwyNTUsLjEyKTsKICAgICAgLS1zdHJva2UyOnJnYmEoMjU1LDI1NSwyNTUsLjE4KTsKICAgICAgLS1zaGFkb3c6MCAxOHB4IDcwcHggcmdiYSgwLDAsMCwuNTUpOwoKICAgICAgLyogUGVyc29uYWxpemF0aW9uICovCiAgICAgIC0tYWNjZW50OiMwMGM4NTM7IC8qIHVzZXIgdGludCAqLwogICAgICAtLWljb25TY2FsZToxLjA7ICAvKiB1c2VyIGljb24gc2NhbGUgKi8KICAgICAgLS1pY29uUGFjazowOyAgICAgLyogMCBzdGlja2VyLCAxIGdseXBoLCAyIGR1byAqLwoKICAgICAgLyogTW9kdWxlIGNvbG9ycyAodXNlciBlZGl0YWJsZSkgKi8KICAgICAgLS1jLWhvbWU6IzJkZmY4ZjsKICAgICAgLS1jLXNjaGVkOiMzNmQxZmY7CiAgICAgIC0tYy1maW46I2ZmZDE2NjsKICAgICAgLS1jLXBhdDojN2M0ZGZmOwogICAgICAtLWMtbGFiOiNmZjRkOGQ7CiAgICAgIC0tYy1tb3JlOiNiMGJlYzU7CiAgICAgIC0tYy1haTojMDBlNWZmOwogICAgICAtLWMtaW52OiMzNGM3NTk7CiAgICB9CgogICAgKntib3gtc2l6aW5nOmJvcmRlci1ib3h9CiAgICBodG1sLGJvZHl7aGVpZ2h0OjEwMCV9CiAgICBib2R5ewogICAgICBtYXJnaW46MDsKICAgICAgZm9udC1mYW1pbHk6IHVpLXJvdW5kZWQsIHN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgIlNlZ29lIFVJIiwgVGFob21hLCBzYW5zLXNlcmlmOwogICAgICBjb2xvcjp2YXIoLS10ZXh0KTsKICAgICAgYmFja2dyb3VuZDoKICAgICAgICByYWRpYWwtZ3JhZGllbnQoMTIwMHB4IDkwMHB4IGF0IDE1JSAwJSwgcmdiYSgwLDIwMCw4MywuMTgpLCB0cmFuc3BhcmVudCA1NSUpLAogICAgICAgIHJhZGlhbC1ncmFkaWVudCg5MDBweCA3MDBweCBhdCA4NSUgMTAlLCByZ2JhKDU0LDIwOSwyNTUsLjE0KSwgdHJhbnNwYXJlbnQgNTUlKSwKICAgICAgICByYWRpYWwtZ3JhZGllbnQoOTAwcHggODAwcHggYXQgNzAlIDkwJSwgcmdiYSgyNTUsNzcsMTQxLC4xMiksIHRyYW5zcGFyZW50IDU1JSksCiAgICAgICAgbGluZWFyLWdyYWRpZW50KDE4MGRlZywgIzA1MDcwYiAwJSwgIzA3MGEwZiA0MCUsICMwNjA4MGMgMTAwJSk7CiAgICAgIG92ZXJmbG93LXg6aGlkZGVuOwogICAgfQoKICAgIC8qIFBob25lIGZyYW1lIChkZXNrdG9wIHByZXZpZXcpICovCiAgICAuc2hlbGx7bWluLWhlaWdodDoxMDAlOyBkaXNwbGF5OmZsZXg7IGp1c3RpZnktY29udGVudDpjZW50ZXI7IHBhZGRpbmc6MTRweCAxMHB4IDk2cHg7fQogICAgLnBob25lewogICAgICB3aWR0aDptaW4oNDMwcHgsMTAwJSk7CiAgICAgIGJvcmRlci1yYWRpdXM6MzJweDsKICAgICAgYmFja2dyb3VuZDpyZ2JhKDAsMCwwLC4yMCk7CiAgICAgIGJveC1zaGFkb3c6MCAxMHB4IDI2cHggcmdiYSgwLDAsMCwuNDApLCAwIDAgMCAxcHggcmdiYSgyNTUsMjU1LDI1NSwuMDYpIGluc2V0OwogICAgICBvdmVyZmxvdzpoaWRkZW47CiAgICAgIHBvc2l0aW9uOnJlbGF0aXZlOwogICAgfQoKICAgIC8qIExpcXVpZCBnbGFzcyBzdXJmYWNlcyAqLwogICAgLmdsYXNzewogICAgICBiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxODBkZWcsIHJnYmEoMjU1LDI1NSwyNTUsLjA4KSwgcmdiYSgyNTUsMjU1LDI1NSwuMDQpKTsKICAgICAgYm9yZGVyOjFweCBzb2xpZCB2YXIoLS1zdHJva2UpOwogICAgICBib3JkZXItdG9wLWNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsLjE4KTsKICAgICAgYm9yZGVyLWJvdHRvbS1jb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LC4wOCk7CiAgICAgIGJveC1zaGFkb3c6dmFyKC0tc2hhZG93KTsKICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDE4cHgpIHNhdHVyYXRlKDE0MCUpOwogICAgICAtd2Via2l0LWJhY2tkcm9wLWZpbHRlcjogYmx1cigxOHB4KSBzYXR1cmF0ZSgxNDAlKTsKICAgIH0KCiAgICAvKiBUb3AgYmFyICovCiAgICAudG9wYmFyewogICAgICBwb3NpdGlvbjpzdGlja3k7IHRvcDowOyB6LWluZGV4OjMwOwogICAgICBwYWRkaW5nOjEycHggMTRweCAxMHB4OwogICAgICBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsgZ2FwOjEwcHg7IGp1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuOwogICAgfQogICAgLnRvcGJhci5nbGFzc3sgYm9yZGVyLWxlZnQ6bm9uZTsgYm9yZGVyLXJpZ2h0Om5vbmU7IGJvcmRlci10b3A6bm9uZTsgYm9yZGVyLXJhZGl1czowOyB9CiAgICAubGVmdEJ0bnN7ZGlzcGxheTpmbGV4OyBnYXA6MTBweDsgYWxpZ24taXRlbXM6Y2VudGVyfQogICAgLnBpbGxCdG57CiAgICAgIHdpZHRoOjQ0cHg7IGhlaWdodDo0NHB4OyBib3JkZXItcmFkaXVzOjE0cHg7CiAgICAgIGRpc3BsYXk6Z3JpZDsgcGxhY2UtaXRlbXM6Y2VudGVyOwogICAgICBib3JkZXI6MXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsLjEwKTsKICAgICAgYmFja2dyb3VuZDpyZ2JhKDAsMCwwLC4xOCk7CiAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KTsKICAgIH0KICAgIC5icmFuZHsKICAgICAgZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGdhcDoxMHB4OyB0ZXh0LWFsaWduOnJpZ2h0OwogICAgICBtaW4td2lkdGg6MDsKICAgIH0KICAgIC5icmFuZFRleHR7bWluLXdpZHRoOjB9CiAgICAuYnJhbmRUaXRsZXsKICAgICAgZm9udC13ZWlnaHQ6ODAwOyBsZXR0ZXItc3BhY2luZzouMnB4OwogICAgICB3aGl0ZS1zcGFjZTpub3dyYXA7IG92ZXJmbG93OmhpZGRlbjsgdGV4dC1vdmVyZmxvdzplbGxpcHNpczsKICAgIH0KICAgIC5icmFuZFN1YnsKICAgICAgZm9udC1zaXplOjEycHg7IGNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsLjYyKTsKICAgICAgd2hpdGUtc3BhY2U6bm93cmFwOyBvdmVyZmxvdzpoaWRkZW47IHRleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7CiAgICB9CiAgICAvKiBETSBsb2dvIOKAlCBOTyBCT1JERVIvRlJBTUUgKi8KICAgIC5kbUxvZ297CiAgICAgIHdpZHRoOjQycHg7IGhlaWdodDo0MnB4OyBib3JkZXItcmFkaXVzOjE0cHg7CiAgICAgIGRpc3BsYXk6Z3JpZDsgcGxhY2UtaXRlbXM6Y2VudGVyOwogICAgICBiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYmEoMCwyMDAsODMsLjk1KSwgcmdiYSg1NCwyMDksMjU1LC44NSksIHJnYmEoMTI0LDc3LDI1NSwuNzApKTsKICAgICAgYm94LXNoYWRvdzowIDEwcHggMjZweCByZ2JhKDAsMCwwLC40NSk7CiAgICAgIGZvbnQtd2VpZ2h0OjkwMDsKICAgIH0KCiAgICAvKiBQYWdlIGhlYWRlciAqLwogICAgLnBhZ2VIZWFkeyBwYWRkaW5nOjE0cHggMTZweCAxMHB4OyB9CiAgICAuaDF7IG1hcmdpbjowOyBmb250LXNpemU6MjhweDsgY29sb3I6dmFyKC0tZ3JlZW4pOyBmb250LXdlaWdodDo5MDA7IH0KICAgIC5zdWJ7IG1hcmdpbjo2cHggMCAwOyBjb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LC43MCk7IGZvbnQtc2l6ZToxNHB4OyB9CiAgICAuY29udHJvbHN7CiAgICAgIG1hcmdpbi10b3A6MTBweDsKICAgICAgZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGdhcDo4cHg7IGZsZXgtd3JhcDp3cmFwOwogICAgfQogICAgLnNlZ3sKICAgICAgZGlzcGxheTpmbGV4OyBnYXA6NnB4OwogICAgICBwYWRkaW5nOjZweDsgYm9yZGVyLXJhZGl1czoxNHB4OwogICAgICBib3JkZXI6MXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsLjEwKTsKICAgICAgYmFja2dyb3VuZDpyZ2JhKDAsMCwwLC4xOCk7CiAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KTsKICAgIH0KICAgIC5zZWcgYnV0dG9uewogICAgICBib3JkZXI6MDsgY29sb3I6cmdiYSgyNTUsMjU1LDI1NSwuODIpOyBiYWNrZ3JvdW5kOnRyYW5zcGFyZW50OwogICAgICBwYWRkaW5nOjEwcHggMTJweDsgYm9yZGVyLXJhZGl1czoxMnB4OwogICAgICBmb250LXdlaWdodDo3MDA7IGN1cnNvcjpwb2ludGVyOwogICAgfQogICAgLnNlZyBidXR0b24uYWN0aXZlewogICAgICBiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxODBkZWcsIHJnYmEoMjU1LDI1NSwyNTUsLjEyKSwgcmdiYSgyNTUsMjU1LDI1NSwuMDYpKTsKICAgICAgYm9yZGVyOjFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LC4xMik7CiAgICB9CiAgICAuY2hpcHsKICAgICAgcGFkZGluZzo5cHggMTJweDsgYm9yZGVyLXJhZGl1czo5OTlweDsgZm9udC13ZWlnaHQ6NzAwOwogICAgICBib3JkZXI6MXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsLjEwKTsKICAgICAgYmFja2dyb3VuZDpyZ2JhKDAsMCwwLC4xOCk7CiAgICAgIGNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsLjc4KTsKICAgIH0KCiAgICAvKiBQYWdlcyAqLwogICAgLnBhZ2V7IGRpc3BsYXk6bm9uZTsgcGFkZGluZzowIDE0cHggMjJweDsgfQogICAgLnBhZ2UuYWN0aXZleyBkaXNwbGF5OmJsb2NrOyB9CiAgICAucGFnZUlubmVyeyBwYWRkaW5nOjAgMnB4OyB9CgogICAgLyogRGFzaGJvYXJkIGJlbnRvIGdyaWQgKi8KICAgIC5ncmlkewogICAgICBkaXNwbGF5OmdyaWQ7CiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDIsIG1pbm1heCgwLDFmcikpOwogICAgICBnYXA6MTJweDsKICAgICAgbWFyZ2luLXRvcDoxMHB4OwogICAgfQogICAgLmdyaWQubGlzdHsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7IH0KICAgIC5jYXJkewogICAgICBwb3NpdGlvbjpyZWxhdGl2ZTsKICAgICAgYm9yZGVyLXJhZGl1czoyMnB4OwogICAgICBwYWRkaW5nOjE0cHggMTRweCAxMnB4OwogICAgICBvdmVyZmxvdzpoaWRkZW47CiAgICB9CiAgICAuY2FyZC5nbGFzc3sgYm94LXNoYWRvdzowIDE0cHggNTBweCByZ2JhKDAsMCwwLC40NSk7IH0KICAgIC5jYXJkOjpiZWZvcmV7CiAgICAgIGNvbnRlbnQ6IiI7CiAgICAgIHBvc2l0aW9uOmFic29sdXRlOyBpbnNldDotMnB4OwogICAgICBiYWNrZ3JvdW5kOgogICAgICAgIHJhZGlhbC1ncmFkaWVudCgzNTBweCAyMjBweCBhdCAyNSUgMCUsIHJnYmEoMjU1LDI1NSwyNTUsLjE2KSwgdHJhbnNwYXJlbnQgNTUlKSwKICAgICAgICByYWRpYWwtZ3JhZGllbnQoMjYwcHggMjIwcHggYXQgODUlIDI1JSwgcmdiYSgyNTUsMjU1LDI1NSwuMTApLCB0cmFuc3BhcmVudCA1NSUpOwogICAgICBvcGFjaXR5Oi42MDsKICAgICAgcG9pbnRlci1ldmVudHM6bm9uZTsKICAgIH0KICAgIC5jYXJkOjphZnRlcnsKICAgICAgY29udGVudDoiIjsKICAgICAgcG9zaXRpb246YWJzb2x1dGU7IGluc2V0OjA7CiAgICAgIGJhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDEzNWRlZywgdHJhbnNwYXJlbnQgMCUsIHJnYmEoMjU1LDI1NSwyNTUsLjA2KSA1NSUsIHRyYW5zcGFyZW50IDEwMCUpOwogICAgICBvcGFjaXR5Oi4zNTsKICAgICAgcG9pbnRlci1ldmVudHM6bm9uZTsKICAgICAgbWl4LWJsZW5kLW1vZGU6IHNjcmVlbjsKICAgICAgYW5pbWF0aW9uOiBzaGluZSA2LjVzIGVhc2UtaW4tb3V0IGluZmluaXRlOwogICAgfQogICAgQGtleWZyYW1lcyBzaGluZXsKICAgICAgMCUsMTAwJXsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xOCUpIH0KICAgICAgNTAleyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTglKSB9CiAgICB9CgogICAgLmNhcmRIZWFkewogICAgICBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsganVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47IGdhcDoxMnB4OwogICAgICBwb3NpdGlvbjpyZWxhdGl2ZTsgei1pbmRleDoyOwogICAgfQogICAgLnRpdGxlV3JhcHsgbWluLXdpZHRoOjA7IH0KICAgIC50aXRsZXsKICAgICAgbWFyZ2luOjA7CiAgICAgIGZvbnQtd2VpZ2h0OjkwMDsKICAgICAgZm9udC1zaXplOjE4cHg7CiAgICAgIGNvbG9yOnZhcigtLWdyZWVuKTsgLyogaGVhZGxpbmUgc3RheXMgZ3JlZW4gKi8KICAgICAgbGV0dGVyLXNwYWNpbmc6LjJweDsKICAgICAgd2hpdGUtc3BhY2U6bm93cmFwOyBvdmVyZmxvdzpoaWRkZW47IHRleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7CiAgICB9CiAgICAubWV0YXsKICAgICAgbWFyZ2luOjZweCAwIDA7CiAgICAgIGZvbnQtc2l6ZToxM3B4OwogICAgICBjb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LC43MCk7CiAgICAgIGxpbmUtaGVpZ2h0OjEuNTU7CiAgICB9CiAgICAubWV0YSBzcGFueyBkaXNwbGF5OmlubGluZS1ibG9jazsgbWFyZ2luLWxlZnQ6OHB4OyBwYWRkaW5nOjRweCA4cHg7IGJvcmRlci1yYWRpdXM6OTk5cHg7IGJhY2tncm91bmQ6cmdiYSgwLDAsMCwuMjIpOyBib3JkZXI6MXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsLjA4KSB9CgogICAgLyogSWNvbiBzeXN0ZW0g4oCUIE5PIE9WQUwgRlJBTUUgKi8KICAgIC5pY29uewogICAgICB3aWR0aDogY2FsYyg0OHB4ICogdmFyKC0taWNvblNjYWxlKSk7CiAgICAgIGhlaWdodDogY2FsYyg0OHB4ICogdmFyKC0taWNvblNjYWxlKSk7CiAgICAgIGZsZXg6MCAwIGF1dG87CiAgICAgIHBvc2l0aW9uOnJlbGF0aXZlOwogICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7CiAgICB9CiAgICAuaWNvbi5iaWd7CiAgICAgIHdpZHRoOiBjYWxjKDcycHggKiB2YXIoLS1pY29uU2NhbGUpKTsgLyogfjN4IHZzIG9sZCB0aW55IGdseXBocyAqLwogICAgICBoZWlnaHQ6IGNhbGMoNzJweCAqIHZhcigtLWljb25TY2FsZSkpOwogICAgfQogICAgLnN0aWNrZXJ7CiAgICAgIHdpZHRoOjEwMCU7IGhlaWdodDoxMDAlOwogICAgICBib3JkZXItcmFkaXVzOjIycHg7CiAgICAgIHBvc2l0aW9uOnJlbGF0aXZlOwogICAgICBmaWx0ZXI6IGRyb3Atc2hhZG93KDAgMTZweCAyMnB4IHJnYmEoMCwwLDAsLjQ1KSk7CiAgICAgIHRyYW5zZm9ybTogcGVyc3BlY3RpdmUoOTAwcHgpIHJvdGF0ZVgoOGRlZykgcm90YXRlWSgtMTBkZWcpOwogICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjIycyBlYXNlLCBmaWx0ZXIgLjIycyBlYXNlOwogICAgfQogICAgLnN0aWNrZXI6OmJlZm9yZXsKICAgICAgY29udGVudDoiIjsKICAgICAgcG9zaXRpb246YWJzb2x1dGU7IGluc2V0OjA7CiAgICAgIGJvcmRlci1yYWRpdXM6MjJweDsKICAgICAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KDEyMCUgMTAwJSBhdCAyMCUgMTUlLCByZ2JhKDI1NSwyNTUsMjU1LC40MiksIHRyYW5zcGFyZW50IDQ1JSk7CiAgICAgIG9wYWNpdHk6LjU1OwogICAgICBtaXgtYmxlbmQtbW9kZTogc2NyZWVuOwogICAgICBwb2ludGVyLWV2ZW50czpub25lOwogICAgfQogICAgLnN0aWNrZXI6OmFmdGVyewogICAgICBjb250ZW50OiIiOwogICAgICBwb3NpdGlvbjphYnNvbHV0ZTsgaW5zZXQ6MnB4OwogICAgICBib3JkZXItcmFkaXVzOjIwcHg7CiAgICAgIGJvcmRlcjoxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwuMjIpOwogICAgICBvcGFjaXR5Oi40NTsKICAgICAgcG9pbnRlci1ldmVudHM6bm9uZTsKICAgIH0KICAgIC5zdGlja2VyIHN2Z3sgd2lkdGg6MTAwJTsgaGVpZ2h0OjEwMCU7IGRpc3BsYXk6YmxvY2s7IH0KCiAgICAucHJlc3NhYmxlewogICAgICBjdXJzb3I6cG9pbnRlcjsKICAgICAgdXNlci1zZWxlY3Q6bm9uZTsKICAgICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDsKICAgIH0KICAgIC5wcmVzc2FibGU6YWN0aXZlIC5zdGlja2VyewogICAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDkwMHB4KSByb3RhdGVYKDEwZGVnKSByb3RhdGVZKC0xMmRlZykgc2NhbGUoLjk4KTsKICAgICAgZmlsdGVyOiBkcm9wLXNoYWRvdygwIDEwcHggMThweCByZ2JhKDAsMCwwLC41NSkpOwogICAgfQoKICAgIC8qIEljb24gcGFja3MgKi8KICAgIGJvZHlbZGF0YS1wYWNrPSIwIl0gLnN0aWNrZXJ7IGJvcmRlci1yYWRpdXM6MjJweDsgfQogICAgYm9keVtkYXRhLXBhY2s9IjEiXSAuc3RpY2tlcnsgdHJhbnNmb3JtOm5vbmU7IGZpbHRlcjpub25lOyB9CiAgICBib2R5W2RhdGEtcGFjaz0iMSJdIC5zdGlja2VyOjpiZWZvcmUsIGJvZHlbZGF0YS1wYWNrPSIxIl0gLnN0aWNrZXI6OmFmdGVyeyBkaXNwbGF5Om5vbmU7IH0KICAgIGJvZHlbZGF0YS1wYWNrPSIxIl0gLnN0aWNrZXIgc3ZneyBmaWx0ZXI6IGRyb3Atc2hhZG93KDAgMTBweCAxNnB4IHJnYmEoMCwwLDAsLjQwKSk7IH0KICAgIGJvZHlbZGF0YS1wYWNrPSIyIl0gLnN0aWNrZXJ7IHRyYW5zZm9ybTogcGVyc3BlY3RpdmUoOTAwcHgpIHJvdGF0ZVgoNmRlZykgcm90YXRlWSgtNmRlZyk7IH0KICAgIGJvZHlbZGF0YS1wYWNrPSIyIl0gLm1vb2RGYWNleyBvcGFjaXR5OjE7IH0KCiAgICAvKiBNb29kIGZhY2VzIChEdW9saW5nby1saWtlLCBzdWJ0bGUpICovCiAgICAubW9vZEZhY2V7CiAgICAgIHBvc2l0aW9uOmFic29sdXRlOyBpbnNldDowOwogICAgICBkaXNwbGF5OmdyaWQ7IHBsYWNlLWl0ZW1zOmNlbnRlcjsKICAgICAgb3BhY2l0eTouODg7CiAgICAgIHBvaW50ZXItZXZlbnRzOm5vbmU7CiAgICB9CiAgICAuZmFjZXsKICAgICAgd2lkdGg6NTIlOyBoZWlnaHQ6NTIlOwogICAgICBib3JkZXItcmFkaXVzOjk5OXB4OwogICAgICBiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjE4KTsKICAgICAgYm9yZGVyOjFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LC4xMCk7CiAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KTsKICAgICAgcG9zaXRpb246cmVsYXRpdmU7CiAgICB9CiAgICAuZXllewogICAgICBwb3NpdGlvbjphYnNvbHV0ZTsgdG9wOjM2JTsKICAgICAgd2lkdGg6MTIlOyBoZWlnaHQ6MTIlOwogICAgICBib3JkZXItcmFkaXVzOjUwJTsKICAgICAgYmFja2dyb3VuZDpyZ2JhKDI1NSwyNTUsMjU1LC44OCk7CiAgICAgIGFuaW1hdGlvbjogYmxpbmsgNS44cyBpbmZpbml0ZTsKICAgIH0KICAgIC5leWUucnsgcmlnaHQ6MzAlIH0gLmV5ZS5seyBsZWZ0OjMwJSB9CiAgICBAa2V5ZnJhbWVzIGJsaW5reyAwJSw5MiUsMTAwJXsgdHJhbnNmb3JtOnNjYWxlWSgxKX0gOTQleyB0cmFuc2Zvcm06c2NhbGVZKC4xKX0gOTYleyB0cmFuc2Zvcm06c2NhbGVZKDEpfSB9CiAgICAubW91dGh7CiAgICAgIHBvc2l0aW9uOmFic29sdXRlOyBsZWZ0OjUwJTsgdG9wOjU4JTsKICAgICAgd2lkdGg6MzQlOyBoZWlnaHQ6MTglOwogICAgICB0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKTsKICAgICAgYm9yZGVyLXJhZGl1czowIDAgOTk5cHggOTk5cHg7CiAgICAgIGJvcmRlcjoycHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwuODApOwogICAgICBib3JkZXItdG9wOjA7CiAgICAgIG9wYWNpdHk6Ljk7CiAgICB9CiAgICAubW9vZC1zYWQgLm1vdXRoewogICAgICB0b3A6NjIlOwogICAgICBib3JkZXItcmFkaXVzOjk5OXB4IDk5OXB4IDAgMDsKICAgICAgYm9yZGVyOjJweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LC43MCk7CiAgICAgIGJvcmRlci1ib3R0b206MDsKICAgIH0KICAgIC5tb29kLWN1cmlvdXMgLm1vdXRoewogICAgICB3aWR0aDoxOCU7IGhlaWdodDoxOCU7CiAgICAgIGJvcmRlci1yYWRpdXM6OTk5cHg7CiAgICAgIGJvcmRlcjoycHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwuNzApOwogICAgICBvcGFjaXR5Oi44NTsKICAgIH0KICAgIC5tb29kLWhhcHB5IC5tb3V0aHsgfQogICAgLm1vb2QtY3VyaW91cyAuZXlleyBhbmltYXRpb24tZHVyYXRpb246NC45cyB9CiAgICAubW9vZC1zYWQgLmV5ZXsgb3BhY2l0eTouODUgfQoKICAgIC8qIEFjY2VudCBlZGdlIHBlciBtb2R1bGUgKGtlZXBzIHRleHQgZ3JlZW4pICovCiAgICAuYWNjZW50QmFyewogICAgICBoZWlnaHQ6M3B4OyB3aWR0aDo0MnB4OyBib3JkZXItcmFkaXVzOjk5OXB4OwogICAgICBtYXJnaW4tdG9wOjhweDsKICAgICAgYmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoOTBkZWcsIGN1cnJlbnRDb2xvciwgcmdiYSgyNTUsMjU1LDI1NSwuMTApKTsKICAgICAgb3BhY2l0eTouOTU7CiAgICB9CgogICAgLyogUHJvZ3Jlc3MgKi8KICAgIC5wcm9ncmVzc1Jvd3sKICAgICAgbWFyZ2luLXRvcDoxMHB4OwogICAgICBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsganVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47IGdhcDoxMHB4OwogICAgICBwb3NpdGlvbjpyZWxhdGl2ZTsgei1pbmRleDoyOwogICAgfQogICAgLmJhcnsKICAgICAgZmxleDoxOwogICAgICBoZWlnaHQ6MTBweDsKICAgICAgYm9yZGVyLXJhZGl1czo5OTlweDsKICAgICAgYmFja2dyb3VuZDpyZ2JhKDI1NSwyNTUsMjU1LC4wOCk7CiAgICAgIGJvcmRlcjoxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwuMTApOwogICAgICBvdmVyZmxvdzpoaWRkZW47CiAgICB9CiAgICAuYmFyID4gaXsKICAgICAgZGlzcGxheTpibG9jazsgaGVpZ2h0OjEwMCU7CiAgICAgIHdpZHRoOjAlOwogICAgICBiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCg5MGRlZywgcmdiYSgyNTUsMjU1LDI1NSwuMTgpLCByZ2JhKDI1NSwyNTUsMjU1LC4xMCkpOwogICAgICBmaWx0ZXI6IHNhdHVyYXRlKDE2MCUpOwogICAgfQogICAgLnBjdHsKICAgICAgd2lkdGg6NDRweDsKICAgICAgZm9udC13ZWlnaHQ6OTAwOwogICAgICBjb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LC44MCk7CiAgICB9CgogICAgLyogQ2FyZCBzaXplcyAoYmVudG8pICovCiAgICAuc3BhbjJ7IGdyaWQtY29sdW1uOiBzcGFuIDI7IH0KICAgIEBtZWRpYSAobWluLXdpZHRoOjQyMHB4KXsKICAgICAgLmJpZ1Jvd3sgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxLjJmciAuOGZyOyB9CiAgICB9CgogICAgLyogQm90dG9tIHRhYiBiYXIgKGZ1bGwgcGFnZSBzd2l0Y2gpICovCiAgICAudGFiYmFyewogICAgICBwb3NpdGlvbjpmaXhlZDsgbGVmdDo1MCU7IHRyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpOwogICAgICBib3R0b206MTJweDsKICAgICAgd2lkdGg6bWluKDQzMHB4LCBjYWxjKDEwMCUgLSAyMHB4KSk7CiAgICAgIHBhZGRpbmc6MTBweCAxMnB4OwogICAgICBib3JkZXItcmFkaXVzOjI2cHg7CiAgICAgIGRpc3BsYXk6ZmxleDsganVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47IGdhcDo2cHg7CiAgICAgIHotaW5kZXg6NTA7CiAgICB9CiAgICAudGFiYmFyLmdsYXNzeyBib3gtc2hhZG93OjAgMThweCA2MHB4IHJnYmEoMCwwLDAsLjU1KTsgfQogICAgLnRhYnsKICAgICAgZmxleDoxOwogICAgICBkaXNwbGF5OmZsZXg7IGZsZXgtZGlyZWN0aW9uOmNvbHVtbjsgYWxpZ24taXRlbXM6Y2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOwogICAgICBnYXA6NnB4OwogICAgICBwYWRkaW5nOjhweCA2cHg7CiAgICAgIGJvcmRlci1yYWRpdXM6MThweDsKICAgICAgY29sb3I6cmdiYSgyNTUsMjU1LDI1NSwuNzIpOwogICAgICB0ZXh0LWRlY29yYXRpb246bm9uZTsKICAgICAgYm9yZGVyOjFweCBzb2xpZCB0cmFuc3BhcmVudDsKICAgIH0KICAgIC50YWIuYWN0aXZlewogICAgICBiYWNrZ3JvdW5kOnJnYmEoMjU1LDI1NSwyNTUsLjA4KTsKICAgICAgYm9yZGVyLWNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsLjEyKTsKICAgICAgY29sb3I6cmdiYSgyNTUsMjU1LDI1NSwuOTIpOwogICAgfQogICAgLnRhYkxibHsgZm9udC1zaXplOjEycHg7IGZvbnQtd2VpZ2h0OjcwMDsgfQogICAgLnRhYiAuaWNvbnsgd2lkdGg6IGNhbGMoMzBweCAqIHZhcigtLWljb25TY2FsZSkpOyBoZWlnaHQ6IGNhbGMoMzBweCAqIHZhcigtLWljb25TY2FsZSkpOyB9CiAgICAudGFiIC5zdGlja2VyeyBib3JkZXItcmFkaXVzOjE0cHg7IHRyYW5zZm9ybTogcGVyc3BlY3RpdmUoODAwcHgpIHJvdGF0ZVgoOGRlZykgcm90YXRlWSgtMTBkZWcpOyB9CiAgICBib2R5W2RhdGEtcGFjaz0iMSJdIC50YWIgLnN0aWNrZXJ7IHRyYW5zZm9ybTpub25lOyB9CgogICAgLyogU2V0dGluZ3MgKi8KICAgIC5zZWN0aW9uVGl0bGV7CiAgICAgIG1hcmdpbjoxNnB4IDAgMTBweDsKICAgICAgZm9udC13ZWlnaHQ6OTAwOwogICAgICBmb250LXNpemU6MThweDsKICAgICAgY29sb3I6dmFyKC0tZ3JlZW4pOwogICAgfQogICAgLnNldHRpbmd7CiAgICAgIHBhZGRpbmc6MTJweDsKICAgICAgYm9yZGVyLXJhZGl1czoxOHB4OwogICAgICBtYXJnaW4tdG9wOjEwcHg7CiAgICB9CiAgICAuc2V0dGluZy5nbGFzc3sgYm94LXNoYWRvdzowIDE0cHggNTBweCByZ2JhKDAsMCwwLC40MCk7IH0KICAgIC5yb3d7CiAgICAgIGRpc3BsYXk6ZmxleDsgYWxpZ24taXRlbXM6Y2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjsgZ2FwOjEwcHg7CiAgICAgIG1hcmdpbi10b3A6MTBweDsKICAgIH0KICAgIGxhYmVseyBmb250LXdlaWdodDo4MDA7IGNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsLjg2KTsgfQogICAgaW5wdXRbdHlwZT0icmFuZ2UiXXsgd2lkdGg6MTgwcHg7IH0KICAgIGlucHV0W3R5cGU9ImNvbG9yIl17IHdpZHRoOjQ4cHg7IGhlaWdodDozNHB4OyBib3JkZXI6MDsgYmFja2dyb3VuZDp0cmFuc3BhcmVudDsgfQogICAgc2VsZWN0ewogICAgICBiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjE4KTsKICAgICAgYm9yZGVyOjFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LC4xNCk7CiAgICAgIGNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsLjg2KTsKICAgICAgcGFkZGluZzoxMHB4IDEycHg7CiAgICAgIGJvcmRlci1yYWRpdXM6MTRweDsKICAgICAgb3V0bGluZTpub25lOwogICAgfQoKICAgIC8qIFV0aWxpdHkgKi8KICAgIC5tdXRlZHsgY29sb3I6cmdiYSgyNTUsMjU1LDI1NSwuNjYpIH0KICAgIC5zbWFsbHsgZm9udC1zaXplOjEycHggfQogIDwvc3R5bGU+CjwvaGVhZD4KPGJvZHkgZGF0YS1wYWNrPSIwIj4KICA8ZGl2IGNsYXNzPSJzaGVsbCI+CiAgICA8ZGl2IGNsYXNzPSJwaG9uZSI+CiAgICAgIDxkaXYgY2xhc3M9InRvcGJhciBnbGFzcyI+CiAgICAgICAgPGRpdiBjbGFzcz0ibGVmdEJ0bnMiPgogICAgICAgICAgPGRpdiBjbGFzcz0icGlsbEJ0biIgdGl0bGU9Itiq2YUv2LHZhtqvIj4KICAgICAgICAgICAg8J+OqAogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJwaWxsQnRuIiB0aXRsZT0i2YXYrdin2LPYqNmHL9in2KjYstin2LEiPgogICAgICAgICAgICDwn6euCiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGRpdiBjbGFzcz0iYnJhbmQiPgogICAgICAgICAgPGRpdiBjbGFzcz0iYnJhbmRUZXh0Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iYnJhbmRUaXRsZSI+RGVudGFs4oCRTWluYTwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJicmFuZFN1YiI+2YXZiNio2KfbjNmE4oCM2KfZiNmEIMK3IExpcXVpZCBHbGFzcyDCtyBpT1MyNiAo2YbZhdmI2YbZhyk8L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0iZG1Mb2dvIiBhcmlhLWxhYmVsPSJETSI+RE08L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CgogICAgICA8ZGl2IGNsYXNzPSJwYWdlSGVhZCI+CiAgICAgICAgPGgxIGNsYXNzPSJoMSI+2K/Yp9i02KjZiNix2K88L2gxPgogICAgICAgIDxkaXYgY2xhc3M9InN1YiI+27Qg2KjYrti0INin2LXZhNuMICsg2KjYsdis2LPYqtmHOiA8Yj7ZhtmI2KjYquKAjNiv2YfbjDwvYj4g2YggPGI+2YXYp9mE24w8L2I+PC9kaXY+CgogICAgICAgIDxkaXYgY2xhc3M9ImNvbnRyb2xzIj4KICAgICAgICAgIDxkaXYgY2xhc3M9InNlZyIgYXJpYS1sYWJlbD0iTGF5b3V0IHRvZ2dsZSI+CiAgICAgICAgICAgIDxidXR0b24gaWQ9ImJ0bkdyaWQiIGNsYXNzPSJhY3RpdmUiIHR5cGU9ImJ1dHRvbiI+27Ig2LPYqtmI2YbZhzwvYnV0dG9uPgogICAgICAgICAgICA8YnV0dG9uIGlkPSJidG5MaXN0IiB0eXBlPSJidXR0b24iPtuxINiz2KrZiNmG2Yc8L2J1dHRvbj4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPHNwYW4gY2xhc3M9ImNoaXAiPtii24zaqdmGOiDbs9io2LnYr9uML9it2LPbjCAo2YLYp9io2YQg2KrYutuM24zYsSk8L3NwYW4+CiAgICAgICAgICA8c3BhbiBjbGFzcz0iY2hpcCI+2KrbjNiq2LHZh9inINiz2KjYsiDCtyDYqNiu2LTigIzZh9inINix2Ybar9uML9mF2KzYstinPC9zcGFuPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KCiAgICAgIDwhLS0gUEFHRVMgLS0+CiAgICAgIDxzZWN0aW9uIGlkPSJwYWdlLWhvbWUiIGNsYXNzPSJwYWdlIGFjdGl2ZSI+CiAgICAgICAgPGRpdiBjbGFzcz0icGFnZUlubmVyIj4KICAgICAgICAgIDxkaXYgaWQ9ImRhc2hHcmlkIiBjbGFzcz0iZ3JpZCI+CiAgICAgICAgICAgIDwhLS0gRmluYW5jZSAoaGlnaGxpZ2h0KSAtLT4KICAgICAgICAgICAgPGFydGljbGUgY2xhc3M9ImNhcmQgZ2xhc3Mgc3BhbjIgcHJlc3NhYmxlIiBkYXRhLW1vZHVsZT0iZmluIiBkYXRhLXByb2dyZXNzPSIxMiI+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZEhlYWQiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idGl0bGVXcmFwIj4KICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzPSJ0aXRsZSI+2YXYp9mE24w8L2gzPgogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhY2NlbnRCYXIiIHN0eWxlPSJjb2xvcjp2YXIoLS1jLWZpbikiPjwvZGl2PgogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXRhIj4KICAgICAgICAgICAgICAgICAgICA8c3Bhbj5QT1Mv2YbZgtivL9qG2qk8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4+2YLYs9i3IMK3INmH2LTYr9in2LEg2LPYsdix2LPbjNivPC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJtdXRlZCI+2YLYp9io2YQg2LTYrti124zigIzYs9in2LLbjDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Imljb24gYmlnIj4KICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RpY2tlciIgc3R5bGU9ImJhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDEzNWRlZyx2YXIoLS1jLWZpbikscmdiYSgyNTUsMjU1LDI1NSwuMTApLHJnYmEoMCwwLDAsLjE4KSk7Ij4KICAgICAgICAgICAgICAgICAgICA8c3ZnIHZpZXdCb3g9IjAgMCA2NCA2NCIgYXJpYS1oaWRkZW49InRydWUiPgogICAgICAgICAgICAgICAgICAgICAgPGRlZnM+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iZ0ZpbiIgeDE9IjAiIHkxPSIwIiB4Mj0iMSIgeTI9IjEiPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZDE2NiIvPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMC41NSIgc3RvcC1jb2xvcj0iI2ZmOWYxYyIvPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzdjNGRmZiIvPgogICAgICAgICAgICAgICAgICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgICAgICAgICAgICAgICAgPC9kZWZzPgogICAgICAgICAgICAgICAgICAgICAgPHJlY3QgeD0iMTAiIHk9IjE2IiB3aWR0aD0iNDQiIGhlaWdodD0iMzIiIHJ4PSIxMCIgZmlsbD0idXJsKCNnRmluKSIgb3BhY2l0eT0iLjkyIi8+CiAgICAgICAgICAgICAgICAgICAgICA8cmVjdCB4PSIxNCIgeT0iMjQiIHdpZHRoPSIzNiIgaGVpZ2h0PSI2IiByeD0iMyIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuNzIpIi8+CiAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PSI0NiIgY3k9IjQwIiByPSI3IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LC43OCkiLz4KICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik00MyA0MGg2IiBzdHJva2U9IiMxMTEiIHN0cm9rZS13aWR0aD0iMi42IiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KICAgICAgICAgICAgICAgICAgICA8L3N2Zz4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb29kRmFjZSI+PGRpdiBjbGFzcz0iZmFjZSI+PGkgY2xhc3M9ImV5ZSBsIj48L2k+PGkgY2xhc3M9ImV5ZSByIj48L2k+PGkgY2xhc3M9Im1vdXRoIj48L2k+PC9kaXY+PC9kaXY+CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icHJvZ3Jlc3NSb3ciPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icGN0Ij4xMiU8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJhciI+PGkgc3R5bGU9IndpZHRoOjEyJSI+PC9pPjwvZGl2PgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2FydGljbGU+CgogICAgICAgICAgICA8IS0tIFNjaGVkdWxpbmcgKGhpZ2hsaWdodCkgLS0+CiAgICAgICAgICAgIDxhcnRpY2xlIGNsYXNzPSJjYXJkIGdsYXNzIHByZXNzYWJsZSIgZGF0YS1tb2R1bGU9InNjaGVkIiBkYXRhLXByb2dyZXNzPSI4Ij4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkSGVhZCI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0aXRsZVdyYXAiPgogICAgICAgICAgICAgICAgICA8aDMgY2xhc3M9InRpdGxlIj7ZhtmI2KjYquKAjNiv2YfbjDwvaDM+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjY2VudEJhciIgc3R5bGU9ImNvbG9yOnZhcigtLWMtc2NoZWQpIj48L2Rpdj4KICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0YSI+PHNwYW4+2KrZgtmI24zZhSDYsdmI2LLYp9mG2Yc8L3NwYW4+PHNwYW4+2YTbjNiz2Kog2KfZhtiq2LjYp9ixPC9zcGFuPjxzcGFuPtuM2YjZhtuM2KrigIzZh9inPC9zcGFuPjwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpY29uIGJpZyI+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0aWNrZXIiIHN0eWxlPSJiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxMzVkZWcsdmFyKC0tYy1zY2hlZCkscmdiYSgyNTUsMjU1LDI1NSwuMTApLHJnYmEoMCwwLDAsLjE4KSk7Ij4KICAgICAgICAgICAgICAgICAgICA8c3ZnIHZpZXdCb3g9IjAgMCA2NCA2NCIgYXJpYS1oaWRkZW49InRydWUiPgogICAgICAgICAgICAgICAgICAgICAgPGRlZnM+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iZ0NhbCIgeDE9IjAiIHkxPSIwIiB4Mj0iMSIgeTI9IjEiPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzM2ZDFmZiIvPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMC42IiBzdG9wLWNvbG9yPSIjMDBlNWZmIi8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMDBjODUzIi8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgICAgICAgICAgICAgICA8L2RlZnM+CiAgICAgICAgICAgICAgICAgICAgICA8cmVjdCB4PSIxNCIgeT0iMTYiIHdpZHRoPSIzNiIgaGVpZ2h0PSIzNCIgcng9IjEwIiBmaWxsPSJ1cmwoI2dDYWwpIiBvcGFjaXR5PSIuOTIiLz4KICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IHg9IjE0IiB5PSIyNCIgd2lkdGg9IjM2IiBoZWlnaHQ9IjYiIHJ4PSIzIiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LC43MikiLz4KICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IHg9IjIwIiB5PSIzNCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjEwIiByeD0iMyIgZmlsbD0icmdiYSgwLDAsMCwuMjIpIi8+CiAgICAgICAgICAgICAgICAgICAgICA8cmVjdCB4PSIzNCIgeT0iMzQiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgcng9IjMiIGZpbGw9InJnYmEoMCwwLDAsLjE4KSIvPgogICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0IDE4di02TTQwIDE4di02IiBzdHJva2U9InJnYmEoMjU1LDI1NSwyNTUsLjkpIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgogICAgICAgICAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vb2RGYWNlIj48ZGl2IGNsYXNzPSJmYWNlIj48aSBjbGFzcz0iZXllIGwiPjwvaT48aSBjbGFzcz0iZXllIHIiPjwvaT48aSBjbGFzcz0ibW91dGgiPjwvaT48L2Rpdj48L2Rpdj4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwcm9ncmVzc1JvdyI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwY3QiPjglPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJiYXIiPjxpIHN0eWxlPSJ3aWR0aDo4JSI+PC9pPjwvZGl2PgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2FydGljbGU+CgogICAgICAgICAgICA8IS0tIFBhdGllbnRzIC0tPgogICAgICAgICAgICA8YXJ0aWNsZSBjbGFzcz0iY2FyZCBnbGFzcyBwcmVzc2FibGUiIGRhdGEtbW9kdWxlPSJwYXQiIGRhdGEtcHJvZ3Jlc3M9IjAiPgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRIZWFkIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRpdGxlV3JhcCI+CiAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz0idGl0bGUiPtio24zZhdin2LHYp9mGPC9oMz4KICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWNjZW50QmFyIiBzdHlsZT0iY29sb3I6dmFyKC0tYy1wYXQpIj48L2Rpdj4KICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0YSI+PHNwYW4+2b7YsdmI2YbYr9mHPC9zcGFuPjxzcGFuPtiv2KfYr9mH4oCM2YfYp9uMINmG2KfZgti1L9iy24zYp9ivPC9zcGFuPjxzcGFuPtio2LHahtiz2KjigIzZh9inPC9zcGFuPjwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpY29uIGJpZyI+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0aWNrZXIiIHN0eWxlPSJiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxMzVkZWcsdmFyKC0tYy1wYXQpLHJnYmEoMjU1LDI1NSwyNTUsLjEwKSxyZ2JhKDAsMCwwLC4xOCkpOyI+CiAgICAgICAgICAgICAgICAgICAgPHN2ZyB2aWV3Qm94PSIwIDAgNjQgNjQiIGFyaWEtaGlkZGVuPSJ0cnVlIj4KICAgICAgICAgICAgICAgICAgICAgIDxkZWZzPgogICAgICAgICAgICAgICAgICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImdQYXQiIHgxPSIwIiB5MT0iMCIgeDI9IjEiIHkyPSIxIj4KICAgICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiM3YzRkZmYiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAuNTUiIHN0b3AtY29sb3I9IiMwMGU1ZmYiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZjRkOGQiLz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICAgICAgICAgICAgICAgIDwvZGVmcz4KICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9IjMyIiBjeT0iMjgiIHI9IjEyIiBmaWxsPSJ1cmwoI2dQYXQpIiBvcGFjaXR5PSIuOTIiLz4KICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IHg9IjE2IiB5PSI0MCIgd2lkdGg9IjMyIiBoZWlnaHQ9IjE0IiByeD0iNyIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuMjIpIi8+CiAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PSIyNiIgY3k9IjI4IiByPSIyLjUiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsLjg1KSIvPgogICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD0iMzgiIGN5PSIyOCIgcj0iMi41IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LC44NSkiLz4KICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yNiAzNGMzIDMgOSAzIDEyIDAiIHN0cm9rZT0icmdiYSgyNTUsMjU1LDI1NSwuODUpIiBzdHJva2Utd2lkdGg9IjIuNiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBmaWxsPSJub25lIi8+CiAgICAgICAgICAgICAgICAgICAgPC9zdmc+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9vZEZhY2UiPjxkaXYgY2xhc3M9ImZhY2UiPjxpIGNsYXNzPSJleWUgbCI+PC9pPjxpIGNsYXNzPSJleWUgciI+PC9pPjxpIGNsYXNzPSJtb3V0aCI+PC9pPjwvZGl2PjwvZGl2PgogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9InByb2dyZXNzUm93Ij4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InBjdCI+MCU8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJhciI+PGkgc3R5bGU9IndpZHRoOjAlIj48L2k+PC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvYXJ0aWNsZT4KCiAgICAgICAgICAgIDwhLS0gTGFiIC0tPgogICAgICAgICAgICA8YXJ0aWNsZSBjbGFzcz0iY2FyZCBnbGFzcyBwcmVzc2FibGUiIGRhdGEtbW9kdWxlPSJsYWIiIGRhdGEtcHJvZ3Jlc3M9IjQiPgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRIZWFkIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRpdGxlV3JhcCI+CiAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz0idGl0bGUiPtmE2KfYqNix2KfYqtmI2KfYsTwvaDM+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjY2VudEJhciIgc3R5bGU9ImNvbG9yOnZhcigtLWMtbGFiKSI+PC9kaXY+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGEiPjxzcGFuPtin2LHYs9in2YQv2K/YsduM2KfZgdiqPC9zcGFuPjxzcGFuPtmI2LbYuduM2KrigIzZh9inPC9zcGFuPjxzcGFuPtmH2LTYr9in2LE8L3NwYW4+PC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Imljb24gYmlnIj4KICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RpY2tlciIgc3R5bGU9ImJhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDEzNWRlZyx2YXIoLS1jLWxhYikscmdiYSgyNTUsMjU1LDI1NSwuMTApLHJnYmEoMCwwLDAsLjE4KSk7Ij4KICAgICAgICAgICAgICAgICAgICA8c3ZnIHZpZXdCb3g9IjAgMCA2NCA2NCIgYXJpYS1oaWRkZW49InRydWUiPgogICAgICAgICAgICAgICAgICAgICAgPGRlZnM+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iZ0xhYiIgeDE9IjAiIHkxPSIwIiB4Mj0iMSIgeTI9IjEiPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmNGQ4ZCIvPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMC42IiBzdG9wLWNvbG9yPSIjZmZkMTY2Ii8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMzZkMWZmIi8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgICAgICAgICAgICAgICA8L2RlZnM+CiAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjYgMTJoMTJ2MThsMTAgMThhMTAgMTAgMCAwIDEtOSAxNEgyNWExMCAxMCAwIDAgMS05LTE0bDEwLTE4VjEyeiIgZmlsbD0idXJsKCNnTGFiKSIgb3BhY2l0eT0iLjkyIi8+CiAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjIgNDRoMjAiIHN0cm9rZT0icmdiYSgyNTUsMjU1LDI1NSwuNykiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CiAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjQgMzZoMTYiIHN0cm9rZT0icmdiYSgyNTUsMjU1LDI1NSwuNTUpIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgogICAgICAgICAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vb2RGYWNlIj48ZGl2IGNsYXNzPSJmYWNlIj48aSBjbGFzcz0iZXllIGwiPjwvaT48aSBjbGFzcz0iZXllIHIiPjwvaT48aSBjbGFzcz0ibW91dGgiPjwvaT48L2Rpdj48L2Rpdj4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwcm9ncmVzc1JvdyI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwY3QiPjQlPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJiYXIiPjxpIHN0eWxlPSJ3aWR0aDo0JSI+PC9pPjwvZGl2PgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2FydGljbGU+CgogICAgICAgICAgICA8IS0tIE1vcmUgLyBTZXR0aW5ncyAtLT4KICAgICAgICAgICAgPGFydGljbGUgY2xhc3M9ImNhcmQgZ2xhc3MgcHJlc3NhYmxlIiBkYXRhLW1vZHVsZT0ibW9yZSIgZGF0YS1wcm9ncmVzcz0iMjAiIG9uY2xpY2s9ImdvKCdtb3JlJykiPgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRIZWFkIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRpdGxlV3JhcCI+CiAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz0idGl0bGUiPtio24zYtNiq2LE8L2gzPgogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhY2NlbnRCYXIiIHN0eWxlPSJjb2xvcjp2YXIoLS1jLW1vcmUpIj48L2Rpdj4KICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWV0YSI+PHNwYW4+2KrZhti424zZhdin2Ko8L3NwYW4+PHNwYW4+2KrZhS/YotuM2qnZhi/ahtuM2K/Zhdin2YY8L3NwYW4+PHNwYW4+2obaqeKAjNmE24zYs9iqINuw4oCT27HbsNuwPC9zcGFuPjwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpY29uIGJpZyI+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0aWNrZXIiIHN0eWxlPSJiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxMzVkZWcsdmFyKC0tYy1tb3JlKSxyZ2JhKDI1NSwyNTUsMjU1LC4xMCkscmdiYSgwLDAsMCwuMTgpKTsiPgogICAgICAgICAgICAgICAgICAgIDxzdmcgdmlld0JveD0iMCAwIDY0IDY0IiBhcmlhLWhpZGRlbj0idHJ1ZSI+CiAgICAgICAgICAgICAgICAgICAgICA8ZGVmcz4KICAgICAgICAgICAgICAgICAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJnTW9yZSIgeDE9IjAiIHkxPSIwIiB4Mj0iMSIgeTI9IjEiPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2IwYmVjNSIvPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMC42IiBzdG9wLWNvbG9yPSIjMzZkMWZmIi8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMDBjODUzIi8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgICAgICAgICAgICAgICA8L2RlZnM+CiAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PSIyMCIgY3k9IjMyIiByPSI2IiBmaWxsPSJ1cmwoI2dNb3JlKSIgb3BhY2l0eT0iLjkyIi8+CiAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PSIzMiIgY3k9IjMyIiByPSI2IiBmaWxsPSJ1cmwoI2dNb3JlKSIgb3BhY2l0eT0iLjg2Ii8+CiAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PSI0NCIgY3k9IjMyIiByPSI2IiBmaWxsPSJ1cmwoI2dNb3JlKSIgb3BhY2l0eT0iLjgwIi8+CiAgICAgICAgICAgICAgICAgICAgPC9zdmc+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9vZEZhY2UiPjxkaXYgY2xhc3M9ImZhY2UiPjxpIGNsYXNzPSJleWUgbCI+PC9pPjxpIGNsYXNzPSJleWUgciI+PC9pPjxpIGNsYXNzPSJtb3V0aCI+PC9pPjwvZGl2PjwvZGl2PgogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9InByb2dyZXNzUm93Ij4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InBjdCI+MjAlPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJiYXIiPjxpIHN0eWxlPSJ3aWR0aDoyMCUiPjwvaT48L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9hcnRpY2xlPgoKICAgICAgICAgICAgPCEtLSBJbm5vdmF0aW9uIC8gQUkgLS0+CiAgICAgICAgICAgIDxhcnRpY2xlIGNsYXNzPSJjYXJkIGdsYXNzIHByZXNzYWJsZSIgZGF0YS1tb2R1bGU9ImFpIiBkYXRhLXByb2dyZXNzPSI2Ij4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkSGVhZCI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0aXRsZVdyYXAiPgogICAgICAgICAgICAgICAgICA8aDMgY2xhc3M9InRpdGxlIj7ZhtmI2KLZiNix24w8L2gzPgogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhY2NlbnRCYXIiIHN0eWxlPSJjb2xvcjp2YXIoLS1jLWFpKSI+PC9kaXY+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1ldGEiPjxzcGFuPkFJPC9zcGFuPjxzcGFuPtin2KrZiNmF2KfYs9uM2YjZhjwvc3Bhbj48c3Bhbj7Yp9uM2K/Zh+KAjNmH2Kc8L3NwYW4+PC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Imljb24gYmlnIj4KICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RpY2tlciIgc3R5bGU9ImJhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDEzNWRlZyx2YXIoLS1jLWFpKSxyZ2JhKDI1NSwyNTUsMjU1LC4xMCkscmdiYSgwLDAsMCwuMTgpKTsiPgogICAgICAgICAgICAgICAgICAgIDxzdmcgdmlld0JveD0iMCAwIDY0IDY0IiBhcmlhLWhpZGRlbj0idHJ1ZSI+CiAgICAgICAgICAgICAgICAgICAgICA8ZGVmcz4KICAgICAgICAgICAgICAgICAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJnQUkiIHgxPSIwIiB5MT0iMCIgeDI9IjEiIHkyPSIxIj4KICAgICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiMwMGU1ZmYiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAuNTUiIHN0b3AtY29sb3I9IiM3YzRkZmYiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMwMGM4NTMiLz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICAgICAgICAgICAgICAgIDwvZGVmcz4KICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yNCA1MmgxNiIgc3Ryb2tlPSJyZ2JhKDI1NSwyNTUsMjU1LC43NSkiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CiAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMzIgMTJjLTEwIDAtMTggOC0xOCAxOCAwIDggNSAxNCAxMiAxN3Y1aDEydi01YzctMyAxMi05IDEyLTE3IDAtMTAtOC0xOC0xOC0xOHoiIGZpbGw9InVybCgjZ0FJKSIgb3BhY2l0eT0iLjkyIi8+CiAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjYgMzBoMTIiIHN0cm9rZT0icmdiYSgyNTUsMjU1LDI1NSwuNzgpIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgogICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI4IDM2aDgiIHN0cm9rZT0icmdiYSgyNTUsMjU1LDI1NSwuNjUpIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgogICAgICAgICAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vb2RGYWNlIj48ZGl2IGNsYXNzPSJmYWNlIj48aSBjbGFzcz0iZXllIGwiPjwvaT48aSBjbGFzcz0iZXllIHIiPjwvaT48aSBjbGFzcz0ibW91dGgiPjwvaT48L2Rpdj48L2Rpdj4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwcm9ncmVzc1JvdyI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwY3QiPjYlPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJiYXIiPjxpIHN0eWxlPSJ3aWR0aDo2JSI+PC9pPjwvZGl2PgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2FydGljbGU+CgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvc2VjdGlvbj4KCiAgICAgIDxzZWN0aW9uIGlkPSJwYWdlLXNjaGVkIiBjbGFzcz0icGFnZSI+CiAgICAgICAgPGRpdiBjbGFzcz0icGFnZUlubmVyIj4KICAgICAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb25UaXRsZSI+2YbZiNio2KrigIzYr9mH24wgKNmG2YXZiNmG2YcpPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJzZXR0aW5nIGdsYXNzIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibXV0ZWQiPtiq2YLZiNuM2YUg2Ygg2YTbjNiz2Kog2KfZhtiq2LjYp9ixINiv2LEg2YbYs9iu2Ycg2KjYudiv24wg2KfbjNmGIERlc2lnbiBQYWNrINio2Kcg2YfZhdin2YYg2LLYqNin2YYg2LfYsdin2K3bjCDZvtuM2KfYr9mHINmF24zigIzYtNmI2K8uPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9zZWN0aW9uPgoKICAgICAgPHNlY3Rpb24gaWQ9InBhZ2UtcGF0IiBjbGFzcz0icGFnZSI+CiAgICAgICAgPGRpdiBjbGFzcz0icGFnZUlubmVyIj4KICAgICAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb25UaXRsZSI+2KjbjNmF2KfYsdin2YYgKNmG2YXZiNmG2YcpPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJzZXR0aW5nIGdsYXNzIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibXV0ZWQiPtiq2YXYsdqp2LI6INiu2YjYp9mG2KfbjNuMINiv2KfYr9mH4oCM2YfYp9uMINiy24zYp9ivL9mG2KfZgti1INio2Kcg2KjYsdqG2LPYqOKAjNmH2KfbjCDYsdmG2q/bjNiMINmB24zZhNiq2LHZh9inINmIINqp2KfYsdiq4oCM2YfYp9uMINi024zYtNmH4oCM2KfbjC48L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICA8L3NlY3Rpb24+CgogICAgICA8c2VjdGlvbiBpZD0icGFnZS1sYWIiIGNsYXNzPSJwYWdlIj4KICAgICAgICA8ZGl2IGNsYXNzPSJwYWdlSW5uZXIiPgogICAgICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvblRpdGxlIj7ZhNin2KjYsdin2KrZiNin2LEgKNmG2YXZiNmG2YcpPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJzZXR0aW5nIGdsYXNzIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibXV0ZWQiPtin2LHYs9in2YQv2K/YsduM2KfZgdiqINio2Kcg2YjYtti524zYquKAjNmH2KfbjCDYsdmG2q/bjCDZiCDYqtin24zZheKAjNmE2KfbjNmGINi024zYtNmH4oCM2KfbjC48L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICA8L3NlY3Rpb24+CgogICAgICA8c2VjdGlvbiBpZD0icGFnZS1maW4iIGNsYXNzPSJwYWdlIj4KICAgICAgICA8ZGl2IGNsYXNzPSJwYWdlSW5uZXIiPgogICAgICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvblRpdGxlIj7Zhdin2YTbjCAo2YbZhdmI2YbZhyk8L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmcgZ2xhc3MiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtdXRlZCI+2obaqSDYtduM2KfYry/ahtqp2KfYr9iMINin2YLYs9in2LfYjCDZh9i02K/Yp9ixINiz2LHYsdiz24zYryDZiCDar9iy2KfYsdi04oCM2YfYpyDYqNinINqp2KfYsdiq4oCM2YfYp9uMIExpcXVpZCBHbGFzcy48L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICA8L3NlY3Rpb24+CgogICAgICA8c2VjdGlvbiBpZD0icGFnZS1tb3JlIiBjbGFzcz0icGFnZSI+CiAgICAgICAgPGRpdiBjbGFzcz0icGFnZUlubmVyIj4KICAgICAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb25UaXRsZSI+2KrZhti424zZhdin2KogKNm+24zYtNix2YHYqtmHIMK3IDIwMjYpPC9kaXY+CgogICAgICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZyBnbGFzcyI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InJvdyI+CiAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgIDxsYWJlbD7ahtuM2K/Zhdin2YYg2K/Yp9i02KjZiNix2K88L2xhYmVsPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibXV0ZWQgc21hbGwiPtuxINiz2KrZiNmG2YcgLyDbsiDYs9iq2YjZhtmHPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPHNlbGVjdCBpZD0ibGF5b3V0U2VsIj4KICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImdyaWQiPtuyINiz2KrZiNmG2Yc8L29wdGlvbj4KICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Imxpc3QiPtuxINiz2KrZiNmG2Yc8L29wdGlvbj4KICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJyb3ciPgogICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICA8bGFiZWw+2LPYp9uM2LIg2KLbjNqp2YbigIzZh9inPC9sYWJlbD4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im11dGVkIHNtYWxsIj7YqNix2KfbjCDaqdin2LTbjCDZiCDZhtmI2KfYsSDZvtin24zbjNmGPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPGlucHV0IGlkPSJpY29uU2NhbGUiIHR5cGU9InJhbmdlIiBtaW49IjAuOCIgbWF4PSIxLjYiIHN0ZXA9IjAuMDUiIHZhbHVlPSIxLjAiIC8+CiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgPGRpdiBjbGFzcz0icm93Ij4KICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgPGxhYmVsPtm+2qkg2KLbjNqp2YY8L2xhYmVsPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibXV0ZWQgc21hbGwiPlN0aWNrZXIgM0QgLyBHbHlwaCAvIER1by1Nb29kPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPHNlbGVjdCBpZD0icGFja1NlbCI+CiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIwIj5TdGlja2VyIDNEPC9vcHRpb24+CiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIxIj5HbHlwaDwvb3B0aW9uPgogICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iMiI+RHVv4oCRTW9vZDwvb3B0aW9uPgogICAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgIDxkaXYgY2xhc3M9InJvdyI+CiAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgIDxsYWJlbD7YsdmG2q8g2KjYsdis2LPYqtmHIChUaW50KTwvbGFiZWw+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtdXRlZCBzbWFsbCI+2KrbjNiq2LHZh9inINmIINin2qnYtNmG4oCM2YfYpzwvZGl2PgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDxpbnB1dCBpZD0iYWNjZW50UGljayIgdHlwZT0iY29sb3IiIHZhbHVlPSIjMDBjODUzIiAvPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb25UaXRsZSI+2LHZhtqvINmH2LEg2KjYrti0ICjZgtin2KjZhCDYqti624zbjNixKTwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZyBnbGFzcyI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InJvdyI+PGxhYmVsPtmG2YjYqNiq4oCM2K/Zh9uMPC9sYWJlbD48aW5wdXQgY2xhc3M9Im1vZFBpY2siIGRhdGEtdmFyPSItLWMtc2NoZWQiIHR5cGU9ImNvbG9yIiB2YWx1ZT0iIzM2ZDFmZiI+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InJvdyI+PGxhYmVsPtmF2KfZhNuMPC9sYWJlbD48aW5wdXQgY2xhc3M9Im1vZFBpY2siIGRhdGEtdmFyPSItLWMtZmluIiB0eXBlPSJjb2xvciIgdmFsdWU9IiNmZmQxNjYiPjwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJyb3ciPjxsYWJlbD7YqNuM2YXYp9ix2KfZhjwvbGFiZWw+PGlucHV0IGNsYXNzPSJtb2RQaWNrIiBkYXRhLXZhcj0iLS1jLXBhdCIgdHlwZT0iY29sb3IiIHZhbHVlPSIjN2M0ZGZmIj48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0icm93Ij48bGFiZWw+2YTYp9io2LHYp9iq2YjYp9ixPC9sYWJlbD48aW5wdXQgY2xhc3M9Im1vZFBpY2siIGRhdGEtdmFyPSItLWMtbGFiIiB0eXBlPSJjb2xvciIgdmFsdWU9IiNmZjRkOGQiPjwvZGl2PgogICAgICAgICAgPC9kaXY+CgogICAgICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvblRpdGxlIj7ahtqp4oCM2YTbjNiz2Kog27Ag2KrYpyDbsduw27A8L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmcgZ2xhc3MiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtdXRlZCI+2K/YsSBEZXNpZ24gUGFjayDYqNi52K/bjDog2obaqeKAjNmE24zYs9iqINqp2KfZhdmEINuw4oCT27HbsNuwINio2Kcg2LDYrtuM2LHZh+KAjNiz2KfYstuMINmF2K3ZhNuMICsg2LXYp9iv2LHYp9iqINiv2LEgRXZpZGVuY2UgUGFjay48L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICA8L3NlY3Rpb24+CgogICAgPC9kaXY+CiAgPC9kaXY+CgogIDxuYXYgY2xhc3M9InRhYmJhciBnbGFzcyIgYXJpYS1sYWJlbD0iQm90dG9tIHRhYnMiPgogICAgPGEgY2xhc3M9InRhYiBhY3RpdmUiIGhyZWY9IiNob21lIiBvbmNsaWNrPSJnbygnaG9tZScpOyByZXR1cm4gZmFsc2U7Ij4KICAgICAgPHNwYW4gY2xhc3M9Imljb24iPgogICAgICAgIDxzcGFuIGNsYXNzPSJzdGlja2VyIiBzdHlsZT0iYmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLHZhcigtLWMtaG9tZSkscmdiYSgyNTUsMjU1LDI1NSwuMTApLHJnYmEoMCwwLDAsLjE4KSk7Ij4KICAgICAgICAgIDxzdmcgdmlld0JveD0iMCAwIDY0IDY0IiBhcmlhLWhpZGRlbj0idHJ1ZSI+CiAgICAgICAgICAgIDxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iZ0hvbWUiIHgxPSIwIiB5MT0iMCIgeDI9IjEiIHkyPSIxIj4KICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiMyZGZmOGYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMzNmQxZmYiLz4KICAgICAgICAgICAgPC9saW5lYXJHcmFkaWVudD48L2RlZnM+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNCAzMCAzMiAxNCA1MCAzMHYxOGE2IDYgMCAwIDEtNiA2SDIwYTYgNiAwIDAgMS02LTZWMzB6IiBmaWxsPSJ1cmwoI2dIb21lKSIgb3BhY2l0eT0iLjkyIi8+CiAgICAgICAgICA8L3N2Zz4KICAgICAgICA8L3NwYW4+CiAgICAgIDwvc3Bhbj4KICAgICAgPHNwYW4gY2xhc3M9InRhYkxibCI+2K7Yp9mG2Yc8L3NwYW4+CiAgICA8L2E+CgogICAgPGEgY2xhc3M9InRhYiIgaHJlZj0iI3NjaGVkIiBvbmNsaWNrPSJnbygnc2NoZWQnKTsgcmV0dXJuIGZhbHNlOyI+CiAgICAgIDxzcGFuIGNsYXNzPSJpY29uIj4KICAgICAgICA8c3BhbiBjbGFzcz0ic3RpY2tlciIgc3R5bGU9ImJhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDEzNWRlZyx2YXIoLS1jLXNjaGVkKSxyZ2JhKDI1NSwyNTUsMjU1LC4xMCkscmdiYSgwLDAsMCwuMTgpKTsiPgogICAgICAgICAgPHN2ZyB2aWV3Qm94PSIwIDAgNjQgNjQiIGFyaWEtaGlkZGVuPSJ0cnVlIj4KICAgICAgICAgICAgPHJlY3QgeD0iMTYiIHk9IjE4IiB3aWR0aD0iMzIiIGhlaWdodD0iMzQiIHJ4PSIxMCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuMzUpIi8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yNCAxNnYtNk00MCAxNnYtNiIgc3Ryb2tlPSJyZ2JhKDI1NSwyNTUsMjU1LC45KSIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KICAgICAgICAgIDwvc3ZnPgogICAgICAgIDwvc3Bhbj4KICAgICAgPC9zcGFuPgogICAgICA8c3BhbiBjbGFzcz0idGFiTGJsIj7ZhtmI2KjYqjwvc3Bhbj4KICAgIDwvYT4KCiAgICA8YSBjbGFzcz0idGFiIiBocmVmPSIjcGF0IiBvbmNsaWNrPSJnbygncGF0Jyk7IHJldHVybiBmYWxzZTsiPgogICAgICA8c3BhbiBjbGFzcz0iaWNvbiI+CiAgICAgICAgPHNwYW4gY2xhc3M9InN0aWNrZXIiIHN0eWxlPSJiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxMzVkZWcsdmFyKC0tYy1wYXQpLHJnYmEoMjU1LDI1NSwyNTUsLjEwKSxyZ2JhKDAsMCwwLC4xOCkpOyI+CiAgICAgICAgICA8c3ZnIHZpZXdCb3g9IjAgMCA2NCA2NCIgYXJpYS1oaWRkZW49InRydWUiPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSIzMiIgY3k9IjI4IiByPSIxMiIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuNDUpIi8+CiAgICAgICAgICAgIDxyZWN0IHg9IjE4IiB5PSI0MCIgd2lkdGg9IjI4IiBoZWlnaHQ9IjE0IiByeD0iNyIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuMjIpIi8+CiAgICAgICAgICA8L3N2Zz4KICAgICAgICA8L3NwYW4+CiAgICAgIDwvc3Bhbj4KICAgICAgPHNwYW4gY2xhc3M9InRhYkxibCI+2KjbjNmF2KfYsdin2YY8L3NwYW4+CiAgICA8L2E+CgogICAgPGEgY2xhc3M9InRhYiIgaHJlZj0iI2xhYiIgb25jbGljaz0iZ28oJ2xhYicpOyByZXR1cm4gZmFsc2U7Ij4KICAgICAgPHNwYW4gY2xhc3M9Imljb24iPgogICAgICAgIDxzcGFuIGNsYXNzPSJzdGlja2VyIiBzdHlsZT0iYmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLHZhcigtLWMtbGFiKSxyZ2JhKDI1NSwyNTUsMjU1LC4xMCkscmdiYSgwLDAsMCwuMTgpKTsiPgogICAgICAgICAgPHN2ZyB2aWV3Qm94PSIwIDAgNjQgNjQiIGFyaWEtaGlkZGVuPSJ0cnVlIj4KICAgICAgICAgICAgPHBhdGggZD0iTTI2IDEyaDEydjE4bDEwIDE4YTEwIDEwIDAgMCAxLTkgMTRIMjVhMTAgMTAgMCAwIDEtOS0xNGwxMC0xOFYxMnoiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsLjM1KSIvPgogICAgICAgICAgPC9zdmc+CiAgICAgICAgPC9zcGFuPgogICAgICA8L3NwYW4+CiAgICAgIDxzcGFuIGNsYXNzPSJ0YWJMYmwiPtmE2KfYqDwvc3Bhbj4KICAgIDwvYT4KCiAgICA8YSBjbGFzcz0idGFiIiBocmVmPSIjZmluIiBvbmNsaWNrPSJnbygnZmluJyk7IHJldHVybiBmYWxzZTsiPgogICAgICA8c3BhbiBjbGFzcz0iaWNvbiI+CiAgICAgICAgPHNwYW4gY2xhc3M9InN0aWNrZXIiIHN0eWxlPSJiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgxMzVkZWcsdmFyKC0tYy1maW4pLHJnYmEoMjU1LDI1NSwyNTUsLjEwKSxyZ2JhKDAsMCwwLC4xOCkpOyI+CiAgICAgICAgICA8c3ZnIHZpZXdCb3g9IjAgMCA2NCA2NCIgYXJpYS1oaWRkZW49InRydWUiPgogICAgICAgICAgICA8cmVjdCB4PSIxNCIgeT0iMjAiIHdpZHRoPSIzNiIgaGVpZ2h0PSIyNiIgcng9IjEwIiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LC4zNSkiLz4KICAgICAgICAgICAgPGNpcmNsZSBjeD0iNDQiIGN5PSIzOCIgcj0iNiIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuNDUpIi8+CiAgICAgICAgICA8L3N2Zz4KICAgICAgICA8L3NwYW4+CiAgICAgIDwvc3Bhbj4KICAgICAgPHNwYW4gY2xhc3M9InRhYkxibCI+2YXYp9mE24w8L3NwYW4+CiAgICA8L2E+CiAgPC9uYXY+CgogIDxzY3JpcHQ+CiAgICAvLyBOby1lcnJvcnMgZ3VhcmQKICAgIHdpbmRvdy5vbmVycm9yID0gZnVuY3Rpb24oKXsgcmV0dXJuIGZhbHNlOyB9OwogICAgd2luZG93Lm9udW5oYW5kbGVkcmVqZWN0aW9uID0gZnVuY3Rpb24oKXsgcmV0dXJuIGZhbHNlOyB9OwoKICAgIGZ1bmN0aW9uICQoaWQpeyByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpOyB9CiAgICBmdW5jdGlvbiBzYXZlKGssdil7IHRyeXsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oayx2KTsgfWNhdGNoKGUpe30gfQogICAgZnVuY3Rpb24gbG9hZChrLGQpeyB0cnl7IHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrKSA/PyBkOyB9Y2F0Y2goZSl7IHJldHVybiBkOyB9IH0KCiAgICBmdW5jdGlvbiBhcHBseUxheW91dChtb2RlKXsKICAgICAgY29uc3QgZ3JpZCA9ICQoImRhc2hHcmlkIik7CiAgICAgIGlmKCFncmlkKSByZXR1cm47CiAgICAgIGdyaWQuY2xhc3NMaXN0LnRvZ2dsZSgibGlzdCIsIG1vZGUgPT09ICJsaXN0Iik7CiAgICAgICQoImJ0bkdyaWQiKT8uY2xhc3NMaXN0LnRvZ2dsZSgiYWN0aXZlIiwgbW9kZSA9PT0gImdyaWQiKTsKICAgICAgJCgiYnRuTGlzdCIpPy5jbGFzc0xpc3QudG9nZ2xlKCJhY3RpdmUiLCBtb2RlID09PSAibGlzdCIpOwogICAgICBjb25zdCBzZWwgPSAkKCJsYXlvdXRTZWwiKTsgaWYoc2VsKSBzZWwudmFsdWUgPSBtb2RlOwogICAgICBzYXZlKCJkbS5sYXlvdXQiLCBtb2RlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHBseUljb25TY2FsZSh2KXsKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCItLWljb25TY2FsZSIsIHYpOwogICAgICBjb25zdCByID0gJCgiaWNvblNjYWxlIik7IGlmKHIpIHIudmFsdWUgPSB2OwogICAgICBzYXZlKCJkbS5pY29uU2NhbGUiLCB2KTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHBseVBhY2socCl7CiAgICAgIGRvY3VtZW50LmJvZHkuc2V0QXR0cmlidXRlKCJkYXRhLXBhY2siLCBwKTsKICAgICAgY29uc3Qgc2VsID0gJCgicGFja1NlbCIpOyBpZihzZWwpIHNlbC52YWx1ZSA9IHA7CiAgICAgIHNhdmUoImRtLnBhY2siLCBwKTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHBseUFjY2VudChoZXgpewogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoIi0tZ3JlZW4iLCBoZXgpOwogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoIi0tYWNjZW50IiwgaGV4KTsKICAgICAgY29uc3QgYyA9ICQoImFjY2VudFBpY2siKTsgaWYoYykgYy52YWx1ZSA9IGhleDsKICAgICAgc2F2ZSgiZG0uYWNjZW50IiwgaGV4KTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHBseU1vZHVsZUNvbG9yKHZhck5hbWUsIGhleCl7CiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSh2YXJOYW1lLCBoZXgpOwogICAgICBzYXZlKCJkbS4iK3Zhck5hbWUsIGhleCk7CiAgICB9CgogICAgZnVuY3Rpb24gZ28ocGFnZSl7CiAgICAgIC8vIEZ1bGwtcGFnZSBzd2l0Y2ggKG5vIGV4cGFuZGluZyBtZW51cykKICAgICAgY29uc3QgaWRzID0gWyJob21lIiwic2NoZWQiLCJwYXQiLCJsYWIiLCJmaW4iLCJtb3JlIl07CiAgICAgIGlkcy5mb3JFYWNoKHA9PnsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGFnZS0iK3ApPy5jbGFzc0xpc3QudG9nZ2xlKCJhY3RpdmUiLCBwPT09cGFnZSk7CiAgICAgIH0pOwogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIudGFiIikuZm9yRWFjaChhPT5hLmNsYXNzTGlzdC5yZW1vdmUoImFjdGl2ZSIpKTsKICAgICAgY29uc3QgbWFwID0ge2hvbWU6MCxzY2hlZDoxLHBhdDoyLGxhYjozLGZpbjo0fTsKICAgICAgY29uc3QgaWR4ID0gbWFwW3BhZ2VdOwogICAgICBpZih0eXBlb2YgaWR4ID09PSAibnVtYmVyIil7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLnRhYiIpW2lkeF0/LmNsYXNzTGlzdC5hZGQoImFjdGl2ZSIpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIGtlZXAgaG9tZSBhY3RpdmUKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIudGFiIilbMF0/LmNsYXNzTGlzdC5hZGQoImFjdGl2ZSIpOwogICAgICB9CiAgICAgIHNhdmUoImRtLnBhZ2UiLCBwYWdlKTsKICAgIH0KCiAgICAvLyBNb29kIG1hcHBpbmcgYmFzZWQgb24gcHJvZ3Jlc3MKICAgIGZ1bmN0aW9uIGFwcGx5TW9vZHMoKXsKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiW2RhdGEtcHJvZ3Jlc3NdIikuZm9yRWFjaChjYXJkPT57CiAgICAgICAgY29uc3QgcCA9IHBhcnNlSW50KGNhcmQuZ2V0QXR0cmlidXRlKCJkYXRhLXByb2dyZXNzIil8fCIwIiwxMCk7CiAgICAgICAgY29uc3QgbW9vZCA9IChwPj01MCkgPyAibW9vZC1oYXBweSIgOiAocD4wID8gIm1vb2QtY3VyaW91cyIgOiAibW9vZC1zYWQiKTsKICAgICAgICBjYXJkLnF1ZXJ5U2VsZWN0b3JBbGwoIi5tb29kRmFjZSIpLmZvckVhY2gobT0+ewogICAgICAgICAgbS5jbGFzc0xpc3QucmVtb3ZlKCJtb29kLWhhcHB5IiwibW9vZC1jdXJpb3VzIiwibW9vZC1zYWQiKTsKICAgICAgICAgIG0uY2xhc3NMaXN0LmFkZChtb29kKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CgogICAgKGZ1bmN0aW9uIGluaXQoKXsKICAgICAgY29uc3QgbGF5b3V0ID0gbG9hZCgiZG0ubGF5b3V0IiwiZ3JpZCIpOwogICAgICBjb25zdCBpY29uU2NhbGUgPSBsb2FkKCJkbS5pY29uU2NhbGUiLCIxLjAiKTsKICAgICAgY29uc3QgcGFjayA9IGxvYWQoImRtLnBhY2siLCIwIik7CiAgICAgIGNvbnN0IGFjY2VudCA9IGxvYWQoImRtLmFjY2VudCIsIiMwMGM4NTMiKTsKCiAgICAgIGFwcGx5TGF5b3V0KGxheW91dCk7CiAgICAgIGFwcGx5SWNvblNjYWxlKGljb25TY2FsZSk7CiAgICAgIGFwcGx5UGFjayhwYWNrKTsKICAgICAgYXBwbHlBY2NlbnQoYWNjZW50KTsKCiAgICAgIC8vIFJlc3RvcmUgbW9kdWxlIGNvbG9ycwogICAgICBbIi0tYy1zY2hlZCIsIi0tYy1maW4iLCItLWMtcGF0IiwiLS1jLWxhYiJdLmZvckVhY2godj0+ewogICAgICAgIGNvbnN0IHZhbCA9IGxvYWQoImRtLiIrdiwgIiIpOwogICAgICAgIGlmKHZhbCkgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KHYsIHZhbCk7CiAgICAgIH0pOwoKICAgICAgJCgiYnRuR3JpZCIpPy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpPT5hcHBseUxheW91dCgiZ3JpZCIpKTsKICAgICAgJCgiYnRuTGlzdCIpPy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpPT5hcHBseUxheW91dCgibGlzdCIpKTsKICAgICAgJCgibGF5b3V0U2VsIik/LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIChlKT0+YXBwbHlMYXlvdXQoZS50YXJnZXQudmFsdWUpKTsKICAgICAgJCgiaWNvblNjYWxlIik/LmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgKGUpPT5hcHBseUljb25TY2FsZShlLnRhcmdldC52YWx1ZSkpOwogICAgICAkKCJwYWNrU2VsIik/LmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIChlKT0+YXBwbHlQYWNrKGUudGFyZ2V0LnZhbHVlKSk7CiAgICAgICQoImFjY2VudFBpY2siKT8uYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLCAoZSk9PmFwcGx5QWNjZW50KGUudGFyZ2V0LnZhbHVlKSk7CgogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIubW9kUGljayIpLmZvckVhY2goaW5wPT57CiAgICAgICAgY29uc3QgdmFyTmFtZSA9IGlucC5nZXRBdHRyaWJ1dGUoImRhdGEtdmFyIik7CiAgICAgICAgY29uc3Qgc3RvcmVkID0gbG9hZCgiZG0uIit2YXJOYW1lLCAiIik7CiAgICAgICAgaWYoc3RvcmVkKSBpbnAudmFsdWUgPSBzdG9yZWQ7CiAgICAgICAgaW5wLmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgKGUpPT5hcHBseU1vZHVsZUNvbG9yKHZhck5hbWUsIGUudGFyZ2V0LnZhbHVlKSk7CiAgICAgIH0pOwoKICAgICAgYXBwbHlNb29kcygpOwogICAgICBnbyhsb2FkKCJkbS5wYWdlIiwiaG9tZSIpKTsKICAgIH0pKCk7CiAgPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPgo='   $cssB64  = 'LyogZGVzaWduLmNzcyAocmVzZXJ2ZWQpLiBBbGwgc3R5bGVzIGFyZSBpbiBhcHAvaW5kZXguaHRtbCBmb3IgdGhpcyBwcm90b3R5cGUuICovCg=='   $indexHtml = [System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String($htmlB64))     $designCss = [System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String($cssB64))        New-Item -ItemType Directory -Force "app" | Out-Null     Write-TextNoBom "app\index.html" $indexHtml     Write-TextNoBom "app\design.css" $designCss        if (-not (Test-Path "app\index.html")) { throw "DESIGN_MISSING_INDEX" }     if (-not (Test-Path "app\design.css")) { throw "DESIGN_MISSING_CSS" }     $idx = Read-TextNoBom "app\index.html"     $kwSchedule = Decode-B64Utf8 "2YbZiNio2Ko="     $kwFinance  = Decode-B64Utf8 "2YXYp9mE24w="     $kwPatients = Decode-B64Utf8 "2KjbjNmF2KfYsdin2YY="     $kwLab      = Decode-B64Utf8 "2YTYp9io2LHYp9iq2YjYp9ix"        if ($idx -notmatch 'dir="rtl"') { throw "DESIGN_NOT_RTL" }     if ($idx -notmatch $kwSchedule) { throw "DESIGN_MISSING_SCHEDULE" }     if ($idx -notmatch $kwFinance) { throw "DESIGN_MISSING_FINANCE" }     if ($idx -notmatch $kwPatients) { throw "DESIGN_MISSING_PATIENTS" }     if ($idx -notmatch $kwLab) { throw "DESIGN_MISSING_LAB" }        # Design review pack     $designDir = "artifacts\design_review"     New-Item -ItemType Directory -Force $designDir | Out-Null     $designStage = Join-Path $designDir ("${tsId}_design_review_pack")     if (Test-Path $designStage) { Remove-Item -Recurse -Force $designStage }     New-Item -ItemType Directory -Force $designStage | Out-Null     Copy-Item -Recurse -Force "app" (Join-Path $designStage "app")     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $designStage "docs") }        $designZip = Join-Path $designDir ("${tsId}_design_review_pack.zip")     if (Test-Path $designZip) { Remove-Item -Force $designZip }     Compress-Archive -Path (Join-Path $designStage "*") -DestinationPath $designZip -Force        # Evidence/Resume packs     $evidenceDir = "artifacts\evidence"     $resumeDir   = "artifacts\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $qg = [ordered]@{       ts_utc = $utc       gate = $Gate       checks = [ordered]@{         design = [ordered]@{ colorful_sections = $true; green_titles = $true; mobile_first = $true; featured = @("schedule","finance"); dashboard_modules = @("schedule","finance","patients","lab"); logo_borderless = $true; icons_multicolor = $true; icons_embossed = $true; icons_emotive = $true; no_bounce = $true; tabbar_matches_icons = $true; tile_icon_bigger = $true; layout_toggle = $true; icon_size_slider = $true; color_customizable = $true; icon_pack_switch = $true }         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         packs = [ordered]@{           design_zip   = ("artifacts/design_review/${tsId}_design_review_pack.zip")           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        $eState = Join-Path $evidenceStage "state"     $eTools = Join-Path $evidenceStage "tools"     New-Item -ItemType Directory -Force $eState | Out-Null     New-Item -ItemType Directory -Force $eTools | Out-Null     Copy-Item -Force "state\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                  (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                  (Join-Path $eState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $eTools "run.ps1")     if (Test-Path "app")  { Copy-Item -Recurse -Force "app"  (Join-Path $evidenceStage "app") }     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $evidenceStage "docs") }        $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null     Copy-Item -Force "state\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                  (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                  (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $rTools "run.ps1")     if (Test-Path "app")  { Copy-Item -Recurse -Force "app"  (Join-Path $resumeStage "app") }     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $resumeStage "docs") }        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract   2) Read state/NEXT_ACTION.md   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        $gap = [ordered]@{       ts_utc = $utc       current_gate = $Gate       next_gate = "DESIGN_FEEDBACK"       missing = @("G11_DESIGN_FEEDBACK_PENDING")     }     Write-TextNoBom "state\GAP_REPORT.json" (($gap | ConvertTo-Json -Depth 10))        $naHold = New-NextActionHoldText $Gate     Write-TextNoBom "state\NEXT_ACTION.md" $naHold        $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G11_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       design_zip_sha256 = (Get-Sha256Lower $designZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc        if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        $state.next_action_hash = (Get-Sha256Lower "state\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G11_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) design_zip=$($entry.design_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }      function Do-G12 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\STATE.json"     $ledgerV2  = "state\LEDGER_v2.ndjson"     $issuesV2  = "state\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        # Write design files (ASCII-safe: payload is base64)     $htmlB64  = 'PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImZhIiBkaXI9InJ0bCI+CjxoZWFkPgogIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsaW5pdGlhbC1zY2FsZT0xLHZpZXdwb3J0LWZpdD1jb3ZlciIgLz4KICA8bWV0YSBuYW1lPSJ0aGVtZS1jb2xvciIgY29udGVudD0iIzAwYzg1MyIgLz4KICA8dGl0bGU+RGVudGFs4oCRTWluYSDigJQg2LfYsdin2K3bjCDZhdmI2KjYp9uM2YTigIzYp9mI2YQgMjAyNiAoRzEyIHY1KTwvdGl0bGU+CiAgPHN0eWxlPgogICAgOnJvb3R7CiAgICAgIC0tZ3JlZW46IzAwYzg1MzsKICAgICAgLS1iZzojMGIwZjE0OwogICAgICAtLWNhcmQ6cmdiYSgyNTUsMjU1LDI1NSwuMDYpOwogICAgICAtLXN0cm9rZTpyZ2JhKDI1NSwyNTUsMjU1LC4xMCk7CiAgICAgIC0tdGV4dDpyZ2JhKDI1NSwyNTUsMjU1LC45Mik7CiAgICAgIC0tbXV0ZWQ6cmdiYSgyNTUsMjU1LDI1NSwuNjQpOwogICAgICAtLXNoYWRvdzowIDE4cHggNjBweCByZ2JhKDAsMCwwLC41NSk7CiAgICAgIC0tcjoyMnB4OwoKICAgICAgLyogTW9kdWxlIGNvbG9ycyAoZWRpdGFibGUpICovCiAgICAgIC0tYy1zY2hlZDojMzZkMWZmOwogICAgICAtLWMtZmluOiNmZmQxNjY7CiAgICAgIC0tYy1wYXQ6IzdjNGRmZjsKICAgICAgLS1jLWxhYjojZmY0ZDhkOwogICAgICAtLWMtaW52OiMzNGM3NTk7CiAgICAgIC0tYy1jcm06I2ZmOWYwYTsKICAgICAgLS1jLWFpOiMwMGU1ZmY7CiAgICAgIC0tYy1tb3JlOiNiMGJlYzU7CiAgICB9CiAgICAqe2JveC1zaXppbmc6Ym9yZGVyLWJveH0KICAgIGh0bWwsYm9keXtoZWlnaHQ6MTAwJX0KICAgIGJvZHl7CiAgICAgIG1hcmdpbjowOyBmb250LWZhbWlseTogdWktcm91bmRlZCwgc3lzdGVtLXVpLCAtYXBwbGUtc3lzdGVtLCAiU2Vnb2UgVUkiLCBUYWhvbWEsIHNhbnMtc2VyaWY7CiAgICAgIGJhY2tncm91bmQ6IHJhZGlhbC1ncmFkaWVudCgxMjAwcHggODAwcHggYXQgMTAlIDAlLCByZ2JhKDAsMjAwLDgzLC4xNCksIHRyYW5zcGFyZW50IDU1JSksCiAgICAgICAgICAgICAgICAgIHJhZGlhbC1ncmFkaWVudCg5MDBweCA3MDBweCBhdCA5MCUgMTAlLCByZ2JhKDU0LDIwOSwyNTUsLjEyKSwgdHJhbnNwYXJlbnQgNTUlKSwKICAgICAgICAgICAgICAgICAgcmFkaWFsLWdyYWRpZW50KDkwMHB4IDgwMHB4IGF0IDcwJSA5MCUsIHJnYmEoMjU1LDc3LDE0MSwuMTApLCB0cmFuc3BhcmVudCA1NSUpLAogICAgICAgICAgICAgICAgICB2YXIoLS1iZyk7CiAgICAgIGNvbG9yOnZhcigtLXRleHQpOwogICAgfQogICAgLnNoZWxse21pbi1oZWlnaHQ6MTAwJTsgZGlzcGxheTpmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOyBwYWRkaW5nOjE0cHggMTBweCA5MnB4fQogICAgLnBob25lRnJhbWV7CiAgICAgIHdpZHRoOm1pbig0MzBweCwgMTAwJSk7CiAgICAgIGJvcmRlci1yYWRpdXM6MzJweDsKICAgICAgYm9yZGVyOm5vbmU7CiAgICAgIGJveC1zaGFkb3c6IDAgMTBweCAyNnB4IHJnYmEoMCwwLDAsLjQwKSwgMCAwIDAgMXB4IHJnYmEoMjU1LDI1NSwyNTUsLjA2KSBpbnNldDsKCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsLjIyKTsKICAgICAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93KTsKICAgICAgb3ZlcmZsb3c6aGlkZGVuOwogICAgICBwb3NpdGlvbjpyZWxhdGl2ZTsKICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDE4cHgpOwogICAgfQogICAgLnRvcGJhcnsKICAgICAgcG9zaXRpb246c3RpY2t5OyB0b3A6MDsgei1pbmRleDoyMDsKICAgICAgZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGp1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuOwogICAgICBwYWRkaW5nOjE0cHggMTRweCAxMHB4OwogICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCByZ2JhKDAsMCwwLC41NSksIHJnYmEoMCwwLDAsLjEyKSk7CiAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxNnB4KTsKICAgICAgYm9yZGVyLWJvdHRvbToxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwuMDgpOwogICAgfQogICAgLmJyYW5ke2Rpc3BsYXk6ZmxleDsgZ2FwOjEwcHg7IGFsaWduLWl0ZW1zOmNlbnRlcn0KICAgIC5sb2dvewogICAgICB3aWR0aDozOHB4OyBoZWlnaHQ6MzhweDsgYm9yZGVyLXJhZGl1czoxNHB4OwogICAgICBkaXNwbGF5OmdyaWQ7IHBsYWNlLWl0ZW1zOmNlbnRlcjsKICAgICAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAzMCUgMjUlLCByZ2JhKDU0LDIwOSwyNTUsLjU1KSwgcmdiYSgwLDAsMCwuMTgpIDUyJSksCiAgICAgICAgcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCA3MCUgNzUlLCByZ2JhKDI1NSw3NywxNDEsLjM1KSwgdHJhbnNwYXJlbnQgNjAlKSwKICAgICAgICBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2JhKDI1NSwyNTUsMjU1LC4xMiksIHJnYmEoMjU1LDI1NSwyNTUsLjA1KSk7CiAgICAgIGJvcmRlcjpub25lOwogICAgICBmb250LXdlaWdodDoxMDAwOwogICAgICBsZXR0ZXItc3BhY2luZzouNXB4OwogICAgICBib3gtc2hhZG93OiAwIDEycHggMjhweCByZ2JhKDAsMCwwLC41MCk7CiAgICB9CiAgICAuYnJhbmRUZXh0IC50MXtmb250LXdlaWdodDoxMDAwOyBmb250LXNpemU6MTRweDsgbGluZS1oZWlnaHQ6MS4xfQogICAgLmJyYW5kVGV4dCAudDJ7Zm9udC1zaXplOjEycHg7IGNvbG9yOnZhcigtLW11dGVkKX0KICAgIC50b3BBY3Rpb25ze2Rpc3BsYXk6ZmxleDsgZ2FwOjhweDsgYWxpZ24taXRlbXM6Y2VudGVyfQogICAgLmljb25CdG57CiAgICAgIHdpZHRoOjM4cHg7IGhlaWdodDozOHB4OyBib3JkZXItcmFkaXVzOjE0cHg7CiAgICAgIGJvcmRlcjpub25lOwogICAgICBib3gtc2hhZG93OiAwIDEwcHggMjZweCByZ2JhKDAsMCwwLC40NSksIDAgMCAwIDFweCByZ2JhKDI1NSwyNTUsMjU1LC4wNikgaW5zZXQ7CgogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LC4wNSk7CiAgICAgIGNvbG9yOnZhcigtLXRleHQpOwogICAgICBkaXNwbGF5OmdyaWQ7IHBsYWNlLWl0ZW1zOmNlbnRlcjsKICAgICAgY3Vyc29yOnBvaW50ZXI7CiAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAuMTJzIGVhc2UsIGJhY2tncm91bmQgLjEycyBlYXNlOwogICAgfQogICAgLmljb25CdG46YWN0aXZle3RyYW5zZm9ybTpzY2FsZSguOTgpfQogICAgLmNvbnRhaW5lcntwYWRkaW5nOjE0cHh9CiAgICAucGFnZXtkaXNwbGF5Om5vbmU7IGFuaW1hdGlvbjpmYWRlSW4gLjE4cyBlYXNlfQogICAgLnBhZ2Uub257ZGlzcGxheTpibG9ja30KICAgIEBrZXlmcmFtZXMgZmFkZUlue2Zyb217b3BhY2l0eTouMDsgdHJhbnNmb3JtOnRyYW5zbGF0ZVkoNnB4KX10b3tvcGFjaXR5OjE7IHRyYW5zZm9ybTpub25lfX0KCiAgICAuaDF7Zm9udC1zaXplOjIwcHg7IGZvbnQtd2VpZ2h0OjExMDA7IG1hcmdpbjowfQogICAgLmdyZWVue2NvbG9yOnZhcigtLWdyZWVuKX0KICAgIC5zdWJ7Y29sb3I6dmFyKC0tbXV0ZWQpOyBmb250LXNpemU6MTJweDsgbWFyZ2luLXRvcDo0cHh9CiAgICAucm93e2Rpc3BsYXk6ZmxleDsgZ2FwOjEwcHg7IGFsaWduLWl0ZW1zOnN0cmV0Y2h9CiAgICAuZ3JpZDJ7ZGlzcGxheTpncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6MWZyIDFmcjsgZ2FwOjEwcHh9CiAgICAuZ3JpZDN7ZGlzcGxheTpncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6MWZyIDFmcjsgZ2FwOjEwcHh9CgogICAgLmZlYXR1cmVDYXJkLCAuY2FyZHsKICAgICAgd2lkdGg6MTAwJTsKICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tcik7CiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsLjEwKTsKICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDE4MGRlZywgcmdiYSgyNTUsMjU1LDI1NSwuMDgpLCByZ2JhKDI1NSwyNTUsMjU1LC4wNCkpOwogICAgICBib3gtc2hhZG93OiAwIDE0cHggNDhweCByZ2JhKDAsMCwwLC4zOCk7CiAgICAgIHBhZGRpbmc6MTRweDsKICAgICAgcG9zaXRpb246cmVsYXRpdmU7CiAgICAgIG92ZXJmbG93OmhpZGRlbjsKICAgICAgY3Vyc29yOnBvaW50ZXI7CiAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAuMTJzIGVhc2UsIGJvcmRlci1jb2xvciAuMTJzIGVhc2UsIGZpbHRlciAuMTJzIGVhc2U7CiAgICB9CiAgICAuZmVhdHVyZUNhcmQ6YWN0aXZlLCAuY2FyZDphY3RpdmV7dHJhbnNmb3JtOnNjYWxlKC45OSl9CiAgICAuY2FyZFRpdGxle2Rpc3BsYXk6ZmxleDsgYWxpZ24taXRlbXM6ZmxleC1zdGFydDsganVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47IGdhcDoxMHB4fQogICAgLmJhZGdlewogICAgICBmb250LXNpemU6MTFweDsgZm9udC13ZWlnaHQ6MTAwMDsgY29sb3I6cmdiYSgwLDAsMCwuNzgpOwogICAgICBwYWRkaW5nOjZweCAxMHB4OyBib3JkZXItcmFkaXVzOjk5OXB4OwogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LC44OCk7CiAgICB9CgogICAgLmNoaXB7CiAgICAgIGZvbnQtc2l6ZToxMXB4OwogICAgICBwYWRkaW5nOjZweCAxMHB4OwogICAgICBib3JkZXItcmFkaXVzOjk5OXB4OwogICAgICBib3JkZXI6bm9uZTsKICAgICAgYm94LXNoYWRvdzogMCAxMHB4IDI2cHggcmdiYSgwLDAsMCwuNDApLCAwIDAgMCAxcHggcmdiYSgyNTUsMjU1LDI1NSwuMDYpIGluc2V0OwoKICAgICAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwuMTgpOwogICAgICBjb2xvcjp2YXIoLS1tdXRlZCk7CiAgICAgIHdoaXRlLXNwYWNlOm5vd3JhcDsKICAgIH0KCiAgICAuZmVhdHVyZUNhcmQgLmgye21hcmdpbjoxMHB4IDAgNnB4OyBmb250LXdlaWdodDoxMTAwOyBmb250LXNpemU6MTZweH0KICAgIC5kZXNje2NvbG9yOnZhcigtLW11dGVkKTsgZm9udC1zaXplOjEycHg7IGxpbmUtaGVpZ2h0OjEuNDV9CiAgICAuY3Rhe21hcmdpbi10b3A6MTBweDsgZm9udC13ZWlnaHQ6MTAwMDsgZm9udC1zaXplOjEycHh9CgogICAgLmFjY2VudHsKICAgICAgcG9zaXRpb246YWJzb2x1dGU7IGluc2V0Oi0xMjBweCAtMTIwcHggYXV0byBhdXRvOwogICAgICB3aWR0aDoyNDBweDsgaGVpZ2h0OjI0MHB4OyBib3JkZXItcmFkaXVzOjUwJTsKICAgICAgZmlsdGVyOiBibHVyKDBweCk7CiAgICAgIG9wYWNpdHk6LjM2OwogICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgxMmRlZyk7CiAgICB9CgogICAgLyogTW9kdWxlIGFjY2VudCBoZWxwZXJzICovCiAgICAuY1NjaGVkIC5hY2NlbnR7YmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAzMCUgMjUlLCB2YXIoLS1jLXNjaGVkKSwgdHJhbnNwYXJlbnQgNjAlKX0KICAgIC5jRmluIC5hY2NlbnR7YmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAzMCUgMjUlLCB2YXIoLS1jLWZpbiksIHRyYW5zcGFyZW50IDYwJSl9CiAgICAuY1BhdCAuYWNjZW50e2JhY2tncm91bmQ6IHJhZGlhbC1ncmFkaWVudChjaXJjbGUgYXQgMzAlIDI1JSwgdmFyKC0tYy1wYXQpLCB0cmFuc3BhcmVudCA2MCUpfQogICAgLmNMYWIgLmFjY2VudHtiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IDMwJSAyNSUsIHZhcigtLWMtbGFiKSwgdHJhbnNwYXJlbnQgNjAlKX0KICAgIC5jQUkgLmFjY2VudHtiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IDMwJSAyNSUsIHZhcigtLWMtYWkpLCB0cmFuc3BhcmVudCA2MCUpfQoKICAgIC8qIEVtb3RpdmUgaWNvbnMgKi8KICAgIC8qIFN0aWNrZXItZ3JhZGUsIG11bHRpLWNvbG9yIGljb25zIChubyB1cC9kb3duIG1vdmVtZW50KSAqLwogICAgLmVtb3RpdmV7d2lkdGg6MzBweDtoZWlnaHQ6MzBweH0KICAgIC5pY29uQmxvYntpc29sYXRpb246aXNvbGF0ZX0KICAgIC5pY29uQmxvYiAuZW1vdGl2ZXthbmltYXRpb246IGJsaW5rIDUuOHMgZWFzZS1pbi1vdXQgaW5maW5pdGV9CiAgICAuaWNvbkJsb2I6YWN0aXZlIC5lbW90aXZle3RyYW5zZm9ybTpzY2FsZSguOTgpfQogICAgLnRhYiAudEkgc3Zne3dpZHRoOjIycHg7aGVpZ2h0OjIycHg7ZGlzcGxheTpibG9ja30KICAgIC50SXtkaXNwbGF5OmdyaWQ7cGxhY2UtaXRlbXM6Y2VudGVyfQogICAgLmZlYXR1cmVDYXJkIC5pY29uQmxvYnttYXJnaW4tdG9wOi0ycHh9CiAgICAuZmVhdHVyZUNhcmQgLmgxe2xpbmUtaGVpZ2h0OjEuMDV9CiAgICAuZmVhdHVyZUNhcmQgLmRlc2N7bWFyZ2luLXRvcDoxMHB4fQogICAgLnRhYiAudEl7bWFyZ2luLWJvdHRvbToycHh9CgogICAgCiAgICAuaWNvbkJsb2J7CiAgICAgIHdpZHRoOjQ2cHg7IGhlaWdodDo0NnB4OyBib3JkZXItcmFkaXVzOjE4cHg7CiAgICAgIGJvcmRlcjpub25lOwogICAgICBib3gtc2hhZG93OiAwIDEwcHggMjZweCByZ2JhKDAsMCwwLC40MCksIDAgMCAwIDFweCByZ2JhKDI1NSwyNTUsMjU1LC4wNikgaW5zZXQ7CgogICAgICBkaXNwbGF5OmdyaWQ7IHBsYWNlLWl0ZW1zOmNlbnRlcjsKICAgICAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAyOCUgMjIlLCByZ2JhKDI1NSwyNTUsMjU1LC4xNiksIHRyYW5zcGFyZW50IDYwJSksCiAgICAgICAgcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCA3MCUgODIlLCByZ2JhKDI1NSwyNTUsMjU1LC4wOCksIHRyYW5zcGFyZW50IDYwJSksCiAgICAgICAgbGluZWFyLWdyYWRpZW50KDE0NWRlZywgcmdiYSgyNTUsMjU1LDI1NSwuMTApLCByZ2JhKDAsMCwwLC4yMikpOwogICAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCk7CgogICAgICBwb3NpdGlvbjpyZWxhdGl2ZTsKICAgICAgb3ZlcmZsb3c6aGlkZGVuOwogICAgfQogICAgLmljb25CbG9iOjpiZWZvcmV7CiAgICAgIGNvbnRlbnQ6IiI7CiAgICAgIHBvc2l0aW9uOmFic29sdXRlOyBpbnNldDotMzBweDsKICAgICAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAzMCUgMjUlLCByZ2JhKDI1NSwyNTUsMjU1LC4xOCksIHRyYW5zcGFyZW50IDYwJSk7CiAgICAgIGFuaW1hdGlvbjogZmxvYXR5IDQuNnMgZWFzZS1pbi1vdXQgaW5maW5pdGU7CiAgICAgIG9wYWNpdHk6Ljg7CiAgICB9CiAgICBAa2V5ZnJhbWVzIGZsb2F0eXswJSwxMDAle3RyYW5zZm9ybTpyb3RhdGUoMGRlZykgc2NhbGUoMSl9NTAle3RyYW5zZm9ybTpyb3RhdGUoLTZkZWcpIHNjYWxlKDEuMDMpfX0KICAgIC5zdmdJY29ue3dpZHRoOjI4cHg7IGhlaWdodDoyOHB4OyBwb3NpdGlvbjpyZWxhdGl2ZTsgei1pbmRleDoxfQogICAgLndpZ2dsZXthbmltYXRpb246IHdpZ2dsZSAzLjJzIGVhc2UtaW4tb3V0IGluZmluaXRlfQogICAgQGtleWZyYW1lcyB3aWdnbGV7MCUsMTAwJXt0cmFuc2Zvcm06cm90YXRlKDApfTUwJXt0cmFuc2Zvcm06cm90YXRlKC02ZGVnKX19CiAgICAuYm91bmNle2FuaW1hdGlvbjogYm91bmNlIDIuNnMgZWFzZS1pbi1vdXQgaW5maW5pdGV9CiAgICBAa2V5ZnJhbWVzIGJvdW5jZXswJSwxMDAle3RyYW5zZm9ybTpzY2FsZSgxKX01MCV7dHJhbnNmb3JtOnNjYWxlKDEuMDYpfX0KICAgIC5ibGlua3thbmltYXRpb246IGJsaW5rIDUuMnMgZWFzZS1pbi1vdXQgaW5maW5pdGV9CiAgICBAa2V5ZnJhbWVzIGJsaW5rezAlLDk2JSwxMDAle3RyYW5zZm9ybTpzY2FsZVkoMSl9OTcle3RyYW5zZm9ybTpzY2FsZVkoLjEpfX0KCiAgICAvKiBUYWJzIChuYXRpdmUgaVBob25lIGZlZWwpICovCiAgICAudGFiYmFyewogICAgICBwb3NpdGlvbjpmaXhlZDsKICAgICAgbGVmdDogbWF4KDEwcHgsIGVudihzYWZlLWFyZWEtaW5zZXQtbGVmdCkpOwogICAgICByaWdodDogbWF4KDEwcHgsIGVudihzYWZlLWFyZWEtaW5zZXQtcmlnaHQpKTsKICAgICAgYm90dG9tOiBtYXgoMTBweCwgZW52KHNhZmUtYXJlYS1pbnNldC1ib3R0b20pKTsKICAgICAgaGVpZ2h0OjY2cHg7CiAgICAgIGJvcmRlci1yYWRpdXM6MjRweDsKICAgICAgYm9yZGVyOm5vbmU7CiAgICAgIGJveC1zaGFkb3c6IDAgMTBweCAyNnB4IHJnYmEoMCwwLDAsLjQwKSwgMCAwIDAgMXB4IHJnYmEoMjU1LDI1NSwyNTUsLjA2KSBpbnNldDsKCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsLjI2KTsKICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDE4cHgpOwogICAgICBkaXNwbGF5OmdyaWQ7CiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDUsIDFmcik7CiAgICAgIG92ZXJmbG93OmhpZGRlbjsKICAgICAgYm94LXNoYWRvdzogMCAxOHB4IDYwcHggcmdiYSgwLDAsMCwuNTUpOwogICAgICB6LWluZGV4OjMwOwogICAgICBtYXgtd2lkdGg6NDMwcHg7CiAgICAgIG1hcmdpbjowIGF1dG87CiAgICB9CiAgICBAbWVkaWEgKG1pbi13aWR0aDogNzIwcHgpewogICAgICAudGFiYmFye2xlZnQ6MDsgcmlnaHQ6MH0KICAgIH0KICAgIC50YWJ7CiAgICAgIGJvcmRlcjpub25lOyBiYWNrZ3JvdW5kOnRyYW5zcGFyZW50OwogICAgICBjb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LC42Mik7CiAgICAgIGZvbnQtd2VpZ2h0OjEwMDA7IGZvbnQtc2l6ZToxMXB4OwogICAgICBkaXNwbGF5OmZsZXg7IGZsZXgtZGlyZWN0aW9uOmNvbHVtbjsKICAgICAgYWxpZ24taXRlbXM6Y2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOwogICAgICBnYXA6NHB4OwogICAgICBjdXJzb3I6cG9pbnRlcjsKICAgICAgdHJhbnNpdGlvbjogY29sb3IgLjEycyBlYXNlLCB0cmFuc2Zvcm0gLjEycyBlYXNlOwogICAgfQogICAgLnRhYiAudEl7d2lkdGg6MjRweDsgaGVpZ2h0OjI0cHg7IGRpc3BsYXk6Z3JpZDsgcGxhY2UtaXRlbXM6Y2VudGVyfQogICAgLnRhYi5vbntjb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LC45NCl9CiAgICAudGFiLm9uIC50SXt0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTFweCl9CiAgICAudGFiOmFjdGl2ZXt0cmFuc2Zvcm06c2NhbGUoLjk4KX0KICAgIC50YWJEb3R7CiAgICAgIHdpZHRoOjZweDsgaGVpZ2h0OjZweDsgYm9yZGVyLXJhZGl1czo1MCU7CiAgICAgIGJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7CiAgICB9CiAgICAudGFiLm9uIC50YWJEb3R7YmFja2dyb3VuZDp2YXIoLS1ncmVlbil9CgogICAgLyogTGF5b3V0IHRvZ2dsZXMgKi8KICAgIC5zZWd7CiAgICAgIGRpc3BsYXk6ZmxleDsgZ2FwOjZweDsKICAgICAgYm9yZGVyOm5vbmU7CiAgICAgIGJveC1zaGFkb3c6IDAgMTBweCAyNnB4IHJnYmEoMCwwLDAsLjQwKSwgMCAwIDAgMXB4IHJnYmEoMjU1LDI1NSwyNTUsLjA2KSBpbnNldDsKCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsLjE2KTsKICAgICAgYm9yZGVyLXJhZGl1czo5OTlweDsKICAgICAgcGFkZGluZzo0cHg7CiAgICB9CiAgICAuc2VnIGJ1dHRvbnsKICAgICAgYm9yZGVyOm5vbmU7IGJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7IGNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsLjY4KTsKICAgICAgZm9udC13ZWlnaHQ6MTAwMDsgZm9udC1zaXplOjExcHg7CiAgICAgIHBhZGRpbmc6OHB4IDEwcHg7CiAgICAgIGJvcmRlci1yYWRpdXM6OTk5cHg7CiAgICAgIGN1cnNvcjpwb2ludGVyOwogICAgfQogICAgLnNlZyBidXR0b24ub257CiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsLjEyKTsKICAgICAgY29sb3I6cmdiYSgyNTUsMjU1LDI1NSwuOTQpOwogICAgfQogICAgLmxpc3R7ZGlzcGxheTpmbGV4OyBmbGV4LWRpcmVjdGlvbjpjb2x1bW47IGdhcDoxMHB4fQogICAgLnR3b0NvbHtkaXNwbGF5OmdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczoxZnIgMWZyOyBnYXA6MTBweH0KCiAgICAvKiBDaGVja2xpc3QgKi8KICAgIC5wcm9ncmVzc1dyYXB7ZGlzcGxheTpmbGV4OyBnYXA6MTBweDsgYWxpZ24taXRlbXM6Y2VudGVyOyBtYXJnaW4tdG9wOjEwcHh9CiAgICAuYmFye2ZsZXg6MTsgaGVpZ2h0OjEwcHg7IGJvcmRlci1yYWRpdXM6OTk5cHg7IGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsLjA4KTsgYm9yZGVyOm5vbmU7CiAgICAgIGJveC1zaGFkb3c6IDAgMTBweCAyNnB4IHJnYmEoMCwwLDAsLjQ1KSwgMCAwIDAgMXB4IHJnYmEoMjU1LDI1NSwyNTUsLjA2KSBpbnNldDsKIG92ZXJmbG93OmhpZGRlbn0KICAgIC5iYXIgPiBkaXZ7aGVpZ2h0OjEwMCU7IHdpZHRoOjAlOyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIHZhcigtLWdyZWVuKSwgcmdiYSg1NCwyMDksMjU1LC45KSwgcmdiYSgyNTUsMjA5LDEwMiwuOSkpOyBib3JkZXItcmFkaXVzOjk5OXB4fQogICAgLnBjdHtmb250LXNpemU6MTJweDsgZm9udC13ZWlnaHQ6MTAwMDsgY29sb3I6dmFyKC0tbXV0ZWQpOyB3aGl0ZS1zcGFjZTpub3dyYXB9CgogICAgLmNoZWNrbGlzdHttYXJnaW4tdG9wOjEycHg7IGRpc3BsYXk6ZmxleDsgZmxleC1kaXJlY3Rpb246Y29sdW1uOyBnYXA6OHB4fQogICAgLmNoZWNrUm93ewogICAgICBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmZsZXgtc3RhcnQ7IGdhcDoxMHB4OwogICAgICBwYWRkaW5nOjEwcHggMTBweDsKICAgICAgYm9yZGVyLXJhZGl1czoxOHB4OwogICAgICBib3JkZXI6bm9uZTsKICAgICAgYm94LXNoYWRvdzogMCAxMHB4IDI2cHggcmdiYSgwLDAsMCwuNDUpLCAwIDAgMCAxcHggcmdiYSgyNTUsMjU1LDI1NSwuMDYpIGluc2V0OwoKICAgICAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwuMTYpOwogICAgfQogICAgLmNoZWNrUm93IGlucHV0e21hcmdpbi10b3A6MnB4OyB3aWR0aDoxOHB4OyBoZWlnaHQ6MThweH0KICAgIC5jaGVja01haW57ZmxleDoxfQogICAgLmNoZWNrVGl0bGV7Zm9udC13ZWlnaHQ6MTEwMDsgZm9udC1zaXplOjEycHh9CiAgICAuY2hlY2tNZXRhe2NvbG9yOnZhcigtLW11dGVkKTsgZm9udC1zaXplOjExcHg7IG1hcmdpbi10b3A6M3B4fQogICAgLm1pbmlGYWNle3dpZHRoOjIycHg7IGhlaWdodDoyMnB4OyBib3JkZXItcmFkaXVzOjEwcHg7IGJvcmRlcjpub25lOwogICAgICBib3gtc2hhZG93OiAwIDEwcHggMjZweCByZ2JhKDAsMCwwLC40MCksIDAgMCAwIDFweCByZ2JhKDI1NSwyNTUsMjU1LC4wNikgaW5zZXQ7CiBkaXNwbGF5OmdyaWQ7IHBsYWNlLWl0ZW1zOmNlbnRlcjsgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwuMDYpfQogICAgLmhpbnR7Y29sb3I6dmFyKC0tbXV0ZWQpOyBmb250LXNpemU6MTJweDsgbGluZS1oZWlnaHQ6MS41NX0KCiAgICAvKiBSZWR1Y2VkIG1vdGlvbiAqLwogICAgQG1lZGlhIChwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpewogICAgICAud2lnZ2xlLC5ib3VuY2UsLmJsaW5rLC5pY29uQmxvYjo6YmVmb3Jle2FuaW1hdGlvbjpub25lfQogICAgICAucGFnZXthbmltYXRpb246bm9uZX0KICAgIH0KICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgogIDxkaXYgY2xhc3M9InNoZWxsIj4KICAgIDxkaXYgY2xhc3M9InBob25lRnJhbWUiIGlkPSJmcmFtZSI+CiAgICAgIDxoZWFkZXIgY2xhc3M9InRvcGJhciI+CiAgICAgICAgPGRpdiBjbGFzcz0iYnJhbmQiPgogICAgICAgICAgPGRpdiBjbGFzcz0ibG9nbyIgYXJpYS1oaWRkZW49InRydWUiPkRNPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJicmFuZFRleHQiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0MSI+RGVudGFs4oCRTWluYTwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0MiI+2YXZiNio2KfbjNmE4oCM2KfZiNmEIOKAoiBpT1MyNiDigKIg2LHZhtqv24wv2YXYrNiy2Kcg4oCiINit2LPigIzYr9in2LEgKNmG2YXZiNmG2YcpPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJ0b3BBY3Rpb25zIj4KICAgICAgICAgIDxidXR0b24gY2xhc3M9Imljb25CdG4iIHR5cGU9ImJ1dHRvbiIgdGl0bGU9ItmG2YXYp9uM2LQg2YXZiNio2KfbjNmEIiBpZD0idG9nZ2xlRnJhbWUiPvCfk7E8L2J1dHRvbj4KICAgICAgICAgIDxidXR0b24gY2xhc3M9Imljb25CdG4iIHR5cGU9ImJ1dHRvbiIgdGl0bGU9Itix2Ybar+KAjNmH2KciIGRhdGEtZ289Im1vcmUiPvCfjqg8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9oZWFkZXI+CgogICAgICA8bWFpbiBjbGFzcz0iY29udGFpbmVyIiBpZD0iYXBwIiBhcmlhLWxpdmU9InBvbGl0ZSI+CiAgICAgICAgPCEtLSBIT01FIC0tPgogICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYWdlIG9uIiBkYXRhLXJvdXRlPSJob21lIiBhcmlhLWxhYmVsPSLYr9in2LTYqNmI2LHYryI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJwYWdlSGVhZGVyIj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJoMSBncmVlbiI+2K/Yp9i02KjZiNix2K88L2gxPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdWIiPtu0INio2K7YtCDYp9i12YTbjCArINuyINio2K7YtCDYqNix2KzYs9iq2Yc6INmG2YjYqNiq4oCM2K/Zh9uMINmIINmF2KfZhNuMPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICA8ZGl2IGNsYXNzPSJyb3ciIHN0eWxlPSJtYXJnaW4tdG9wOjEycHgiPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJmZWF0dXJlQ2FyZCBjU2NoZWQiIHR5cGU9ImJ1dHRvbiIgZGF0YS1nbz0ic2NoZWR1bGUiIGFyaWEtbGFiZWw9ItmG2YjYqNiq4oCM2K/Zh9uMIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhY2NlbnQiPjwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRUaXRsZSI+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7IGdhcDoxMHB4OyBhbGlnbi1pdGVtczpjZW50ZXIiPgogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpY29uQmxvYiI+PHN2ZyBjbGFzcz0ic3ZnSWNvbiBlbW90aXZlIiB2aWV3Qm94PSIwIDAgNjQgNjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgYXJpYS1oaWRkZW49InRydWUiPgogIDxkZWZzPgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJnX3NjaGVkdWxlIiB4MT0iNiIgeTE9IjYiIHgyPSI1OCIgeTI9IjU4IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzM2ZDFmZiIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjAuNTUiIHN0b3AtY29sb3I9IiMwMGM4NTMiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmY0ZDhkIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGZpbHRlciBpZD0iZl9zY2hlZHVsZSIgeD0iLTMwJSIgeT0iLTMwJSIgd2lkdGg9IjE2MCUiIGhlaWdodD0iMTYwJSI+CiAgICAgIDxmZURyb3BTaGFkb3cgZHg9IjAiIGR5PSIyIiBzdGREZXZpYXRpb249IjIuOCIgZmxvb2QtY29sb3I9InJnYmEoMCwwLDAsLjU1KSIvPgogICAgICA8ZmVEcm9wU2hhZG93IGR4PSIwIiBkeT0iMCIgc3RkRGV2aWF0aW9uPSI2IiBmbG9vZC1jb2xvcj0iIzAwYzg1MyIgZmxvb2Qtb3BhY2l0eT0iLjI1Ii8+CiAgICA8L2ZpbHRlcj4KICA8L2RlZnM+CiAgPGcgZmlsdGVyPSJ1cmwoI2Zfc2NoZWR1bGUpIj4KCiAgPHJlY3QgeD0iMTYiIHk9IjE4IiB3aWR0aD0iMzIiIGhlaWdodD0iMzAiIHJ4PSI5IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LC4wNSkiIHN0cm9rZT0idXJsKCNnX3NjaGVkdWxlKSIgc3Ryb2tlLXdpZHRoPSIzIi8+CiAgPHBhdGggZD0iTTI0IDE0djhNNDAgMTR2OCIgc3Ryb2tlPSJ1cmwoI2dfc2NoZWR1bGUpIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgogIDxwYXRoIGQ9Ik0xNiAyNmgzMiIgc3Ryb2tlPSJ1cmwoI2dfc2NoZWR1bGUpIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgb3BhY2l0eT0iLjk1Ii8+CiAgPHBhdGggZD0iTTI1IDM3YzIuNSAzIDExLjUgMyAxNCAwIiBzdHJva2U9InVybCgjZ19zY2hlZHVsZSkiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CiAgPGNpcmNsZSBjeD0iMjcuNSIgY3k9IjMzIiByPSIyLjIiIGZpbGw9InVybCgjZ19zY2hlZHVsZSkiLz4KICA8Y2lyY2xlIGN4PSIzOC41IiBjeT0iMzMiIHI9IjIuMiIgZmlsbD0idXJsKCNnX3NjaGVkdWxlKSIvPgoKICA8L2c+Cjwvc3ZnPjwvZGl2PgogICAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImgxIGdyZWVuIiBzdHlsZT0iZm9udC1zaXplOjE2cHg7IG1hcmdpbjowIj7ZhtmI2KjYquKAjNiv2YfbjDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN1YiI+2KrZgtmI24zZhSDYsdmI2LLYp9mG2Ycg4oCiINmE24zYs9iqINin2YbYqti42KfYsSDigKIg24zZiNmG24zYquKAjNmH2Kc8L2Rpdj4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJhZGdlIj7YqNix2KzYs9iq2Ycg27E8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwcm9ncmVzc1dyYXAiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYmFyIj48ZGl2IGRhdGEtcHJvZz0ic2NoZWQiPjwvZGl2PjwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icGN0IiBkYXRhLXBjdD0ic2NoZWQiPjAlPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY3RhIj7YqNin2LIg2qnYsdiv2YYg2LXZgdit2Yc8L2Rpdj4KICAgICAgICAgICAgPC9idXR0b24+CgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJmZWF0dXJlQ2FyZCBjRmluIiB0eXBlPSJidXR0b24iIGRhdGEtZ289ImZpbmFuY2UiIGFyaWEtbGFiZWw9ItmF2KfZhNuMIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhY2NlbnQiPjwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRUaXRsZSI+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7IGdhcDoxMHB4OyBhbGlnbi1pdGVtczpjZW50ZXIiPgogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpY29uQmxvYiI+PHN2ZyBjbGFzcz0ic3ZnSWNvbiBlbW90aXZlIiB2aWV3Qm94PSIwIDAgNjQgNjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgYXJpYS1oaWRkZW49InRydWUiPgogIDxkZWZzPgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJnX2ZpbmFuY2UiIHgxPSI2IiB5MT0iNiIgeDI9IjU4IiB5Mj0iNTgiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZkMTY2Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iMC41NSIgc3RvcC1jb2xvcj0iIzAwYzg1MyIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM3YzRkZmYiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8ZmlsdGVyIGlkPSJmX2ZpbmFuY2UiIHg9Ii0zMCUiIHk9Ii0zMCUiIHdpZHRoPSIxNjAlIiBoZWlnaHQ9IjE2MCUiPgogICAgICA8ZmVEcm9wU2hhZG93IGR4PSIwIiBkeT0iMiIgc3RkRGV2aWF0aW9uPSIyLjgiIGZsb29kLWNvbG9yPSJyZ2JhKDAsMCwwLC41NSkiLz4KICAgICAgPGZlRHJvcFNoYWRvdyBkeD0iMCIgZHk9IjAiIHN0ZERldmlhdGlvbj0iNiIgZmxvb2QtY29sb3I9IiMwMGM4NTMiIGZsb29kLW9wYWNpdHk9Ii4yNSIvPgogICAgPC9maWx0ZXI+CiAgPC9kZWZzPgogIDxnIGZpbHRlcj0idXJsKCNmX2ZpbmFuY2UpIj4KCiAgPHJlY3QgeD0iMTUiIHk9IjE5IiB3aWR0aD0iMzQiIGhlaWdodD0iMjYiIHJ4PSIxMCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuMDUpIiBzdHJva2U9InVybCgjZ19maW5hbmNlKSIgc3Ryb2tlLXdpZHRoPSIzIi8+CiAgPHBhdGggZD0iTTIwIDI4aDE4IiBzdHJva2U9InVybCgjZ19maW5hbmNlKSIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIG9wYWNpdHk9Ii45NSIvPgogIDxjaXJjbGUgY3g9IjQxIiBjeT0iMzIiIHI9IjYuOCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuMDQpIiBzdHJva2U9InVybCgjZ19maW5hbmNlKSIgc3Ryb2tlLXdpZHRoPSIzIi8+CiAgPHBhdGggZD0iTTM4LjcgMzQuNWMxLjcgMiA0IDIgNS43IDAiIHN0cm9rZT0idXJsKCNnX2ZpbmFuY2UpIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgogIDxjaXJjbGUgY3g9IjM5LjYiIGN5PSIzMS4zIiByPSIxLjYiIGZpbGw9InVybCgjZ19maW5hbmNlKSIvPgogIDxjaXJjbGUgY3g9IjQ0LjQiIGN5PSIzMS4zIiByPSIxLjYiIGZpbGw9InVybCgjZ19maW5hbmNlKSIvPgoKICA8L2c+Cjwvc3ZnPjwvZGl2PgogICAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImgxIGdyZWVuIiBzdHlsZT0iZm9udC1zaXplOjE2cHg7IG1hcmdpbjowIj7Zhdin2YTbjDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN1YiI+UE9TL9mG2YLYry/ahtqpL9mC2LPYtyDigKIg2YfYtNiv2KfYsSDYs9ix2LHYs9uM2K88L2Rpdj4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJhZGdlIj7YqNix2KzYs9iq2Ycg27I8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwcm9ncmVzc1dyYXAiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYmFyIj48ZGl2IGRhdGEtcHJvZz0iZmluIj48L2Rpdj48L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InBjdCIgZGF0YS1wY3Q9ImZpbiI+MCU8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdGEiPtio2KfYsiDaqdix2K/ZhiDYtdmB2K3ZhzwvZGl2PgogICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgIDxkaXYgY2xhc3M9ImdyaWQyIiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4Ij4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iY2FyZCBjUGF0IiB0eXBlPSJidXR0b24iIGRhdGEtZ289InBhdGllbnRzIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhY2NlbnQiPjwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRUaXRsZSI+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7IGdhcDoxMHB4OyBhbGlnbi1pdGVtczpjZW50ZXIiPgogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpY29uQmxvYiI+PHN2ZyBjbGFzcz0ic3ZnSWNvbiBibGluayIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIgM2MzLjggMCA2LjUgMi4zIDYuNSA2LjIgMCAyLjgtMS41IDUuOC0yLjUgOC0xIDIuMi0yLjYgMy44LTQgMy44cy0zLTEuNi00LTMuOGMtMS0yLjItMi41LTUuMi0yLjUtOEM1LjUgNS4zIDguMiAzIDEyIDNaIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiIG9wYWNpdHk9Ii45Ii8+CiAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD0iOS4yIiBjeT0iMTAuMiIgcj0iMSIgZmlsbD0id2hpdGUiIG9wYWNpdHk9Ii44Ii8+CiAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD0iMTQuOCIgY3k9IjEwLjIiIHI9IjEiIGZpbGw9IndoaXRlIiBvcGFjaXR5PSIuOCIvPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05LjIgMTMuM2MuOSAxIDEuOCAxLjUgMi44IDEuNXMxLjktLjUgMi44LTEuNSIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIG9wYWNpdHk9Ii44Ii8+CiAgICAgICAgICAgICAgICAgIDwvc3ZnPjwvZGl2PgogICAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImgxIGdyZWVuIiBzdHlsZT0iZm9udC1zaXplOjE1cHg7IG1hcmdpbjowIj7YqNuM2YXYp9ix2KfZhjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN1YiI+2b7YsdmI2YbYr9mHIOKAoiDahtin2LHYqiDigKIg2K/Yp9iv2YfigIzZh9in24wg2LLbjNin2K8v2YbYp9mC2LU8L2Rpdj4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNoaXAiPtmC2KfYqNmEINiq2LrbjNuM2LE8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdGEiPtio2KfYsiDaqdix2K/ZhiDYtdmB2K3ZhzwvZGl2PgogICAgICAgICAgICA8L2J1dHRvbj4KCiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImNhcmQgY0xhYiIgdHlwZT0iYnV0dG9uIiBkYXRhLWdvPSJsYWIiPgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjY2VudCI+PC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZFRpdGxlIj4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDsgZ2FwOjEwcHg7IGFsaWduLWl0ZW1zOmNlbnRlciI+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Imljb25CbG9iIj48c3ZnIGNsYXNzPSJzdmdJY29uIGJvdW5jZSIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTAgM3Y2bC01IDlhMyAzIDAgMCAwIDIuNiA0LjVoOC44QTMgMyAwIDAgMCAxOSAxOGwtNS05VjMiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMiIgb3BhY2l0eT0iLjkiLz4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOSAxNGg2IiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgb3BhY2l0eT0iLjgiLz4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOC42IDE3aDYuOCIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIG9wYWNpdHk9Ii43Ii8+CiAgICAgICAgICAgICAgICAgIDwvc3ZnPjwvZGl2PgogICAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImgxIGdyZWVuIiBzdHlsZT0iZm9udC1zaXplOjE1cHg7IG1hcmdpbjowIj7ZhNin2KjYsdin2KrZiNin2LE8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdWIiPtin2LHYs9in2YQv2K/YsduM2KfZgdiqIOKAoiDZiNi22LnbjNiq4oCM2YfYpzwvZGl2PgogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hpcCI+2LXZgdit2Ycg2YXYs9iq2YLZhDwvZGl2PgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImN0YSI+2KjYp9iyINqp2LHYr9mGINi12YHYrdmHPC9kaXY+CiAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgPC9kaXY+CgogICAgICAgICAgPGRpdiBjbGFzcz0iZ3JpZDIiIHN0eWxlPSJtYXJnaW4tdG9wOjEwcHgiPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJjYXJkIGNBSSIgdHlwZT0iYnV0dG9uIiBkYXRhLWdvPSJpbm5vdmF0aW9uIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhY2NlbnQiPjwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRUaXRsZSI+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7IGdhcDoxMHB4OyBhbGlnbi1pdGVtczpjZW50ZXIiPgogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpY29uQmxvYiI+PHN2ZyBjbGFzcz0ic3ZnSWNvbiB3aWdnbGUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEyIDJhNyA3IDAgMCAwLTQgMTIuN1YxOGEyIDIgMCAwIDAgMiAyaDRhMiAyIDAgMCAwIDItMnYtMy4zQTcgNyAwIDAgMCAxMiAyWiIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBvcGFjaXR5PSIuOSIvPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05IDIyaDYiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBvcGFjaXR5PSIuODUiLz4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOS41IDEwLjUgMTIgMTNsMi41LTIuNSIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIG9wYWNpdHk9Ii44NSIvPgogICAgICAgICAgICAgICAgICA8L3N2Zz48L2Rpdj4KICAgICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJoMSBncmVlbiIgc3R5bGU9ImZvbnQtc2l6ZToxNXB4OyBtYXJnaW46MCI+2YbZiNii2YjYsduMPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3ViIj5BSSDigKIg2KfYqtmI2YXYp9iz24zZiNmGIOKAoiDYp9uM2K/Zh+KAjNmH2Kc8L2Rpdj4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNoaXAiPjIwMjY8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdGEiPtio2KfYsiDaqdix2K/ZhiDYtdmB2K3ZhzwvZGl2PgogICAgICAgICAgICA8L2J1dHRvbj4KCiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImNhcmQiIHR5cGU9ImJ1dHRvbiIgZGF0YS1nbz0ibW9yZSI+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWNjZW50IiBzdHlsZT0iYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAzMCUgMjUlLCByZ2JhKDE3NiwxOTAsMTk3LC45KSwgdHJhbnNwYXJlbnQgNjAlKSI+PC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZFRpdGxlIj4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDsgZ2FwOjEwcHg7IGFsaWduLWl0ZW1zOmNlbnRlciI+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Imljb25CbG9iIj48c3ZnIGNsYXNzPSJzdmdJY29uIGJsaW5rIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMiAxNS41YTMuNSAzLjUgMCAxIDAgMC03IDMuNSAzLjUgMCAwIDAgMCA3WiIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBvcGFjaXR5PSIuOSIvPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xOS40IDE1YTggOCAwIDAgMCAuMS02IiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgb3BhY2l0eT0iLjciLz4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNC41IDlhOCA4IDAgMCAwIC4xIDYiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBvcGFjaXR5PSIuNyIvPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNi41IDE5LjNhOCA4IDAgMCAxLTkgMCIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIG9wYWNpdHk9Ii43Ii8+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNSA0LjdhOCA4IDAgMCAxIDkgMCIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIG9wYWNpdHk9Ii43Ii8+CiAgICAgICAgICAgICAgICAgIDwvc3ZnPjwvZGl2PgogICAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImgxIGdyZWVuIiBzdHlsZT0iZm9udC1zaXplOjE1cHg7IG1hcmdpbjowIj7YqNuM2LTYqtixPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3ViIj7YsdmG2q/igIzZh9inIOKAoiDahtuM2K/Zhdin2YYg4oCiINqG2qnigIzZhNuM2LPYqiDbsC3bsduw27A8L2Rpdj4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNoaXAiPtiq2YbYuNuM2YXYp9iqPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY3RhIj7YqNin2LIg2qnYsdiv2YYg2LXZgdit2Yc8L2Rpdj4KICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgIDwhLS0gU0NIRURVTEUgLS0+CiAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhZ2UiIGRhdGEtcm91dGU9InNjaGVkdWxlIiBhcmlhLWxhYmVsPSLZhtmI2KjYquKAjNiv2YfbjCI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJwYWdlSGVhZGVyIj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJoMSBncmVlbiI+2YbZiNio2KrigIzYr9mH24w8L2gxPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdWIiPti12YHYrdmHINmF2LPYqtmC2YQgKNmF2KvZhCDYp9m+INii24zZgdmI2YYpIOKAlCDYsdmG2q8g2KfYrtiq2LXYp9i124wgKyDYrdiz4oCM2K/Yp9ixPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQgY1NjaGVkIiBzdHlsZT0ibWFyZ2luLXRvcDoxMnB4Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWNjZW50Ij48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZFRpdGxlIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJoMSBncmVlbiIgc3R5bGU9ImZvbnQtc2l6ZToxNnB4Ij7YqtmC2YjbjNmFINix2YjYstin2YbZhyAo2YbZhdmI2YbZhyk8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjaGlwIj7Yp9iz2qnYsdmI2YQg2YbYsdmFPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJkZXNjIj7YotuM2KrZheKAjNmH2KfbjCDZhtmF2YjZhtmHOiAwOTowMCDZhdi52KfbjNmG2Ycg4oCiIDEwOjMwINiq2LHZhduM2YUg4oCiIDEyOjAwINin24zZhdm+2YTZhtiqPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9ImdyaWQyIiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCBjU2NoZWQiPgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjY2VudCI+PC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZFRpdGxlIj48ZGl2IGNsYXNzPSJoMSBncmVlbiIgc3R5bGU9ImZvbnQtc2l6ZToxNXB4Ij7bjNmI2YbbjNiq4oCM2YfYpzwvZGl2PjxkaXYgY2xhc3M9ImNoaXAiPtii2KjbjC/Ystix2K88L2Rpdj48L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkZXNjIj7ZiNi22LnbjNiqOiDYotiy2KfYry/Zhdi02LrZiNmEIOKAlCDZgtin2KjZhCDYqtmI2LPYudmHPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkIGNTY2hlZCI+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWNjZW50Ij48L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkVGl0bGUiPjxkaXYgY2xhc3M9ImgxIGdyZWVuIiBzdHlsZT0iZm9udC1zaXplOjE1cHgiPtmE24zYs9iqINin2YbYqti42KfYsTwvZGl2PjxkaXYgY2xhc3M9ImNoaXAiPtmH2YjYtNmF2YbYrzwvZGl2PjwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRlc2MiPtm+24zYtNmG2YfYp9ivINiy2YXYp9mG4oCM2YfYp9uMINiu2KfZhNuMIOKAoiDZvtuM2KfZhdqpINuM2KfYr9ii2YjYsduMPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICA8IS0tIEZJTkFOQ0UgLS0+CiAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhZ2UiIGRhdGEtcm91dGU9ImZpbmFuY2UiIGFyaWEtbGFiZWw9ItmF2KfZhNuMIj4KICAgICAgICAgIDxkaXYgY2xhc3M9InBhZ2VIZWFkZXIiPgogICAgICAgICAgICA8aDEgY2xhc3M9ImgxIGdyZWVuIj7Zhdin2YTbjDwvaDE+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN1YiI+2LXZgdit2Ycg2YXYs9iq2YLZhCDigJQg2qnYp9ix2KrigIzZh9in24wg2LHZhtqv24wgKyDZiNi22LnbjNiqINit2LPigIzYr9in2LE8L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0iZ3JpZDIiIHN0eWxlPSJtYXJnaW4tdG9wOjEycHgiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkIGNGaW4iPgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjY2VudCI+PC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZFRpdGxlIj48ZGl2IGNsYXNzPSJoMSBncmVlbiIgc3R5bGU9ImZvbnQtc2l6ZToxNXB4Ij7Zvtix2K/Yp9iu2Kog2KfZhdix2YjYsjwvZGl2PjxkaXYgY2xhc3M9ImNoaXAiPlBPUy/ZhtmC2K88L2Rpdj48L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkZXNjIj7bsyDZvtix2K/Yp9iu2Kog2KvYqNiqINi02K/ZhyDigKIg27Eg2YXZiNix2K8g2K/YsSDYp9mG2KrYuNin2LE8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQgY0ZpbiI+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWNjZW50Ij48L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkVGl0bGUiPjxkaXYgY2xhc3M9ImgxIGdyZWVuIiBzdHlsZT0iZm9udC1zaXplOjE1cHgiPtqG2qkv2YLYs9i3PC9kaXY+PGRpdiBjbGFzcz0iY2hpcCI+2YfYtNiv2KfYsTwvZGl2PjwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRlc2MiPtuyINiz2LHYsdiz24zYryDZhtiy2K/bjNqpIOKAoiDbsSDYudmC2KjigIzYp9mB2KrYp9iv2Yc8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQgY0ZpbiIgc3R5bGU9Im1hcmdpbi10b3A6MTBweCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjY2VudCI+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRUaXRsZSI+PGRpdiBjbGFzcz0iaDEgZ3JlZW4iIHN0eWxlPSJmb250LXNpemU6MTVweCI+2YLYp9mE2Kgg2LHYs9uM2K8gKNmG2YXZiNmG2YcpPC9kaXY+PGRpdiBjbGFzcz0iY2hpcCI+2YLYp9io2YQg2obYp9m+PC9kaXY+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRlc2MiPlFSIOKAoiDZhdmH2LEg2K/bjNis24zYqtin2YQg4oCiINm+24zZiNiz2Kog2KfYs9qp2YY8L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgPCEtLSBQQVRJRU5UUyAtLT4KICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFnZSIgZGF0YS1yb3V0ZT0icGF0aWVudHMiIGFyaWEtbGFiZWw9Itio24zZhdin2LHYp9mGIj4KICAgICAgICAgIDxkaXYgY2xhc3M9InBhZ2VIZWFkZXIiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJyb3ciIHN0eWxlPSJqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6Y2VudGVyIj4KICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgPGgxIGNsYXNzPSJoMSBncmVlbiI+2KjbjNmF2KfYsdin2YY8L2gxPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3ViIj7Yr9in2K/ZhyDYstuM2KfYry/Zhtin2YLYtSDigJQg2KrbjNiq2LHZh9inINix2Ybar9uMINmIINmI2KfYttitPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2VnIiBhcmlhLWxhYmVsPSLahtuM2K/Zhdin2YYiPgogICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGRhdGEtbGF5b3V0PSJwYXRpZW50cyIgZGF0YS1tb2RlPSJsaXN0IiBjbGFzcz0ib24iPtmE24zYs9iq24w8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBkYXRhLWxheW91dD0icGF0aWVudHMiIGRhdGEtbW9kZT0idHdvIj7Yr9mI4oCM2LPYqtmI2YbZhzwvYnV0dG9uPgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgIDxkaXYgaWQ9InBhdGllbnRzTGlzdCIgY2xhc3M9Imxpc3QiIHN0eWxlPSJtYXJnaW4tdG9wOjEycHgiPjwvZGl2PgogICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgPCEtLSBMQUIgLS0+CiAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhZ2UiIGRhdGEtcm91dGU9ImxhYiIgYXJpYS1sYWJlbD0i2YTYp9io2LHYp9iq2YjYp9ixIj4KICAgICAgICAgIDxkaXYgY2xhc3M9InBhZ2VIZWFkZXIiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJyb3ciIHN0eWxlPSJqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6Y2VudGVyIj4KICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgPGgxIGNsYXNzPSJoMSBncmVlbiI+2YTYp9io2LHYp9iq2YjYp9ixPC9oMT4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN1YiI+2KfYsdiz2KfZhC/Yr9ix24zYp9mB2Kog4oCUINmI2LbYuduM2Kog2LHZhtqv24w8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzZWciIGFyaWEtbGFiZWw9ItqG24zYr9mF2KfZhiI+CiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgZGF0YS1sYXlvdXQ9ImxhYiIgZGF0YS1tb2RlPSJsaXN0IiBjbGFzcz0ib24iPtmE24zYs9iq24w8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBkYXRhLWxheW91dD0ibGFiIiBkYXRhLW1vZGU9InR3byI+2K/ZiOKAjNiz2KrZiNmG2Yc8L2J1dHRvbj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICA8ZGl2IGlkPSJsYWJMaXN0IiBjbGFzcz0ibGlzdCIgc3R5bGU9Im1hcmdpbi10b3A6MTJweCI+PC9kaXY+CiAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICA8IS0tIElOTk9WQVRJT04gLS0+CiAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhZ2UiIGRhdGEtcm91dGU9Imlubm92YXRpb24iIGFyaWEtbGFiZWw9ItmG2YjYotmI2LHbjCI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJwYWdlSGVhZGVyIj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJoMSBncmVlbiI+2YbZiNii2YjYsduMPC9oMT4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3ViIj5EdW9saW5nb+KAkWxpa2Ug2K3Ys+KAjNiv2KfYsTog2KfZhtis2KfZhSDYtNivINiu2YjYtNit2KfZhNiMINin2YbYrNin2YUg2YbYtNiv2Ycg2YbYp9ix2KfYrdiq2Iwg2K/Ysdit2KfZhOKAjNin2YbYrNin2YUg2YXYqti52KzYqDwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkIGNBSSIgc3R5bGU9Im1hcmdpbi10b3A6MTJweCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjY2VudCI+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRUaXRsZSI+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaDEgZ3JlZW4iIHN0eWxlPSJmb250LXNpemU6MTVweCI+2YXZiNiq2YjYsSDZvtuM2LTZhtmH2KfYrzwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNoaXAiPkh1bWFu4oCRaW7igJFsb29wPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJkZXNjIj7ZvtuM2LTZhtmH2KfYryDYstmF2KfZhiDZhtmI2KjYqiDigKIg2b7bjNin2YXaqSDZh9mI2LTZhdmG2K8g4oCiINmH2LTYr9in2LEg2b7Ysdiv2KfYrtiqPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQgY0FJIiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWNjZW50Ij48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZFRpdGxlIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJoMSBncmVlbiIgc3R5bGU9ImZvbnQtc2l6ZToxNXB4Ij7Yr9in2LTYqNmI2LHYryDYrdiz4oCM2K/Yp9ixPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hpcCI+2K3Yp9mE2KrigIzZh9inPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJkZXNjIj7YqNinINm+24zYtNix2YHYqiDahtqp4oCM2YTbjNiz2KrYjCDYrdin2YTYqiDahtmH2LHZhyDYqti624zbjNixINmF24zigIzaqdmG2K8uPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgIDwhLS0gTU9SRSAtLT4KICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFnZSIgZGF0YS1yb3V0ZT0ibW9yZSIgYXJpYS1sYWJlbD0i2KjbjNi02KrYsSI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJwYWdlSGVhZGVyIj4KICAgICAgICAgICAgPGgxIGNsYXNzPSJoMSBncmVlbiI+2KjbjNi02KrYsTwvaDE+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN1YiI+2LHZhtqv4oCM2YfYp9uMINis2K/YpyDYqNix2KfbjCDZh9ixINio2K7YtCArINqG24zYr9mF2KfZhiDZgtin2KjZhCDYqti624zbjNixICsg2obaqeKAjNmE24zYs9iqINuwINiq2Kcg27HbsNuwPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkIiBzdHlsZT0ibWFyZ2luLXRvcDoxMnB4Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZFRpdGxlIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJoMSBncmVlbiIgc3R5bGU9ImZvbnQtc2l6ZToxNXB4Ij7YsdmG2q/igIzZh9inICjZgtin2KjZhCDYqti624zbjNixKTwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNoaXAiPlRoZW1lPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJoaW50IiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4Ij4KICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczoxZnIgMWZyOyBnYXA6MTBweCI+CiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImhpbnQiPtmG2YjYqNiq4oCM2K/Zh9uMPGJyPjxpbnB1dCB0eXBlPSJjb2xvciIgZGF0YS1jb2xvcj0iLS1jLXNjaGVkIiB2YWx1ZT0iIzM2ZDFmZiI+PC9sYWJlbD4KICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iaGludCI+2YXYp9mE24w8YnI+PGlucHV0IHR5cGU9ImNvbG9yIiBkYXRhLWNvbG9yPSItLWMtZmluIiB2YWx1ZT0iI2ZmZDE2NiI+PC9sYWJlbD4KICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iaGludCI+2KjbjNmF2KfYsdin2YY8YnI+PGlucHV0IHR5cGU9ImNvbG9yIiBkYXRhLWNvbG9yPSItLWMtcGF0IiB2YWx1ZT0iIzdjNGRmZiI+PC9sYWJlbD4KICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iaGludCI+2YTYp9io2LHYp9iq2YjYp9ixPGJyPjxpbnB1dCB0eXBlPSJjb2xvciIgZGF0YS1jb2xvcj0iLS1jLWxhYiIgdmFsdWU9IiNmZjRkOGQiPjwvbGFiZWw+CiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImhpbnQiPtmG2YjYotmI2LHbjDxicj48aW5wdXQgdHlwZT0iY29sb3IiIGRhdGEtY29sb3I9Ii0tYy1haSIgdmFsdWU9IiMwMGU1ZmYiPjwvbGFiZWw+CiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImhpbnQiPtiz2KjYsiDYqtuM2KrYsdmH2Kc8YnI+PGlucHV0IHR5cGU9ImNvbG9yIiBkYXRhLWNvbG9yPSItLWdyZWVuIiB2YWx1ZT0iIzAwYzg1MyI+PC9sYWJlbD4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJoaW50IiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4Ij7Zh9mF2Ycg2KrYutuM24zYsdin2Kog2LDYrtuM2LHZhyDZhduM4oCM2LTZiNivIChsb2NhbCkuPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPC9kaXY+CgogICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCIgc3R5bGU9Im1hcmdpbi10b3A6MTBweCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRUaXRsZSI+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaDEgZ3JlZW4iIHN0eWxlPSJmb250LXNpemU6MTVweCI+2obaqeKAjNmE24zYs9iqINuwINiq2Kcg27HbsNuwICjYqtuM2qnigIzYstiv2YbbjCk8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjaGlwIiBpZD0ibW9vZENoaXAiPvCfmYI8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InByb2dyZXNzV3JhcCI+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYmFyIj48ZGl2IGlkPSJvdmVyYWxsQmFyIj48L2Rpdj48L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwY3QiIGlkPSJvdmVyYWxsUGN0Ij4wJTwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hlY2tsaXN0IiBpZD0iY2hlY2tsaXN0Ij48L2Rpdj4KICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQiIHN0eWxlPSJtYXJnaW4tdG9wOjEwcHgiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkVGl0bGUiPgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImgxIGdyZWVuIiBzdHlsZT0iZm9udC1zaXplOjE1cHgiPtmG2YXYp9uM2LQg2YXZiNio2KfbjNmEINix2YjbjCDaqdin2YXZvtuM2YjYqtixPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hpcCI+UHJldmlldzwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iaGludCIgc3R5bGU9Im1hcmdpbi10b3A6OHB4Ij7Yr9qp2YXZhyDwn5OxINio2KfZhNin24wg2LXZgdit2Ycg2LHYpyDYqNiy2YYg2KrYpyDYrdin2YTYqiDZgtin2Kgg2YXZiNio2KfbjNmEINix2YjYtNmGL9iu2KfZhdmI2LQg2LTZiNivLjwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9zZWN0aW9uPgogICAgICA8L21haW4+CiAgICA8L2Rpdj4KICA8L2Rpdj4KCiAgPCEtLSBOYXRpdmUgaVBob25lLWxpa2UgVGFiIEJhciAtLT4KICA8ZGl2IGNsYXNzPSJ0YWJiYXIiIHJvbGU9Im5hdmlnYXRpb24iIGFyaWEtbGFiZWw9ItmG2KfZiNio2LHbjCI+CiAgICA8YnV0dG9uIGNsYXNzPSJ0YWIgb24iIHR5cGU9ImJ1dHRvbiIgZGF0YS10YWI9ImhvbWUiPjxzcGFuIGNsYXNzPSJ0SSI+PHN2ZyBjbGFzcz0ic3ZnSWNvbiBlbW90aXZlIiB2aWV3Qm94PSIwIDAgNjQgNjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgYXJpYS1oaWRkZW49InRydWUiPgogIDxkZWZzPgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJnX2hvbWUiIHgxPSI2IiB5MT0iNiIgeDI9IjU4IiB5Mj0iNTgiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjMzZkMWZmIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iMC41NSIgc3RvcC1jb2xvcj0iIzAwYzg1MyIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmQxNjYiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8ZmlsdGVyIGlkPSJmX2hvbWUiIHg9Ii0zMCUiIHk9Ii0zMCUiIHdpZHRoPSIxNjAlIiBoZWlnaHQ9IjE2MCUiPgogICAgICA8ZmVEcm9wU2hhZG93IGR4PSIwIiBkeT0iMiIgc3RkRGV2aWF0aW9uPSIyLjgiIGZsb29kLWNvbG9yPSJyZ2JhKDAsMCwwLC41NSkiLz4KICAgICAgPGZlRHJvcFNoYWRvdyBkeD0iMCIgZHk9IjAiIHN0ZERldmlhdGlvbj0iNiIgZmxvb2QtY29sb3I9IiMwMGM4NTMiIGZsb29kLW9wYWNpdHk9Ii4yNSIvPgogICAgPC9maWx0ZXI+CiAgPC9kZWZzPgogIDxnIGZpbHRlcj0idXJsKCNmX2hvbWUpIj4KCiAgPHBhdGggZD0iTTE2IDMwbDE2LTE0IDE2IDE0IiBzdHJva2U9InVybCgjZ19ob21lKSIgc3Ryb2tlLXdpZHRoPSIzLjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgogIDxwYXRoIGQ9Ik0yMiAyOHYxOGgyMFYyOCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuMDQpIiBzdHJva2U9InVybCgjZ19ob21lKSIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CiAgPHBhdGggZD0iTTI4IDQ2YzEuNy0yIDYuMy0yIDggMCIgc3Ryb2tlPSJ1cmwoI2dfaG9tZSkiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CiAgPGNpcmNsZSBjeD0iMjguOCIgY3k9IjQxIiByPSIxLjciIGZpbGw9InVybCgjZ19ob21lKSIvPgogIDxjaXJjbGUgY3g9IjM1LjIiIGN5PSI0MSIgcj0iMS43IiBmaWxsPSJ1cmwoI2dfaG9tZSkiLz4KCiAgPC9nPgo8L3N2Zz48L3NwYW4+PHNwYW4+2K7Yp9mG2Yc8L3NwYW4+PHNwYW4gY2xhc3M9InRhYkRvdCI+PC9zcGFuPjwvYnV0dG9uPgogICAgPGJ1dHRvbiBjbGFzcz0idGFiIiB0eXBlPSJidXR0b24iIGRhdGEtdGFiPSJzY2hlZHVsZSI+PHNwYW4gY2xhc3M9InRJIj48c3ZnIGNsYXNzPSJzdmdJY29uIGVtb3RpdmUiIHZpZXdCb3g9IjAgMCA2NCA2NCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBhcmlhLWhpZGRlbj0idHJ1ZSI+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9Imdfc2NoZWR1bGUiIHgxPSI2IiB5MT0iNiIgeDI9IjU4IiB5Mj0iNTgiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjMzZkMWZmIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iMC41NSIgc3RvcC1jb2xvcj0iIzAwYzg1MyIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZjRkOGQiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8ZmlsdGVyIGlkPSJmX3NjaGVkdWxlIiB4PSItMzAlIiB5PSItMzAlIiB3aWR0aD0iMTYwJSIgaGVpZ2h0PSIxNjAlIj4KICAgICAgPGZlRHJvcFNoYWRvdyBkeD0iMCIgZHk9IjIiIHN0ZERldmlhdGlvbj0iMi44IiBmbG9vZC1jb2xvcj0icmdiYSgwLDAsMCwuNTUpIi8+CiAgICAgIDxmZURyb3BTaGFkb3cgZHg9IjAiIGR5PSIwIiBzdGREZXZpYXRpb249IjYiIGZsb29kLWNvbG9yPSIjMDBjODUzIiBmbG9vZC1vcGFjaXR5PSIuMjUiLz4KICAgIDwvZmlsdGVyPgogIDwvZGVmcz4KICA8ZyBmaWx0ZXI9InVybCgjZl9zY2hlZHVsZSkiPgoKICA8cmVjdCB4PSIxNiIgeT0iMTgiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMCIgcng9IjkiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsLjA1KSIgc3Ryb2tlPSJ1cmwoI2dfc2NoZWR1bGUpIiBzdHJva2Utd2lkdGg9IjMiLz4KICA8cGF0aCBkPSJNMjQgMTR2OE00MCAxNHY4IiBzdHJva2U9InVybCgjZ19zY2hlZHVsZSkiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CiAgPHBhdGggZD0iTTE2IDI2aDMyIiBzdHJva2U9InVybCgjZ19zY2hlZHVsZSkiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBvcGFjaXR5PSIuOTUiLz4KICA8cGF0aCBkPSJNMjUgMzdjMi41IDMgMTEuNSAzIDE0IDAiIHN0cm9rZT0idXJsKCNnX3NjaGVkdWxlKSIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KICA8Y2lyY2xlIGN4PSIyNy41IiBjeT0iMzMiIHI9IjIuMiIgZmlsbD0idXJsKCNnX3NjaGVkdWxlKSIvPgogIDxjaXJjbGUgY3g9IjM4LjUiIGN5PSIzMyIgcj0iMi4yIiBmaWxsPSJ1cmwoI2dfc2NoZWR1bGUpIi8+CgogIDwvZz4KPC9zdmc+PC9zcGFuPjxzcGFuPtmG2YjYqNiqPC9zcGFuPjxzcGFuIGNsYXNzPSJ0YWJEb3QiPjwvc3Bhbj48L2J1dHRvbj4KICAgIDxidXR0b24gY2xhc3M9InRhYiIgdHlwZT0iYnV0dG9uIiBkYXRhLXRhYj0icGF0aWVudHMiPjxzcGFuIGNsYXNzPSJ0SSI+PHN2ZyBjbGFzcz0ic3ZnSWNvbiBlbW90aXZlIiB2aWV3Qm94PSIwIDAgNjQgNjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgYXJpYS1oaWRkZW49InRydWUiPgogIDxkZWZzPgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJnX3BhdGllbnRzIiB4MT0iNiIgeTE9IjYiIHgyPSI1OCIgeTI9IjU4IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzdjNGRmZiIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjAuNTUiIHN0b3AtY29sb3I9IiMzNmQxZmYiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMDBjODUzIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGZpbHRlciBpZD0iZl9wYXRpZW50cyIgeD0iLTMwJSIgeT0iLTMwJSIgd2lkdGg9IjE2MCUiIGhlaWdodD0iMTYwJSI+CiAgICAgIDxmZURyb3BTaGFkb3cgZHg9IjAiIGR5PSIyIiBzdGREZXZpYXRpb249IjIuOCIgZmxvb2QtY29sb3I9InJnYmEoMCwwLDAsLjU1KSIvPgogICAgICA8ZmVEcm9wU2hhZG93IGR4PSIwIiBkeT0iMCIgc3RkRGV2aWF0aW9uPSI2IiBmbG9vZC1jb2xvcj0iIzM2ZDFmZiIgZmxvb2Qtb3BhY2l0eT0iLjI1Ii8+CiAgICA8L2ZpbHRlcj4KICA8L2RlZnM+CiAgPGcgZmlsdGVyPSJ1cmwoI2ZfcGF0aWVudHMpIj4KCiAgPHBhdGggZD0iTTIyIDIyYzAtNiA0LjMtMTAgMTAtMTBzMTAgNCAxMCAxMGMwIDQtMS4yIDcuNC0yLjQgMTAuNC0xLjIgMy4yLTIuMiA1LjYtNC42IDUuNi0yIDAtMi44LTEuNC0zLTMtLjItMS40LTEuMi0yLjQtMi45LTIuNHMtMi43IDEtMi45IDIuNGMtLjIgMS42LTEgMy0zIDMtMi40IDAtMy40LTIuNC00LjYtNS42QzIzLjIgMjkuNCAyMiAyNiAyMiAyMloiCiAgICAgICAgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuMDQpIiBzdHJva2U9InVybCgjZ19wYXRpZW50cykiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgogIDxwYXRoIGQ9Ik0yNyAyN2MuOSAxLjEgMi4yIDEuNiA0IDEuNnMzLjEtLjUgNC0xLjYiIHN0cm9rZT0idXJsKCNnX3BhdGllbnRzKSIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KICA8Y2lyY2xlIGN4PSIyOC41IiBjeT0iMjMuOCIgcj0iMiIgZmlsbD0idXJsKCNnX3BhdGllbnRzKSIvPgogIDxjaXJjbGUgY3g9IjM1LjUiIGN5PSIyMy44IiByPSIyIiBmaWxsPSJ1cmwoI2dfcGF0aWVudHMpIi8+CgogIDwvZz4KPC9zdmc+PC9zcGFuPjxzcGFuPtio24zZhdin2LHYp9mGPC9zcGFuPjxzcGFuIGNsYXNzPSJ0YWJEb3QiPjwvc3Bhbj48L2J1dHRvbj4KICAgIDxidXR0b24gY2xhc3M9InRhYiIgdHlwZT0iYnV0dG9uIiBkYXRhLXRhYj0ibGFiIj48c3BhbiBjbGFzcz0idEkiPjxzdmcgY2xhc3M9InN2Z0ljb24gZW1vdGl2ZSIgdmlld0JveD0iMCAwIDY0IDY0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGFyaWEtaGlkZGVuPSJ0cnVlIj4KICA8ZGVmcz4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iZ19sYWIiIHgxPSI2IiB5MT0iNiIgeDI9IjU4IiB5Mj0iNTgiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmY0ZDhkIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iMC41NSIgc3RvcC1jb2xvcj0iI2ZmZDE2NiIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMzNmQxZmYiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8ZmlsdGVyIGlkPSJmX2xhYiIgeD0iLTMwJSIgeT0iLTMwJSIgd2lkdGg9IjE2MCUiIGhlaWdodD0iMTYwJSI+CiAgICAgIDxmZURyb3BTaGFkb3cgZHg9IjAiIGR5PSIyIiBzdGREZXZpYXRpb249IjIuOCIgZmxvb2QtY29sb3I9InJnYmEoMCwwLDAsLjU1KSIvPgogICAgICA8ZmVEcm9wU2hhZG93IGR4PSIwIiBkeT0iMCIgc3RkRGV2aWF0aW9uPSI2IiBmbG9vZC1jb2xvcj0iI2ZmZDE2NiIgZmxvb2Qtb3BhY2l0eT0iLjI1Ii8+CiAgICA8L2ZpbHRlcj4KICA8L2RlZnM+CiAgPGcgZmlsdGVyPSJ1cmwoI2ZfbGFiKSI+CgogIDxwYXRoIGQ9Ik0yNiAxNHYxMGwtOC41IDE3Yy0xLjEgMi4xLjQgNSAzLjIgNWgyMi42YzIuOCAwIDQuMy0yLjkgMy4yLTVMNDAgMjRWMTQiCiAgICAgICAgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuMDQpIiBzdHJva2U9InVybCgjZ19sYWIpIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgogIDxwYXRoIGQ9Ik0yMi41IDMzaDE5IiBzdHJva2U9InVybCgjZ19sYWIpIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgb3BhY2l0eT0iLjk1Ii8+CiAgPHBhdGggZD0iTTI2LjUgMzhjMi4yIDIuNiA4LjggMi42IDExIDAiIHN0cm9rZT0idXJsKCNnX2xhYikiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CgogIDwvZz4KPC9zdmc+PC9zcGFuPjxzcGFuPtmE2KfYqDwvc3Bhbj48c3BhbiBjbGFzcz0idGFiRG90Ij48L3NwYW4+PC9idXR0b24+CiAgICA8YnV0dG9uIGNsYXNzPSJ0YWIiIHR5cGU9ImJ1dHRvbiIgZGF0YS10YWI9ImZpbmFuY2UiPjxzcGFuIGNsYXNzPSJ0SSI+PHN2ZyBjbGFzcz0ic3ZnSWNvbiBlbW90aXZlIiB2aWV3Qm94PSIwIDAgNjQgNjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgYXJpYS1oaWRkZW49InRydWUiPgogIDxkZWZzPgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJnX2ZpbmFuY2UiIHgxPSI2IiB5MT0iNiIgeDI9IjU4IiB5Mj0iNTgiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZkMTY2Ii8+CiAgICAgIDxzdG9wIG9mZnNldD0iMC41NSIgc3RvcC1jb2xvcj0iIzAwYzg1MyIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM3YzRkZmYiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8ZmlsdGVyIGlkPSJmX2ZpbmFuY2UiIHg9Ii0zMCUiIHk9Ii0zMCUiIHdpZHRoPSIxNjAlIiBoZWlnaHQ9IjE2MCUiPgogICAgICA8ZmVEcm9wU2hhZG93IGR4PSIwIiBkeT0iMiIgc3RkRGV2aWF0aW9uPSIyLjgiIGZsb29kLWNvbG9yPSJyZ2JhKDAsMCwwLC41NSkiLz4KICAgICAgPGZlRHJvcFNoYWRvdyBkeD0iMCIgZHk9IjAiIHN0ZERldmlhdGlvbj0iNiIgZmxvb2QtY29sb3I9IiMwMGM4NTMiIGZsb29kLW9wYWNpdHk9Ii4yNSIvPgogICAgPC9maWx0ZXI+CiAgPC9kZWZzPgogIDxnIGZpbHRlcj0idXJsKCNmX2ZpbmFuY2UpIj4KCiAgPHJlY3QgeD0iMTUiIHk9IjE5IiB3aWR0aD0iMzQiIGhlaWdodD0iMjYiIHJ4PSIxMCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuMDUpIiBzdHJva2U9InVybCgjZ19maW5hbmNlKSIgc3Ryb2tlLXdpZHRoPSIzIi8+CiAgPHBhdGggZD0iTTIwIDI4aDE4IiBzdHJva2U9InVybCgjZ19maW5hbmNlKSIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIG9wYWNpdHk9Ii45NSIvPgogIDxjaXJjbGUgY3g9IjQxIiBjeT0iMzIiIHI9IjYuOCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwuMDQpIiBzdHJva2U9InVybCgjZ19maW5hbmNlKSIgc3Ryb2tlLXdpZHRoPSIzIi8+CiAgPHBhdGggZD0iTTM4LjcgMzQuNWMxLjcgMiA0IDIgNS43IDAiIHN0cm9rZT0idXJsKCNnX2ZpbmFuY2UpIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgogIDxjaXJjbGUgY3g9IjM5LjYiIGN5PSIzMS4zIiByPSIxLjYiIGZpbGw9InVybCgjZ19maW5hbmNlKSIvPgogIDxjaXJjbGUgY3g9IjQ0LjQiIGN5PSIzMS4zIiByPSIxLjYiIGZpbGw9InVybCgjZ19maW5hbmNlKSIvPgoKICA8L2c+Cjwvc3ZnPjwvc3Bhbj48c3Bhbj7Zhdin2YTbjDwvc3Bhbj48c3BhbiBjbGFzcz0idGFiRG90Ij48L3NwYW4+PC9idXR0b24+CiAgPC9kaXY+CgogIDxzY3JpcHQ+CiAgICBjb25zdCBMU19LRVkgPSAiZG1fZGVzaWduX3YxMl92NSI7CiAgICBjb25zdCBxcyA9IChzLCBlbD1kb2N1bWVudCkgPT4gZWwucXVlcnlTZWxlY3RvcihzKTsKICAgIGNvbnN0IHFzYSA9IChzLCBlbD1kb2N1bWVudCkgPT4gQXJyYXkuZnJvbShlbC5xdWVyeVNlbGVjdG9yQWxsKHMpKTsKCiAgICBjb25zdCBzdGF0ZSA9IGxvYWRTdGF0ZSgpOwogICAgYXBwbHlDb2xvcnMoc3RhdGUuY29sb3JzKTsKICAgIHNldEZyYW1lKHN0YXRlLmZyYW1lT24pOwoKICAgIC8vIFBhZ2VzCiAgICBmdW5jdGlvbiBnbyhyb3V0ZSl7CiAgICAgIHFzYSgiLnBhZ2UiKS5mb3JFYWNoKHAgPT4gcC5jbGFzc0xpc3QudG9nZ2xlKCJvbiIsIHAuZGF0YXNldC5yb3V0ZSA9PT0gcm91dGUpKTsKICAgICAgcXNhKCIudGFiIikuZm9yRWFjaCh0ID0+IHQuY2xhc3NMaXN0LnRvZ2dsZSgib24iLCB0LmRhdGFzZXQudGFiID09PSByb3V0ZSkpOwogICAgICBsb2NhdGlvbi5oYXNoID0gcm91dGU7CiAgICAgIHNhdmVTdGF0ZSgpOwogICAgfQoKICAgIC8vIEJ1dHRvbnMgd2l0aCBkYXRhLWdvCiAgICBxc2EoIltkYXRhLWdvXSIpLmZvckVhY2goYiA9PiBiLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gZ28oYi5kYXRhc2V0LmdvKSkpOwoKICAgIC8vIFRhYnMKICAgIHFzYSgiLnRhYiIpLmZvckVhY2godCA9PiB0LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gZ28odC5kYXRhc2V0LnRhYikpKTsKCiAgICAvLyBMYXlvdXQgc2VnbWVudGVkIGNvbnRyb2xzCiAgICBxc2EoIltkYXRhLWxheW91dF0iKS5mb3JFYWNoKGJ0biA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICAgIGNvbnN0IGdyb3VwID0gYnRuLmRhdGFzZXQubGF5b3V0OwogICAgICBjb25zdCBtb2RlID0gYnRuLmRhdGFzZXQubW9kZTsKICAgICAgc2V0TGF5b3V0KGdyb3VwLCBtb2RlKTsKICAgICAgcXNhKGBbZGF0YS1sYXlvdXQ9IiR7Z3JvdXB9Il1gKS5mb3JFYWNoKHggPT4geC5jbGFzc0xpc3QudG9nZ2xlKCJvbiIsIHggPT09IGJ0bikpOwogICAgICBzYXZlU3RhdGUoKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBzZXRMYXlvdXQoZ3JvdXAsIG1vZGUpewogICAgICBzdGF0ZS5sYXlvdXRzW2dyb3VwXSA9IG1vZGU7CiAgICAgIGNvbnN0IGVsID0gcXMoZ3JvdXAgPT09ICJwYXRpZW50cyIgPyAiI3BhdGllbnRzTGlzdCIgOiAiI2xhYkxpc3QiKTsKICAgICAgZWwuY2xhc3NMaXN0LnRvZ2dsZSgidHdvQ29sIiwgbW9kZSA9PT0gInR3byIpOwogICAgICBlbC5jbGFzc0xpc3QudG9nZ2xlKCJsaXN0IiwgbW9kZSAhPT0gInR3byIpOwogICAgfQoKICAgIC8vIEZyYW1lIHRvZ2dsZQogICAgcXMoIiN0b2dnbGVGcmFtZSIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogICAgICBzdGF0ZS5mcmFtZU9uID0gIXN0YXRlLmZyYW1lT247CiAgICAgIHNldEZyYW1lKHN0YXRlLmZyYW1lT24pOwogICAgICBzYXZlU3RhdGUoKTsKICAgIH0pOwoKICAgIGZ1bmN0aW9uIHNldEZyYW1lKG9uKXsKICAgICAgY29uc3QgZnJhbWUgPSBxcygiI2ZyYW1lIik7CiAgICAgIGZyYW1lLnN0eWxlLmJvcmRlclJhZGl1cyA9IG9uID8gIjMycHgiIDogIjBweCI7CiAgICAgIGZyYW1lLnN0eWxlLndpZHRoID0gb24gPyAibWluKDQzMHB4LCAxMDAlKSIgOiAiMTAwJSI7CiAgICAgIGZyYW1lLnN0eWxlLm1heFdpZHRoID0gb24gPyAiNDMwcHgiIDogIjEwMCUiOwogICAgfQoKICAgIC8vIENvbG9yIHBpY2tlcnMKICAgIHFzYSgiaW5wdXRbdHlwZT1jb2xvcl1bZGF0YS1jb2xvcl0iKS5mb3JFYWNoKGlucCA9PiB7CiAgICAgIGNvbnN0IGtleSA9IGlucC5kYXRhc2V0LmNvbG9yOwogICAgICBpZihzdGF0ZS5jb2xvcnNba2V5XSkgaW5wLnZhbHVlID0gc3RhdGUuY29sb3JzW2tleV07CiAgICAgIGlucC5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsICgpID0+IHsKICAgICAgICBzdGF0ZS5jb2xvcnNba2V5XSA9IGlucC52YWx1ZTsKICAgICAgICBhcHBseUNvbG9ycyhzdGF0ZS5jb2xvcnMpOwogICAgICAgIHNhdmVTdGF0ZSgpOwogICAgICB9KTsKICAgIH0pOwoKICAgIGZ1bmN0aW9uIGFwcGx5Q29sb3JzKGNvbG9ycyl7CiAgICAgIE9iamVjdC5lbnRyaWVzKGNvbG9ycykuZm9yRWFjaCgoW2ssdl0pID0+IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShrLCB2KSk7CiAgICB9CgogICAgLy8gQ2hlY2tsaXN0IGRhdGEgKDAuLjEwMCkgd2l0aCBtb29kcwogICAgY29uc3QgY2F0ZWdvcmllcyA9IFsKICAgICAge25hbWU6ItmG2YjYqNiq4oCM2K/Zh9uMIiwgY29sb3I6InZhcigtLWMtc2NoZWQpIn0sCiAgICAgIHtuYW1lOiLYqNuM2YXYp9ix2KfZhiIsIGNvbG9yOiJ2YXIoLS1jLXBhdCkifSwKICAgICAge25hbWU6ItmE2KfYqNix2KfYqtmI2KfYsSIsIGNvbG9yOiJ2YXIoLS1jLWxhYikifSwKICAgICAge25hbWU6ItmF2KfZhNuMIiwgY29sb3I6InZhcigtLWMtZmluKSJ9LAogICAgICB7bmFtZToi2KfZhdmG24zYqi/aqduM2YHbjNiqIiwgY29sb3I6InZhcigtLWdyZWVuKSJ9CiAgICBdOwoKICAgIGNvbnN0IGl0ZW1zID0gQXJyYXkuZnJvbSh7bGVuZ3RoOjEwMH0sIChfLGkpID0+IHsKICAgICAgY29uc3QgbiA9IGkrMTsKICAgICAgbGV0IGMgPSBjYXRlZ29yaWVzWzBdOwogICAgICBpZihuPD0yMCkgYz1jYXRlZ29yaWVzWzBdOwogICAgICBlbHNlIGlmKG48PTQwKSBjPWNhdGVnb3JpZXNbMV07CiAgICAgIGVsc2UgaWYobjw9NjApIGM9Y2F0ZWdvcmllc1szXTsKICAgICAgZWxzZSBpZihuPD04MCkgYz1jYXRlZ29yaWVzWzJdOwogICAgICBlbHNlIGM9Y2F0ZWdvcmllc1s0XTsKICAgICAgcmV0dXJuIHsgaWQ6biwgdGl0bGU6YNii24zYqtmFICR7bn1gLCBjYXQ6Yy5uYW1lLCBjb2xvcjpjLmNvbG9yLCBub3RlOiIiIH07CiAgICB9KTsKCiAgICBjb25zdCBjaGVja2xpc3RFbCA9IHFzKCIjY2hlY2tsaXN0Iik7CiAgICByZW5kZXJDaGVja2xpc3QoKTsKCiAgICBmdW5jdGlvbiByZW5kZXJDaGVja2xpc3QoKXsKICAgICAgY2hlY2tsaXN0RWwuaW5uZXJIVE1MID0gIiI7CiAgICAgIGl0ZW1zLmZvckVhY2goaXQgPT4gewogICAgICAgIGNvbnN0IGRvbmUgPSAhIXN0YXRlLmNoZWNrW2l0LmlkXTsKICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICByb3cuY2xhc3NOYW1lID0gImNoZWNrUm93IjsKICAgICAgICByb3cuaW5uZXJIVE1MID0gYAogICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiAke2RvbmUgPyAiY2hlY2tlZCI6IiJ9IGFyaWEtbGFiZWw9Itii24zYqtmFICR7aXQuaWR9Ij4KICAgICAgICAgIDxkaXYgY2xhc3M9ImNoZWNrTWFpbiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNoZWNrVGl0bGUiPjxzcGFuIHN0eWxlPSJjb2xvcjoke2l0LmNvbG9yfTsgZm9udC13ZWlnaHQ6MTEwMCI+JHtpdC5jYXR9PC9zcGFuPiDigJQgJHtpdC50aXRsZX08L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hlY2tNZXRhIj7YtNmF2KfYsdmHICR7aXQuaWR9IOKAoiDYr9in2K/ZhyDYstuM2KfYry/Zhtin2YLYtTog2YLYp9io2YQg2KrZiNiz2LnZhzwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJtaW5pRmFjZSIgdGl0bGU9Itit2LMiPgogICAgICAgICAgICAke2ZhY2VGb3IoaXQuaWQpfQogICAgICAgICAgPC9kaXY+CiAgICAgICAgYDsKICAgICAgICBjb25zdCBjYiA9IHJvdy5xdWVyeVNlbGVjdG9yKCJpbnB1dCIpOwogICAgICAgIGNiLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsICgpID0+IHsKICAgICAgICAgIHN0YXRlLmNoZWNrW2l0LmlkXSA9IGNiLmNoZWNrZWQ7CiAgICAgICAgICB1cGRhdGVQcm9ncmVzcygpOwogICAgICAgICAgcm93LnF1ZXJ5U2VsZWN0b3IoIi5taW5pRmFjZSIpLnRleHRDb250ZW50ID0gZmFjZUZvcihpdC5pZCk7CiAgICAgICAgICBzYXZlU3RhdGUoKTsKICAgICAgICB9KTsKICAgICAgICBjaGVja2xpc3RFbC5hcHBlbmRDaGlsZChyb3cpOwogICAgICB9KTsKICAgICAgdXBkYXRlUHJvZ3Jlc3MoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBmYWNlRm9yKGlkKXsKICAgICAgY29uc3QgZG9uZSA9ICEhc3RhdGUuY2hlY2tbaWRdOwogICAgICBpZihkb25lKSByZXR1cm4gIvCfmIQiOwogICAgICBpZihpZCAlIDMgPT09IDApIHJldHVybiAi8J+YryI7ICAvLyBpbi1wcm9ncmVzcyB2aWJlCiAgICAgIHJldHVybiAi8J+YlSI7CiAgICB9CgogICAgZnVuY3Rpb24gdXBkYXRlUHJvZ3Jlc3MoKXsKICAgICAgY29uc3QgdG90YWwgPSBpdGVtcy5sZW5ndGg7CiAgICAgIGNvbnN0IGRvbmUgPSBPYmplY3QudmFsdWVzKHN0YXRlLmNoZWNrKS5maWx0ZXIoQm9vbGVhbikubGVuZ3RoOwogICAgICBjb25zdCBwY3QgPSBNYXRoLnJvdW5kKChkb25lL3RvdGFsKSoxMDApOwogICAgICBxcygiI292ZXJhbGxCYXIiKS5zdHlsZS53aWR0aCA9IHBjdCArICIlIjsKICAgICAgcXMoIiNvdmVyYWxsUGN0IikudGV4dENvbnRlbnQgPSBwY3QgKyAiJSI7CiAgICAgIHFzKCdbZGF0YS1wY3Q9InNjaGVkIl0nKS50ZXh0Q29udGVudCA9IHBjdCArICIlIjsKICAgICAgcXMoJ1tkYXRhLXBjdD0iZmluIl0nKS50ZXh0Q29udGVudCA9IHBjdCArICIlIjsKICAgICAgcXMoJ1tkYXRhLXByb2c9InNjaGVkIl0nKS5zdHlsZS53aWR0aCA9IE1hdGgubWluKDEwMCwgcGN0KSArICIlIjsKICAgICAgcXMoJ1tkYXRhLXByb2c9ImZpbiJdJykuc3R5bGUud2lkdGggPSBNYXRoLm1pbigxMDAsIHBjdCkgKyAiJSI7CgogICAgICBjb25zdCBjaGlwID0gcXMoIiNtb29kQ2hpcCIpOwogICAgICBjaGlwLnRleHRDb250ZW50ID0gcGN0ID49IDcwID8gIvCfmIQiIDogKHBjdCA+PSAzNSA/ICLwn5ivIiA6ICLwn5iVIik7CiAgICB9CgogICAgLy8gU2FtcGxlIGxpc3RzCiAgICBjb25zdCBwYXRpZW50cyA9IFsKICAgICAge25hbWU6ItmF24zZhtinIiwgaWQ6IkEtMTAyNCIsIHBob25lOiIwOXh4Li4uIiwgbWlzc2luZzoi2K3Ys9in2LPbjNiqIiwgbGV2ZWw6ItmG2KfZgti1In0sCiAgICAgIHtuYW1lOiLZhdmH2K/bjCIsIGlkOiJBLTEwMjUiLCBwaG9uZToiMDl4eC4uLiIsIG1pc3Npbmc6Itii2K/YsdizIiwgbGV2ZWw6ItmG2KfZgti1In0sCiAgICAgIHtuYW1lOiLYudio2KfYs9mB2LHYryIsIGlkOiJBLTEwMjYiLCBwaG9uZToiMDl4eC4uLiIsIG1pc3Npbmc6Itqp2K/ZhdmE24wiLCBsZXZlbDoi2YbYp9mC2LUifSwKICAgICAge25hbWU6Itio24zZhdin2LEg2KzYr9uM2K8iLCBpZDoiQS0xMDI3IiwgcGhvbmU6IjA5eHguLi4iLCBtaXNzaW5nOiLZvtix2YjZhtiv2YciLCBsZXZlbDoi2K/Ysdit2KfZhCDYqtqp2YXbjNmEIn0sCiAgICBdOwoKICAgIGNvbnN0IGxhYiA9IFsKICAgICAge2Nhc2U6ItmC2KfZhNio4oCM2q/bjNix24wiLCBwYXRpZW50OiLZhduM2YbYpyIsIHN0YXR1czoi2KfYsdiz2KfZhCDYtNivIiwgY29sb3I6InZhcigtLWMtbGFiKSJ9LAogICAgICB7Y2FzZToi2LHZiNqp2LQiLCBwYXRpZW50OiLZhdmH2K/bjCIsIHN0YXR1czoi2K/Ysdit2KfZhCDYs9in2K7YqiIsIGNvbG9yOiJ2YXIoLS1jLWNybSkifSwKICAgICAge2Nhc2U6Itiq2K3ZiNuM2YQiLCBwYXRpZW50OiLYudio2KfYs9mB2LHYryIsIHN0YXR1czoi2KLZhdin2K/ZhyDYqtit2YjbjNmEIiwgY29sb3I6InZhcigtLWMtZmluKSJ9LAogICAgICB7Y2FzZToi2KfYtdmE2KfYrSIsIHBhdGllbnQ6Itio24zZhdin2LEg2KzYr9uM2K8iLCBzdGF0dXM6ItmG24zYp9iyINio2Ycg2KrZhdin2LMiLCBjb2xvcjoidmFyKC0tYy1zY2hlZCkifSwKICAgIF07CgogICAgZnVuY3Rpb24gcmVuZGVyQ2FyZHMoKXsKICAgICAgY29uc3QgcEVsID0gcXMoIiNwYXRpZW50c0xpc3QiKTsKICAgICAgcEVsLmlubmVySFRNTCA9ICIiOwogICAgICBwYXRpZW50cy5mb3JFYWNoKChwLCBpKSA9PiB7CiAgICAgICAgY29uc3QgYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIGMuY2xhc3NOYW1lID0gImNhcmQiOwogICAgICAgIGMuaW5uZXJIVE1MID0gYAogICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZFRpdGxlIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iaDEgZ3JlZW4iIHN0eWxlPSJmb250LXNpemU6MTRweCI+JHtwLm5hbWV9PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNoaXAiIHN0eWxlPSJib3JkZXItY29sb3I6cmdiYSgyNTUsMjU1LDI1NSwuMTQpIj7Zvtix2YjZhtiv2Yc6ICR7cC5pZH08L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0iZGVzYyIgc3R5bGU9Im1hcmdpbi10b3A6OHB4Ij4KICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImNvbG9yOnZhcigtLWMtcGF0KTsgZm9udC13ZWlnaHQ6MTEwMCI+2YbYp9mC2LU6PC9zcGFuPiAke3AubWlzc2luZ30g4oCiICR7cC5sZXZlbH08YnI+CiAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJjb2xvcjp2YXIoLS1tdXRlZCkiPtiq2YTZgdmGOjwvc3Bhbj4gJHtwLnBob25lfQogICAgICAgICAgPC9kaXY+CiAgICAgICAgYDsKICAgICAgICBwRWwuYXBwZW5kQ2hpbGQoYyk7CiAgICAgIH0pOwoKICAgICAgY29uc3QgbEVsID0gcXMoIiNsYWJMaXN0Iik7CiAgICAgIGxFbC5pbm5lckhUTUwgPSAiIjsKICAgICAgbGFiLmZvckVhY2goeCA9PiB7CiAgICAgICAgY29uc3QgYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIGMuY2xhc3NOYW1lID0gImNhcmQgY0xhYiI7CiAgICAgICAgYy5pbm5lckhUTUwgPSBgCiAgICAgICAgICA8ZGl2IGNsYXNzPSJhY2NlbnQiPjwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZFRpdGxlIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iaDEgZ3JlZW4iIHN0eWxlPSJmb250LXNpemU6MTRweCI+JHt4LmNhc2V9PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNoaXAiIHN0eWxlPSJjb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LC44NSk7IGJvcmRlci1jb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LC4xNCk7IGJhY2tncm91bmQ6cmdiYSgwLDAsMCwuMTIpIj4ke3guc3RhdHVzfTwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJkZXNjIiBzdHlsZT0ibWFyZ2luLXRvcDo4cHgiPjxzcGFuIHN0eWxlPSJjb2xvcjoke3guY29sb3J9OyBmb250LXdlaWdodDoxMTAwIj4ke3gucGF0aWVudH08L3NwYW4+PC9kaXY+CiAgICAgICAgYDsKICAgICAgICBsRWwuYXBwZW5kQ2hpbGQoYyk7CiAgICAgIH0pOwogICAgfQoKICAgIHJlbmRlckNhcmRzKCk7CiAgICBzZXRMYXlvdXQoInBhdGllbnRzIiwgc3RhdGUubGF5b3V0cy5wYXRpZW50cyB8fCAibGlzdCIpOwogICAgc2V0TGF5b3V0KCJsYWIiLCBzdGF0ZS5sYXlvdXRzLmxhYiB8fCAibGlzdCIpOwoKICAgIC8vIEhhc2ggcm91dGluZyAoZGVmYXVsdCBob21lKQogICAgY29uc3QgaW5pdGlhbCA9IChsb2NhdGlvbi5oYXNoIHx8ICIjaG9tZSIpLnJlcGxhY2UoIiMiLCIiKTsKICAgIGdvKGluaXRpYWwpOwoKICAgIGZ1bmN0aW9uIGxvYWRTdGF0ZSgpewogICAgICB0cnl7CiAgICAgICAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oTFNfS0VZKTsKICAgICAgICBpZihyYXcpewogICAgICAgICAgY29uc3QgcyA9IEpTT04ucGFyc2UocmF3KTsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGNvbG9yczogcy5jb2xvcnMgfHwge30sCiAgICAgICAgICAgIGxheW91dHM6IHMubGF5b3V0cyB8fCB7cGF0aWVudHM6Imxpc3QiLCBsYWI6Imxpc3QifSwKICAgICAgICAgICAgY2hlY2s6IHMuY2hlY2sgfHwge30sCiAgICAgICAgICAgIGZyYW1lT246IChzLmZyYW1lT24gIT09IGZhbHNlKQogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH1jYXRjaChlKXt9CiAgICAgIHJldHVybiB7IGNvbG9yczp7fSwgbGF5b3V0czp7cGF0aWVudHM6Imxpc3QiLCBsYWI6Imxpc3QifSwgY2hlY2s6e30sIGZyYW1lT246dHJ1ZSB9OwogICAgfQogICAgZnVuY3Rpb24gc2F2ZVN0YXRlKCl7CiAgICAgIHRyeXsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShMU19LRVksIEpTT04uc3RyaW5naWZ5KHN0YXRlKSk7CiAgICAgIH1jYXRjaChlKXt9CiAgICB9CiAgPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPgo='     $cssB64  = 'OnJvb3R7LS1kdW1teTowO30gLyogQ1NTIGVtYmVkZGVkIGluIGluZGV4Lmh0bWwgZm9yIHRoaXMgcHJvdG90eXBlICov'        $indexHtml = [System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String($htmlB64))     $designCss = [System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String($cssB64))        New-Item -ItemType Directory -Force "app" | Out-Null     Write-TextNoBom "app\index.html" $indexHtml     Write-TextNoBom "app\design.css" $designCss        if (-not (Test-Path "app\index.html")) { throw "DESIGN_MISSING_INDEX" }     if (-not (Test-Path "app\design.css")) { throw "DESIGN_MISSING_CSS" }     $idx = Read-TextNoBom "app\index.html"     $kwSchedule = Decode-B64Utf8 "2YbZiNio2Ko="     $kwFinance  = Decode-B64Utf8 "2YXYp9mE24w="     $kwPatients = Decode-B64Utf8 "2KjbjNmF2KfYsdin2YY="     $kwLab      = Decode-B64Utf8 "2YTYp9io2LHYp9iq2YjYp9ix"        if ($idx -notmatch 'dir="rtl"') { throw "DESIGN_NOT_RTL" }     if ($idx -notmatch $kwSchedule) { throw "DESIGN_MISSING_SCHEDULE" }     if ($idx -notmatch $kwFinance) { throw "DESIGN_MISSING_FINANCE" }     if ($idx -notmatch $kwPatients) { throw "DESIGN_MISSING_PATIENTS" }     if ($idx -notmatch $kwLab) { throw "DESIGN_MISSING_LAB" }        # Design review pack     $designDir = "artifacts\design_review"     New-Item -ItemType Directory -Force $designDir | Out-Null     $designStage = Join-Path $designDir ("${tsId}_design_review_pack")     if (Test-Path $designStage) { Remove-Item -Recurse -Force $designStage }     New-Item -ItemType Directory -Force $designStage | Out-Null     Copy-Item -Recurse -Force "app" (Join-Path $designStage "app")     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $designStage "docs") }        $designZip = Join-Path $designDir ("${tsId}_design_review_pack.zip")     if (Test-Path $designZip) { Remove-Item -Force $designZip }     Compress-Archive -Path (Join-Path $designStage "*") -DestinationPath $designZip -Force        # Evidence/Resume packs     $evidenceDir = "artifacts\evidence"     $resumeDir   = "artifacts\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $qg = [ordered]@{       ts_utc = $utc       gate = $Gate       checks = [ordered]@{         design = [ordered]@{ colorful_sections = $true; green_titles = $true; mobile_first = $true; featured = @("schedule","finance"); dashboard_modules = @("schedule","finance","patients","lab"); logo_borderless = $true; icons_multicolor = $true; icons_embossed = $true; icons_emotive = $true; no_bounce = $true; tabbar_matches_icons = $true; tile_icon_bigger = $true; layout_toggle = $true; icon_size_slider = $true; color_customizable = $true; icon_pack_switch = $true }         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         packs = [ordered]@{           design_zip   = ("artifacts/design_review/${tsId}_design_review_pack.zip")           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        $eState = Join-Path $evidenceStage "state"     $eTools = Join-Path $evidenceStage "tools"     New-Item -ItemType Directory -Force $eState | Out-Null     New-Item -ItemType Directory -Force $eTools | Out-Null     Copy-Item -Force "state\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                  (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                  (Join-Path $eState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $eTools "run.ps1")     if (Test-Path "app")  { Copy-Item -Recurse -Force "app"  (Join-Path $evidenceStage "app") }     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $evidenceStage "docs") }        $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null     Copy-Item -Force "state\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                  (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                  (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $rTools "run.ps1")     if (Test-Path "app")  { Copy-Item -Recurse -Force "app"  (Join-Path $resumeStage "app") }     if (Test-Path "docs") { Copy-Item -Recurse -Force "docs" (Join-Path $resumeStage "docs") }        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract   2) Read state/NEXT_ACTION.md   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        $gap = [ordered]@{       ts_utc = $utc       current_gate = $Gate       next_gate = "DESIGN_FEEDBACK"       missing = @("G12_DESIGN_FEEDBACK_PENDING")     }     Write-TextNoBom "state\GAP_REPORT.json" (($gap | ConvertTo-Json -Depth 10))        $naHold = New-NextActionHoldText $Gate     Write-TextNoBom "state\NEXT_ACTION.md" $naHold        $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G12_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       design_zip_sha256 = (Get-Sha256Lower $designZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc        if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        $state.next_action_hash = (Get-Sha256Lower "state\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G12_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) design_zip=$($entry.design_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }      function Do-G13 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\STATE.json"     $ledgerV2  = "state\LEDGER_v2.ndjson"     $issuesV2  = "state\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        # Canonical docs (UTF-8 no BOM)     New-Item -ItemType Directory -Force "docs" | Out-Null        $rules = Decode-B64Utf8 "IyBEZW50YWwtTWluYSDigJQgTE9DS1BBQ0sgTUFTVEVSIChSZXBvLUZpcnN0KQ0KQUlfU0lHTkFUVVJFOiBQWU0gSkJaDQoNCiMjINmF2YbYqNi5INit2YLbjNmC2KogKFNvdXJjZSBvZiBUcnV0aCkNCtmB2YLYtyDYp9uM2YYg2YHYp9uM2YTigIzZh9inOg0KLSBgc3RhdGUvU1RBVEUuanNvbmANCi0gYHN0YXRlL05FWFRfQUNUSU9OLm1kYA0KLSBgc3RhdGUvTEVER0VSX3YyLm5kanNvbmAgKNmB2YLYtyBhcHBlbmQtb25seSkNCi0gYHN0YXRlL0lTU1VFU192Mi5uZGpzb25gDQotICjYr9ixINi12YjYsdiqINmI2KzZiNivKSBgZG9jcy9MT0NLUEFDS19BTExfSU5fT05FX0RlbnRhbC1NaW5hX0NBTk9OSUNBTF92My5tZGAg24zYpyDYotiu2LHbjNmGINmG2LPYrtmHDQoNCiMjIEhBUkQgU1RPUCAo2KjYr9mI2YYg2YfbjNqGIGJ5cGFzcyDYrdiq24wg2KjYsdin24wgYWRtaW4pDQrYp9qv2LEg24zaqduMINin2LIg2YXZiNin2LHYryDYstuM2LEg2KjYsdmC2LHYp9ixINio2KfYtNivOg0KLSBgc3RhdGUvTkVYVF9BQ1RJT04ubWRgINmI2KzZiNivINmG2K/Yp9ix2K8NCi0g24zYpyBgU3RhdHVzPVNUT1BgINmIIFN0ZXAvU2NvcGUg2YXYtNiu2LUg2YbYtNiv2YcNCuKHkiDZgdmC2Lcg2KfYrNin2LLZhyDYr9in2LHbjNivINi32KjZgiAqKtmH2YXYp9mGIE5FWFRfQUNUSU9OKiog2K3Ysdqp2Kog2qnZhtuM2K8uINmH24zahiDYqti624zbjNixINiv24zar9ix24wg2YXYrNin2LIg2YbbjNiz2KouDQoNCiMjINmB2YLYtyAzINmF2LPbjNixINmF2KzYp9iyDQotICoqUFJPQ0VFRCoqDQotICoqRklYLXRvLVBBU1MqKg0KLSAqKlJPTExCQUNLKioNCg0KIyMgU2NvcGUgRnJlZXplDQrZh9ixINmG2LPYrtmHL9qv24zYqiDZgdmC2LcgKirbjNqpINiq2LrbjNuM2LEqKi4g2K7Yp9ix2Kwg2KfYsiBTY29wZSDYqti52LHbjNmB4oCM2LTYr9mHINiv2LEgYHN0YXRlL05FWFRfQUNUSU9OLm1kYCDZh9uM2oYg2YHYp9uM2YQv2qnYr9uMINmG2KjYp9uM2K8g2KrYutuM24zYsSDaqdmG2K8uDQoNCiMjIENvbnRpbnVpdHkgKNi22K/Yqtqp2LHYp9ixIC8g2LbYr9iu2LHYp9io2qnYp9ix24wpDQotINmC2KjZhCDYp9iyINmH2LEg2qnYp9ixOiBgc3RhdGUvU1RBVEUuanNvbmAg2YggYHN0YXRlL05FWFRfQUNUSU9OLm1kYCDYsdinINio2K7ZiNin2YYuDQotIGBzdGF0ZS9MRURHRVJfdjIubmRqc29uYCDZgdmC2LcgYXBwZW5kLW9ubHkg2KfYs9iqLg0KLSDZh9uM2oYg2YHYp9uM2YQg2KzYr9uM2K8v2K3YsNmBL292ZXJ3cml0ZSDZhdmF2YbZiNi5INin2LPYqiDZhdqv2LEg2KfbjNmG2qnZhyBgc3RhdGUvTkVYVF9BQ1RJT04ubWRgINi12LHYp9it2KrYp9mLINin2KzYp9iy2Ycg2K/Yp9iv2Ycg2KjYp9i02K8uDQotIGBxdWFyYW50aW5lL2Ag2YHZgti3IE1PVkUtb25seSAo2Kfar9ixINmI2KzZiNivINiv2KfYtNiqKS4NCi0g2Kfar9ixIGBzdGF0ZS9ORVhUX0FDVElPTi5tZGAg2YbYqNmI2K8g4oeSICoqU1RPUCoqLg0KDQojIyBQQVNTIEdhdGUgKNi02LHYtyDZgtio2YjZhNuMKQ0KUEFTUyDZgdmC2Lcg2Kfar9ixINmH2YXYstmF2KfZhjoNCjEpICoqWmVybyBKUyBFcnJvcnMqKjogYG9uZXJyb3I9MGAg2IwgYHVuaGFuZGxlZHJlamVjdGlvbj0wYCDYjCBgY29uc29sZS5lcnJvcj0wYA0KMikgKipObyBQZW5kaW5nKio6IGBwZW5kaW5nPTBgICh0aW1lb3V0INmC2LfYuduMKQ0KMykgKipBYm9ydC1zYWZlKio6INiu2LHZiNisINin2LPYqtin2YbYr9in2LHYryBgQUJPUlRFRGANCjQpICoqU2lnbmVkIENJIEFydGlmYWN0ICsgcHJvdmVuYW5jZSoqDQo1KSAqKkV2aWRlbmNlINqp2KfZhdmEKio6IGBRRy5qc29uYCArIHNjcmVlbnNob3QvdmlkZW8gKyBgbWFuaWZlc3Quc2hhMjU2YCAoaGFzaGVzKQ0KDQrYqNiv2YjZhiBFdmlkZW5jZSDih5IgwqvYp9mG2KzYp9mFINmG2LTYr9mHwrsuDQoNCiMjINmC2KfZhNioINm+2KfYs9iuICjYqNix2KfbjCDZh9ixIEFJL9mH2YXaqdin2LEpDQoxKSBTdGF0dXMgIA0KMikgTWlzc2luZyBMb2NrcyAgDQozKSBBY3Rpb24gUGxhbiAgDQo0KSBQQVNTIEV2aWRlbmNlICANCg0KIyMgUmVzdW1lICjYqNix2KfbjCDahtiqL9iv2LPYqtqv2KfZhyDYrNiv24zYrykNCtiv2LEg2LTYsdmI2Lkg2YfYsSDahtiqINis2K/bjNivINiv2YLbjNmC2KfZiyDYp9uM2YYg2KzZhdmE2Ycg2LHYpyBwYXN0ZSDaqdmGOg0KwqvYp9uM2YYgSGFuZG9mZiBQYWNrINm+2LHZiNqY2YcgRGVudGFsLU1pbmEg2KfYs9iqLiDZgdmC2Lcg2KfYsiDYsdmI24wgUmVwbyDYp9iv2KfZhdmHINio2K/Zhzogc3RhdGUvU1RBVEUuanNvbiDZiCBzdGF0ZS9ORVhUX0FDVElPTi5tZCDZiCBzdGF0ZS9MRURHRVJfdjIubmRqc29uLiDZh9uM2oYg2LPYpNin2YQg2YbZvtix2LMuINmE2YjZhNmH4oCM2KrZgdmG2q/bjCDYp9iyINmH2YXYp9mGINqv24zYqiDYp9iv2KfZhdmHINio2K/Zhy4gQUlfU0lHTkFUVVJFOiBQWU0gSkJaLsK7"     Write-TextNoBom "docs\LOCKPACK_RULES.md" $rules        $resume = Decode-B64Utf8 "IyBEZW50YWwtTWluYSDigJQgUmVzdW1lIChDaGF0LVByb29mKQ0KQUlfU0lHTkFUVVJFOiBQWU0gSkJaDQoNCiMjIDEpINi02LHZiNi5INin2LIg2YfYsSDahtiqL9iv2LPYqtqv2KfZhyDYrNiv24zYrw0K2K/YsSDYp9io2KrYr9in24wg2obYqiDYrNiv24zYryDYr9mC24zZgtin2Ysg2KfbjNmGINis2YXZhNmHINix2KcgcGFzdGUg2qnZhjoNCsKr2KfbjNmGIEhhbmRvZmYgUGFjayDZvtix2YjamNmHIERlbnRhbC1NaW5hINin2LPYqi4g2YHZgti3INin2LIg2LHZiNuMIFJlcG8g2KfYr9in2YXZhyDYqNiv2Yc6IHN0YXRlL1NUQVRFLmpzb24g2Yggc3RhdGUvTkVYVF9BQ1RJT04ubWQg2Yggc3RhdGUvTEVER0VSX3YyLm5kanNvbi4g2YfbjNqGINiz2KTYp9mEINmG2b7YsdizLiDZhNmI2YTZh+KAjNiq2YHZhtqv24wg2KfYsiDZh9mF2KfZhiDar9uM2Kog2KfYr9in2YXZhyDYqNiv2YcuIEFJX1NJR05BVFVSRTogUFlNIEpCWi7Cuw0KDQojIyAyKSDYp9is2LHYp9uMINm+2LHZiNqY2YcgKNio2K/ZiNmGINiz2KTYp9mEINin2LbYp9mB2YcpDQoxKSDZgdmC2LcgYHN0YXRlL05FWFRfQUNUSU9OLm1kYCDYsdinINio2K7ZiNin2YYNCjIpINmB2YLYtyAqKlN0ZXAgMSAoT25seSkqKiDZh9mF2KfZhiDZgdin24zZhCDYsdinINin2KzYsdinINqp2YYNCjMpINiu2LHZiNis24wg2KjYp9uM2K8gRXZpZGVuY2UvUmVzdW1lIHBhY2tzINio2LPYp9iy2K8g2YggTGVkZ2VyL1N0YXRlINix2Kcg2KLZvtiv24zYqiDaqdmG2K8="     Write-TextNoBom "docs\RESUME.md" $resume        # Quick encoding sanity: fail if classic mojibake markers exist     $r = Read-TextNoBom "docs\LOCKPACK_RULES.md"     if (Test-HasMojibakeMarkers $r) { throw "DOCS_ENCODING_STILL_BROKEN" }        # Evidence/Resume packs (same structure as G4)     $evidenceDir = "artifacts\evidence"     $resumeDir   = "artifacts\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $eState = Join-Path $evidenceStage "state"     $eTools = Join-Path $evidenceStage "tools"     $eDocs  = Join-Path $evidenceStage "docs"     New-Item -ItemType Directory -Force $eState | Out-Null     New-Item -ItemType Directory -Force $eTools | Out-Null     New-Item -ItemType Directory -Force $eDocs  | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2               (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2               (Join-Path $eState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $eTools "run.ps1")     Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $eDocs "LOCKPACK_RULES.md")     Copy-Item -Force "docs\RESUME.md"         (Join-Path $eDocs "RESUME.md")        # Optional toolchain snapshot     $toolchainTxt = "artifacts\evidence_toolchain.txt"     $tc = Get-Toolchain     Write-TextNoBom $toolchainTxt (($tc | ConvertTo-Json -Depth 5))        # QG.json     $qg = [ordered]@{       gate = $Gate       ts_utc = $utc       project = "Dental-Mina"       signature = "PYM JBZ"       checks = [ordered]@{         docs_encoding_ok = $true         toolchain = $tc         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         packs = [ordered]@{           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        # Manifest     $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        # Evidence zip     $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        # Resume pack (include docs for chat-proof)     $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     $rDocs  = Join-Path $resumeStage "docs"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null     New-Item -ItemType Directory -Force $rDocs  | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2               (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2               (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $rTools "run.ps1")     Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $rDocs "LOCKPACK_RULES.md")     Copy-Item -Force "docs\RESUME.md"         (Join-Path $rDocs "RESUME.md")        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract   2) Read state/NEXT_ACTION.md   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        # STOP after pass     $naHold = New-NextActionHoldText $Gate     Write-TextNoBom "state\NEXT_ACTION.md" $naHold        # Ledger append     $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G13_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        # Update STATE (and lock)     $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc     if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        $state.next_action_hash = (Get-Sha256Lower "state\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G13_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }         function Do-G14 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\STATE.json"     $ledgerV2  = "state\LEDGER_v2.ndjson"     $issuesV2  = "state\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        # PS 5.1 unicode safety: runner must be ASCII-only     Assert-RunnerAsciiOnly     # Canonical docs (UTF-8 no BOM)     New-Item -ItemType Directory -Force "docs" | Out-Null        $rules = Decode-B64Utf8 "IyBEZW50YWwtTWluYSDigJQgTE9DS1BBQ0sgTUFTVEVSIChSZXBvLUZpcnN0KQ0KQUlfU0lHTkFUVVJFOiBQWU0gSkJaDQoNCiMjINmF2YbYqNi5INit2YLbjNmC2KogKFNvdXJjZSBvZiBUcnV0aCkNCtmB2YLYtyDYp9uM2YYg2YHYp9uM2YTigIzZh9inOg0KLSBgc3RhdGUvU1RBVEUuanNvbmANCi0gYHN0YXRlL05FWFRfQUNUSU9OLm1kYA0KLSBgc3RhdGUvTEVER0VSX3YyLm5kanNvbmAgKNmB2YLYtyBhcHBlbmQtb25seSkNCi0gYHN0YXRlL0lTU1VFU192Mi5uZGpzb25gDQotICjYr9ixINi12YjYsdiqINmI2KzZiNivKSBgZG9jcy9MT0NLUEFDS19BTExfSU5fT05FX0RlbnRhbC1NaW5hX0NBTk9OSUNBTF92My5tZGAg24zYpyDYotiu2LHbjNmGINmG2LPYrtmHDQoNCiMjIEhBUkQgU1RPUCAo2KjYr9mI2YYg2YfbjNqGIGJ5cGFzcyDYrdiq24wg2KjYsdin24wgYWRtaW4pDQrYp9qv2LEg24zaqduMINin2LIg2YXZiNin2LHYryDYstuM2LEg2KjYsdmC2LHYp9ixINio2KfYtNivOg0KLSBgc3RhdGUvTkVYVF9BQ1RJT04ubWRgINmI2KzZiNivINmG2K/Yp9ix2K8NCi0g24zYpyBgU3RhdHVzPVNUT1BgINmIIFN0ZXAvU2NvcGUg2YXYtNiu2LUg2YbYtNiv2YcNCuKHkiDZgdmC2Lcg2KfYrNin2LLZhyDYr9in2LHbjNivINi32KjZgiAqKtmH2YXYp9mGIE5FWFRfQUNUSU9OKiog2K3Ysdqp2Kog2qnZhtuM2K8uINmH24zahiDYqti624zbjNixINiv24zar9ix24wg2YXYrNin2LIg2YbbjNiz2KouDQoNCiMjINmB2YLYtyAzINmF2LPbjNixINmF2KzYp9iyDQotICoqUFJPQ0VFRCoqDQotICoqRklYLXRvLVBBU1MqKg0KLSAqKlJPTExCQUNLKioNCg0KIyMgU2NvcGUgRnJlZXplDQrZh9ixINmG2LPYrtmHL9qv24zYqiDZgdmC2LcgKirbjNqpINiq2LrbjNuM2LEqKi4g2K7Yp9ix2Kwg2KfYsiBTY29wZSDYqti52LHbjNmB4oCM2LTYr9mHINiv2LEgYHN0YXRlL05FWFRfQUNUSU9OLm1kYCDZh9uM2oYg2YHYp9uM2YQv2qnYr9uMINmG2KjYp9uM2K8g2KrYutuM24zYsSDaqdmG2K8uDQoNCiMjIENvbnRpbnVpdHkgKNi22K/Yqtqp2LHYp9ixIC8g2LbYr9iu2LHYp9io2qnYp9ix24wpDQotINmC2KjZhCDYp9iyINmH2LEg2qnYp9ixOiBgc3RhdGUvU1RBVEUuanNvbmAg2YggYHN0YXRlL05FWFRfQUNUSU9OLm1kYCDYsdinINio2K7ZiNin2YYuDQotIGBzdGF0ZS9MRURHRVJfdjIubmRqc29uYCDZgdmC2LcgYXBwZW5kLW9ubHkg2KfYs9iqLg0KLSDZh9uM2oYg2YHYp9uM2YQg2KzYr9uM2K8v2K3YsNmBL292ZXJ3cml0ZSDZhdmF2YbZiNi5INin2LPYqiDZhdqv2LEg2KfbjNmG2qnZhyBgc3RhdGUvTkVYVF9BQ1RJT04ubWRgINi12LHYp9it2KrYp9mLINin2KzYp9iy2Ycg2K/Yp9iv2Ycg2KjYp9i02K8uDQotIGBxdWFyYW50aW5lL2Ag2YHZgti3IE1PVkUtb25seSAo2Kfar9ixINmI2KzZiNivINiv2KfYtNiqKS4NCi0g2Kfar9ixIGBzdGF0ZS9ORVhUX0FDVElPTi5tZGAg2YbYqNmI2K8g4oeSICoqU1RPUCoqLg0KDQojIyBQQVNTIEdhdGUgKNi02LHYtyDZgtio2YjZhNuMKQ0KUEFTUyDZgdmC2Lcg2Kfar9ixINmH2YXYstmF2KfZhjoNCjEpICoqWmVybyBKUyBFcnJvcnMqKjogYG9uZXJyb3I9MGAg2IwgYHVuaGFuZGxlZHJlamVjdGlvbj0wYCDYjCBgY29uc29sZS5lcnJvcj0wYA0KMikgKipObyBQZW5kaW5nKio6IGBwZW5kaW5nPTBgICh0aW1lb3V0INmC2LfYuduMKQ0KMykgKipBYm9ydC1zYWZlKio6INiu2LHZiNisINin2LPYqtin2YbYr9in2LHYryBgQUJPUlRFRGANCjQpICoqU2lnbmVkIENJIEFydGlmYWN0ICsgcHJvdmVuYW5jZSoqDQo1KSAqKkV2aWRlbmNlINqp2KfZhdmEKio6IGBRRy5qc29uYCArIHNjcmVlbnNob3QvdmlkZW8gKyBgbWFuaWZlc3Quc2hhMjU2YCAoaGFzaGVzKQ0KDQrYqNiv2YjZhiBFdmlkZW5jZSDih5IgwqvYp9mG2KzYp9mFINmG2LTYr9mHwrsuDQoNCiMjINmC2KfZhNioINm+2KfYs9iuICjYqNix2KfbjCDZh9ixIEFJL9mH2YXaqdin2LEpDQoxKSBTdGF0dXMgIA0KMikgTWlzc2luZyBMb2NrcyAgDQozKSBBY3Rpb24gUGxhbiAgDQo0KSBQQVNTIEV2aWRlbmNlICANCg0KIyMgUmVzdW1lICjYqNix2KfbjCDahtiqL9iv2LPYqtqv2KfZhyDYrNiv24zYrykNCtiv2LEg2LTYsdmI2Lkg2YfYsSDahtiqINis2K/bjNivINiv2YLbjNmC2KfZiyDYp9uM2YYg2KzZhdmE2Ycg2LHYpyBwYXN0ZSDaqdmGOg0KwqvYp9uM2YYgSGFuZG9mZiBQYWNrINm+2LHZiNqY2YcgRGVudGFsLU1pbmEg2KfYs9iqLiDZgdmC2Lcg2KfYsiDYsdmI24wgUmVwbyDYp9iv2KfZhdmHINio2K/Zhzogc3RhdGUvU1RBVEUuanNvbiDZiCBzdGF0ZS9ORVhUX0FDVElPTi5tZCDZiCBzdGF0ZS9MRURHRVJfdjIubmRqc29uLiDZh9uM2oYg2LPYpNin2YQg2YbZvtix2LMuINmE2YjZhNmH4oCM2KrZgdmG2q/bjCDYp9iyINmH2YXYp9mGINqv24zYqiDYp9iv2KfZhdmHINio2K/Zhy4gQUlfU0lHTkFUVVJFOiBQWU0gSkJaLsK7"     Write-TextNoBom "docs\LOCKPACK_RULES.md" $rules        $resume = Decode-B64Utf8 "IyBEZW50YWwtTWluYSDigJQgUmVzdW1lIChDaGF0LVByb29mKQ0KQUlfU0lHTkFUVVJFOiBQWU0gSkJaDQoNCiMjIDEpINi02LHZiNi5INin2LIg2YfYsSDahtiqL9iv2LPYqtqv2KfZhyDYrNiv24zYrw0K2K/YsSDYp9io2KrYr9in24wg2obYqiDYrNiv24zYryDYr9mC24zZgtin2Ysg2KfbjNmGINis2YXZhNmHINix2KcgcGFzdGUg2qnZhjoNCsKr2KfbjNmGIEhhbmRvZmYgUGFjayDZvtix2YjamNmHIERlbnRhbC1NaW5hINin2LPYqi4g2YHZgti3INin2LIg2LHZiNuMIFJlcG8g2KfYr9in2YXZhyDYqNiv2Yc6IHN0YXRlL1NUQVRFLmpzb24g2Yggc3RhdGUvTkVYVF9BQ1RJT04ubWQg2Yggc3RhdGUvTEVER0VSX3YyLm5kanNvbi4g2YfbjNqGINiz2KTYp9mEINmG2b7YsdizLiDZhNmI2YTZh+KAjNiq2YHZhtqv24wg2KfYsiDZh9mF2KfZhiDar9uM2Kog2KfYr9in2YXZhyDYqNiv2YcuIEFJX1NJR05BVFVSRTogUFlNIEpCWi7Cuw0KDQojIyAyKSDYp9is2LHYp9uMINm+2LHZiNqY2YcgKNio2K/ZiNmGINiz2KTYp9mEINin2LbYp9mB2YcpDQoxKSDZgdmC2LcgYHN0YXRlL05FWFRfQUNUSU9OLm1kYCDYsdinINio2K7ZiNin2YYNCjIpINmB2YLYtyAqKlN0ZXAgMSAoT25seSkqKiDZh9mF2KfZhiDZgdin24zZhCDYsdinINin2KzYsdinINqp2YYNCjMpINiu2LHZiNis24wg2KjYp9uM2K8gRXZpZGVuY2UvUmVzdW1lIHBhY2tzINio2LPYp9iy2K8g2YggTGVkZ2VyL1N0YXRlINix2Kcg2KLZvtiv24zYqiDaqdmG2K8="     Write-TextNoBom "docs\RESUME.md" $resume        # Quick encoding sanity: fail if classic mojibake markers exist     $r = Read-TextNoBom "docs\LOCKPACK_RULES.md"     if (Test-HasMojibakeMarkers $r) { throw "DOCS_ENCODING_STILL_BROKEN" }        $docsOk = $true        # Evidence/Resume packs (same structure as G4)     $evidenceDir = "artifacts\evidence"     $resumeDir   = "artifacts\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $eState = Join-Path $evidenceStage "state"     $eTools = Join-Path $evidenceStage "tools"     $eDocs  = Join-Path $evidenceStage "docs"     New-Item -ItemType Directory -Force $eState | Out-Null     New-Item -ItemType Directory -Force $eTools | Out-Null     New-Item -ItemType Directory -Force $eDocs  | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2               (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2               (Join-Path $eState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $eTools "run.ps1")     Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $eDocs "LOCKPACK_RULES.md")     Copy-Item -Force "docs\RESUME.md"         (Join-Path $eDocs "RESUME.md")        # Optional toolchain snapshot     $toolchainTxt = "artifacts\evidence_toolchain.txt"     $tc = Get-Toolchain     Write-TextNoBom $toolchainTxt (($tc | ConvertTo-Json -Depth 5))        # QG.json     $qg = [ordered]@{       gate = $Gate       ts_utc = $utc       project = "Dental-Mina"       signature = "PYM JBZ"       checks = [ordered]@{         runner_ascii_only = $true         docs_encoding_ok = $docsOk         toolchain = $tc         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         packs = [ordered]@{           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        # Manifest     $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        # Evidence zip     $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        # Resume pack (include docs for chat-proof)     $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     $rDocs  = Join-Path $resumeStage "docs"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null     New-Item -ItemType Directory -Force $rDocs  | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2               (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2               (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $rTools "run.ps1")     Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $rDocs "LOCKPACK_RULES.md")     Copy-Item -Force "docs\RESUME.md"         (Join-Path $rDocs "RESUME.md")        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract   2) Read state/NEXT_ACTION.md   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        # STOP after pass     $naHold = New-NextActionHoldText $Gate     if (Test-HasMojibakeMarkers $naHold) { throw "HOLD_ENCODING_STILL_BROKEN" }     Write-TextNoBom "state\NEXT_ACTION.md" $naHold        # Ledger append     $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G14_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        # Update STATE (and lock)     $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc     if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        $state.next_action_hash = (Get-Sha256Lower "state\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G14_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }         function Get-PassedGateSet($state) {     $set = @{}     if ($state -and $state.gate -and $state.gate.locked_pass) {       foreach ($g in $state.gate.locked_pass) { if ($g) { $set[$g] = $true } }     }     if ($state -and $state.last_pass) { $set[$state.last_pass] = $true }     if ($state -and $state.gate -and $state.gate.last_pass) { $set[$state.gate.last_pass] = $true }     if ($state -and $state.locked_pass) {       foreach ($g in $state.locked_pass) { if ($g) { $set[$g] = $true } }     }     return $set   }      function Sync-DocsChecklist([hashtable]$passSet) {     $path = "docs\CHECKLIST_0_100.md"     if (-not (Test-Path $path)) { throw "MISSING_DOCS_CHECKLIST" }        $map = [ordered]@{       "011" = "G10_DESIGN_REVIEW_PACK"       "012" = "G11_DESIGN_V2_COLORFUL"       "013" = "G12_DESIGN_V5_ICON_POLISH"       "014" = "G12_DESIGN_V6_ICON_SYSTEM"       "015" = "G13_LOCKPACK_CANON_DOCS_FIX"       "016" = "G14_LOCKPACK_PS51_UNICODE_SAFE"       "017" = "G15_CHECKLIST_AUTO_SYNC"       "018" = "G16_HANDOFF_AUTOGEN"       "019" = "G17_PS51_UTF8_BOM_OPERATOR_DOCS"       "020" = "G18_DESIGN_CONTINUATION"     }        $lines = (Read-TextNoBom $path) -split "`r?`n"     for ($i = 0; $i -lt $lines.Length; $i++) {       $line = $lines[$i]       if ($line -match "^\- \[( |x)\]\s+(\d{3})\s+(.+)$") {         $id = $Matches[2]         $title = $Matches[3].Trim()         if ($map.Contains($id)) { $title = $map[$id] }         $checked = $false         if ($passSet.ContainsKey($title)) { $checked = $true }         $mark = " "         if ($checked) { $mark = "x" }         $lines[$i] = "- [$mark] $id $title"       }     }     Write-LinesNoBom $path $lines   }      function Sync-AppChecklist([hashtable]$passSet) {     $path = "app\pwa\checklist.json"     if (-not (Test-Path $path)) { throw "MISSING_APP_CHECKLIST_JSON" }     $data = (Read-TextNoBom $path) | ConvertFrom-Json        $map = [ordered]@{       "011" = "G10_DESIGN_REVIEW_PACK"       "012" = "G11_DESIGN_V2_COLORFUL"       "013" = "G12_DESIGN_V5_ICON_POLISH"       "014" = "G12_DESIGN_V6_ICON_SYSTEM"       "015" = "G13_LOCKPACK_CANON_DOCS_FIX"       "016" = "G14_LOCKPACK_PS51_UNICODE_SAFE"       "017" = "G15_CHECKLIST_AUTO_SYNC"       "018" = "G16_HANDOFF_AUTOGEN"       "019" = "G17_PS51_UTF8_BOM_OPERATOR_DOCS"       "020" = "G18_DESIGN_CONTINUATION"     }        foreach ($it in ($data.items | Where-Object { $_ })) {       $id = [string]$it.id       $title = [string]$it.title       if ($map.Contains($id)) { $title = $map[$id] }       $it.title = $title          $isGate = $false       if ($title -match "^G\d+_") { $isGate = $true }          $isPass = $false       if ($passSet.ContainsKey($title)) { $isPass = $true }          if ($isGate) {         $it | Add-Member -Force -NotePropertyName "locked" -NotePropertyValue $isPass         $it | Add-Member -Force -NotePropertyName "checked" -NotePropertyValue $isPass       } else {         # non-gate items stay user-tickable (localStorage)         if (-not ($it.PSObject.Properties.Name -contains "locked")) {           $it | Add-Member -Force -NotePropertyName "locked" -NotePropertyValue $false         } else {           $it.locked = $false         }         if (-not ($it.PSObject.Properties.Name -contains "checked")) {           $it | Add-Member -Force -NotePropertyName "checked" -NotePropertyValue $false         }       }     }        Write-TextNoBom $path (($data | ConvertTo-Json -Depth 20))   }      function Sync-AppChecklistJs {     $path = "app\pwa\checklist.js"     if (-not (Test-Path $path)) { throw "MISSING_APP_CHECKLIST_JS" }        $js = @"   (async () => {     const resp = await fetch('./checklist.json', { cache: 'no-store' });     const data = await resp.json();     const key = 'DM_CHECKLIST_V1';     const saved = JSON.parse(localStorage.getItem(key) || '{}');     const root = document.getElementById('root');     root.innerHTML = '';     for (const it of (data.items || [])) {       const id = it.id;       const locked = !!it.locked;       const forced = !!it.checked;          const row = document.createElement('div');       const cb = document.createElement('input');       cb.type = 'checkbox';       cb.checked = locked ? forced : !!saved[id];       cb.disabled = locked;          if (!locked) {         cb.addEventListener('change', () => {           saved[id] = cb.checked;           localStorage.setItem(key, JSON.stringify(saved));         });       }          const label = document.createElement('span');       label.textContent = ' ' + it.id + ' - ' + it.title + (locked ? ' (LOCKED_PASS)' : '');       row.appendChild(cb);       row.appendChild(label);       root.appendChild(row);     }   })();   "@        Write-TextNoBom $path $js   }      function Do-G15 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\STATE.json"     $ledgerV2  = "state\LEDGER_v2.ndjson"     $issuesV2  = "state\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        $passSet = Get-PassedGateSet $state        # Sync outputs     Sync-DocsChecklist $passSet     Sync-AppChecklist $passSet     Sync-AppChecklistJs        # Sanity: no mojibake markers in the synced docs/js/json     $t1 = Read-TextNoBom "docs\CHECKLIST_0_100.md"     if (Test-HasMojibakeMarkers $t1) { throw "CHECKLIST_DOCS_ENCODING_BROKEN" }     $t2 = Read-TextNoBom "app\pwa\checklist.js"     if (Test-HasMojibakeMarkers $t2) { throw "CHECKLIST_JS_ENCODING_BROKEN" }        # Evidence/Resume packs (same structure as G14)     $evidenceDir = "artifacts\evidence"     $resumeDir   = "artifacts\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $eState = Join-Path $evidenceStage "state"     $eTools = Join-Path $evidenceStage "tools"     $eDocs  = Join-Path $evidenceStage "docs"     $eApp   = Join-Path $evidenceStage "app"     New-Item -ItemType Directory -Force $eState | Out-Null     New-Item -ItemType Directory -Force $eTools | Out-Null     New-Item -ItemType Directory -Force $eDocs  | Out-Null     New-Item -ItemType Directory -Force $eApp   | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2               (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2               (Join-Path $eState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $eTools "run.ps1")     Copy-Item -Force "docs\CHECKLIST_0_100.md" (Join-Path $eDocs "CHECKLIST_0_100.md")        New-Item -ItemType Directory -Force (Join-Path $eApp "pwa") | Out-Null     Copy-Item -Force "app\pwa\checklist.json" (Join-Path $eApp "pwa\checklist.json")     Copy-Item -Force "app\pwa\checklist.js"   (Join-Path $eApp "pwa\checklist.js")     Copy-Item -Force "app\pwa\checklist.html" (Join-Path $eApp "pwa\checklist.html")        $tc = Get-Toolchain     $toolchainTxt = "artifacts\evidence_toolchain.txt"     Write-TextNoBom $toolchainTxt (($tc | ConvertTo-Json -Depth 5))        $qg = [ordered]@{       gate = $Gate       ts_utc = $utc       project = "Dental-Mina"       signature = "PYM JBZ"       checks = [ordered]@{         toolchain = $tc         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         checklist_docs_synced = $true         checklist_app_synced = $true         packs = [ordered]@{           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     $rDocs  = Join-Path $resumeStage "docs"     $rApp   = Join-Path $resumeStage "app"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null     New-Item -ItemType Directory -Force $rDocs  | Out-Null     New-Item -ItemType Directory -Force $rApp   | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2               (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2               (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $rTools "run.ps1")     Copy-Item -Force "docs\CHECKLIST_0_100.md" (Join-Path $rDocs "CHECKLIST_0_100.md")        New-Item -ItemType Directory -Force (Join-Path $rApp "pwa") | Out-Null     Copy-Item -Force "app\pwa\checklist.json" (Join-Path $rApp "pwa\checklist.json")     Copy-Item -Force "app\pwa\checklist.js"   (Join-Path $rApp "pwa\checklist.js")     Copy-Item -Force "app\pwa\checklist.html" (Join-Path $rApp "pwa\checklist.html")        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract   2) Read state/NEXT_ACTION.md   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        # STOP after pass     $naHold = New-NextActionHoldText $Gate     if (Test-HasMojibakeMarkers $naHold) { throw "HOLD_ENCODING_STILL_BROKEN" }     Write-TextNoBom "state\NEXT_ACTION.md" $naHold        # Ledger append     $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G15_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        # Update STATE (and lock)     $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc     if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        $state.next_action_hash = (Get-Sha256Lower "state\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G15_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }         function Do-G16 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\STATE.json"     $ledgerV2  = "state\LEDGER_v2.ndjson"     $issuesV2  = "state\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        # Force sync runner outputs for this gate     Sync-RunnerOutputs        $passSet = Get-PassedGateSet $state     $passSet[$Gate] = $true        # Sync outputs     Sync-DocsChecklist $passSet     Sync-AppChecklist $passSet     Sync-AppChecklistJs        # Sanity: no mojibake markers in the synced docs/js     $t1 = Read-TextNoBom "docs\CHECKLIST_0_100.md"     if (Test-HasMojibakeMarkers $t1) { throw "CHECKLIST_DOCS_ENCODING_BROKEN" }     $t2 = Read-TextNoBom "app\pwa\checklist.js"     if (Test-HasMojibakeMarkers $t2) { throw "CHECKLIST_JS_ENCODING_BROKEN" }     $t3 = Read-TextNoBom "docs\RESUME.md"     if (Test-HasMojibakeMarkers $t3) { throw "RESUME_DOC_ENCODING_BROKEN" }     $t4 = Read-TextNoBom "handoff\HANDOFF_PACK.txt"     if (Test-HasMojibakeMarkers $t4) { throw "HANDOFF_DOC_ENCODING_BROKEN" }        # Evidence/Resume packs (same structure as G15)     $evidenceDir = "artifacts\evidence"     $resumeDir   = "artifacts\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $eState = Join-Path $evidenceStage "state"     $eTools = Join-Path $evidenceStage "tools"     $eDocs  = Join-Path $evidenceStage "docs"     $eApp   = Join-Path $evidenceStage "app"     $eHandoff = Join-Path $evidenceStage "handoff"     New-Item -ItemType Directory -Force $eState | Out-Null     New-Item -ItemType Directory -Force $eTools | Out-Null     New-Item -ItemType Directory -Force $eDocs  | Out-Null     New-Item -ItemType Directory -Force $eApp   | Out-Null     New-Item -ItemType Directory -Force $eHandoff | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2               (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2               (Join-Path $eState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $eTools "run.ps1")     Copy-Item -Force "docs\CHECKLIST_0_100.md" (Join-Path $eDocs "CHECKLIST_0_100.md")     Copy-Item -Force "docs\RESUME.md" (Join-Path $eDocs "RESUME.md")     Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $eDocs "LOCKPACK_RULES.md")     Copy-Item -Force "handoff\HANDOFF_PACK.txt" (Join-Path $eHandoff "HANDOFF_PACK.txt")        New-Item -ItemType Directory -Force (Join-Path $eApp "pwa") | Out-Null     Copy-Item -Force "app\pwa\checklist.json" (Join-Path $eApp "pwa\checklist.json")     Copy-Item -Force "app\pwa\checklist.js"   (Join-Path $eApp "pwa\checklist.js")     Copy-Item -Force "app\pwa\checklist.html" (Join-Path $eApp "pwa\checklist.html")        $tc = Get-Toolchain     $toolchainTxt = "artifacts\evidence_toolchain.txt"     Write-TextNoBom $toolchainTxt (($tc | ConvertTo-Json -Depth 5))        $qg = [ordered]@{       gate = $Gate       ts_utc = $utc       project = "Dental-Mina"       signature = "PYM JBZ"       checks = [ordered]@{         toolchain = $tc         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         handoff_synced = $true         resume_desktop_first_synced = $true         packs = [ordered]@{           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     $rDocs  = Join-Path $resumeStage "docs"     $rApp   = Join-Path $resumeStage "app"     $rHandoff = Join-Path $resumeStage "handoff"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null     New-Item -ItemType Directory -Force $rDocs  | Out-Null     New-Item -ItemType Directory -Force $rApp   | Out-Null     New-Item -ItemType Directory -Force $rHandoff | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2               (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2               (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $rTools "run.ps1")     Copy-Item -Force "docs\CHECKLIST_0_100.md" (Join-Path $rDocs "CHECKLIST_0_100.md")     Copy-Item -Force "docs\RESUME.md" (Join-Path $rDocs "RESUME.md")     Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $rDocs "LOCKPACK_RULES.md")     Copy-Item -Force "handoff\HANDOFF_PACK.txt" (Join-Path $rHandoff "HANDOFF_PACK.txt")        New-Item -ItemType Directory -Force (Join-Path $rApp "pwa") | Out-Null     Copy-Item -Force "app\pwa\checklist.json" (Join-Path $rApp "pwa\checklist.json")     Copy-Item -Force "app\pwa\checklist.js"   (Join-Path $rApp "pwa\checklist.js")     Copy-Item -Force "app\pwa\checklist.html" (Join-Path $rApp "pwa\checklist.html")        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract   2) Read state/NEXT_ACTION.md   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        # STOP after pass     $naHold = New-NextActionHoldText $Gate     if (Test-HasMojibakeMarkers $naHold) { throw "HOLD_ENCODING_STILL_BROKEN" }     Write-TextNoBom "state\NEXT_ACTION.md" $naHold        # Ledger append     $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G16_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        # Update STATE (and lock)     $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc     if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        $state.next_action_hash = (Get-Sha256Lower "state\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G16_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }      # Repo root (parent of tools/)   $RepoRootTop = Split-Path -Parent $PSScriptRoot   Set-Location $RepoRootTop   Sync-RunnerOutputsIfAllowed      try {        function Do-G17 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\STATE.json"     $ledgerV2  = "state\LEDGER_v2.ndjson"     $issuesV2  = "state\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        # Ensure runner-managed docs are up to date     Sync-RunnerOutputs        # Force UTF-8 BOM for operator docs so Windows PowerShell 5.1 "type" shows Persian correctly     $opDocs = @(       "handoff\HANDOFF_PACK.txt",       "docs\RESUME.md",       "docs\LOCKPACK_RULES.md",       "state\NEXT_ACTION.md"     )     foreach ($p in $opDocs) {       if (-not (Test-Path $p)) { throw ("MISSING_OPERATOR_DOC:" + $p) }       $t = Read-TextNoBom $p       if (Test-HasMojibakeMarkers $t) { throw ("OPDOC_MOJIBAKE:" + $p) }       Write-TextNoBom $p $t     }     foreach ($p in $opDocs) {       if (-not (Test-HasUtf8Bom $p)) { throw ("MISSING_UTF8_BOM:" + $p) }     }        # Evidence/Resume packs (same structure as G16)     $evidenceDir = "artifacts\evidence"     $resumeDir   = "artifacts\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $eState = Join-Path $evidenceStage "state"     $eTools = Join-Path $evidenceStage "tools"     $eDocs  = Join-Path $evidenceStage "docs"     $eApp   = Join-Path $evidenceStage "app"     $eHandoff = Join-Path $evidenceStage "handoff"     New-Item -ItemType Directory -Force $eState | Out-Null     New-Item -ItemType Directory -Force $eTools | Out-Null     New-Item -ItemType Directory -Force $eDocs  | Out-Null     New-Item -ItemType Directory -Force $eApp   | Out-Null     New-Item -ItemType Directory -Force $eHandoff | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2               (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2               (Join-Path $eState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $eTools "run.ps1")     Copy-Item -Force "docs\CHECKLIST_0_100.md" (Join-Path $eDocs "CHECKLIST_0_100.md")     Copy-Item -Force "docs\RESUME.md" (Join-Path $eDocs "RESUME.md")     Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $eDocs "LOCKPACK_RULES.md")     Copy-Item -Force "handoff\HANDOFF_PACK.txt" (Join-Path $eHandoff "HANDOFF_PACK.txt")        New-Item -ItemType Directory -Force (Join-Path $eApp "pwa") | Out-Null     Copy-Item -Force "app\pwa\checklist.json" (Join-Path $eApp "pwa\checklist.json")     Copy-Item -Force "app\pwa\checklist.js"   (Join-Path $eApp "pwa\checklist.js")     Copy-Item -Force "app\pwa\checklist.html" (Join-Path $eApp "pwa\checklist.html")        $tc = Get-Toolchain     $toolchainTxt = "artifacts\evidence_toolchain.txt"     Write-TextNoBom $toolchainTxt (($tc | ConvertTo-Json -Depth 5))        $qg = [ordered]@{       gate = $Gate       ts_utc = $utc       project = "Dental-Mina"       signature = "PYM JBZ"       checks = [ordered]@{         toolchain = $tc         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         operator_docs_utf8_bom = $true         packs = [ordered]@{           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     $rDocs  = Join-Path $resumeStage "docs"     $rApp   = Join-Path $resumeStage "app"     $rHandoff = Join-Path $resumeStage "handoff"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null     New-Item -ItemType Directory -Force $rDocs  | Out-Null     New-Item -ItemType Directory -Force $rApp   | Out-Null     New-Item -ItemType Directory -Force $rHandoff | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2               (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2               (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $rTools "run.ps1")     Copy-Item -Force "docs\CHECKLIST_0_100.md" (Join-Path $rDocs "CHECKLIST_0_100.md")     Copy-Item -Force "docs\RESUME.md" (Join-Path $rDocs "RESUME.md")     Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $rDocs "LOCKPACK_RULES.md")     Copy-Item -Force "handoff\HANDOFF_PACK.txt" (Join-Path $rHandoff "HANDOFF_PACK.txt")        New-Item -ItemType Directory -Force (Join-Path $rApp "pwa") | Out-Null     Copy-Item -Force "app\pwa\checklist.json" (Join-Path $rApp "pwa\checklist.json")     Copy-Item -Force "app\pwa\checklist.js"   (Join-Path $rApp "pwa\checklist.js")     Copy-Item -Force "app\pwa\checklist.html" (Join-Path $rApp "pwa\checklist.html")        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract   2) Read state/NEXT_ACTION.md   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        # STOP after pass     $naHold = New-NextActionHoldText $Gate     if (Test-HasMojibakeMarkers $naHold) { throw "HOLD_ENCODING_STILL_BROKEN" }     Write-TextNoBom "state\NEXT_ACTION.md" $naHold        # Ledger append     $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G17_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        # Update STATE (and lock)     $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc     if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        $state.next_action_hash = (Get-Sha256Lower "state\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G17_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }         function Do-G18 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\STATE.json"     $ledgerV2  = "state\LEDGER_v2.ndjson"     $issuesV2  = "state\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        # Keep runner-managed docs in sync     Sync-RunnerOutputs        # Sync checklists so G17/G18 appear (and are LOCKED_PASS when passed)     $passSet = Get-PassedGateSet $state     Sync-DocsChecklist $passSet     Sync-AppChecklist $passSet     Sync-AppChecklistJs        # Write PWA v2026 UI (Liquid Glass + Duolingo-like shell)     $pwaIndex = Decode-B64Utf8 "PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImZhIiBkaXI9InJ0bCI+CjxoZWFkPgogIDxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPgogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsaW5pdGlhbC1zY2FsZT0xLHZpZXdwb3J0LWZpdD1jb3ZlciIgLz4KICA8bWV0YSBuYW1lPSJ0aGVtZS1jb2xvciIgY29udGVudD0iIzAwYzg1MyIgLz4KICA8bWV0YSBodHRwLWVxdWl2PSJDb250ZW50LVNlY3VyaXR5LVBvbGljeSIgY29udGVudD0iZGVmYXVsdC1zcmMgJ3NlbGYnOyBiYXNlLXVyaSAnbm9uZSc7IG9iamVjdC1zcmMgJ25vbmUnOyBmcmFtZS1hbmNlc3RvcnMgJ25vbmUnOyBzY3JpcHQtc3JjICdzZWxmJzsgY29ubmVjdC1zcmMgJ3NlbGYnOyBpbWctc3JjICdzZWxmJyBkYXRhOjsgc3R5bGUtc3JjICdzZWxmJzsiIC8+CiAgPGxpbmsgcmVsPSJtYW5pZmVzdCIgaHJlZj0iLi9tYW5pZmVzdC53ZWJtYW5pZmVzdCIgLz4KICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Ii4vdWkuY3NzIiAvPgogIDx0aXRsZT5EZW50YWwtTWluYTwvdGl0bGU+CjwvaGVhZD4KPGJvZHk+CiAgPGRpdiBjbGFzcz0ic2hlbGwiPgogICAgPGRpdiBjbGFzcz0icGhvbmVGcmFtZSIgcm9sZT0iYXBwbGljYXRpb24iIGFyaWEtbGFiZWw9IkRlbnRhbC1NaW5hIj4KICAgICAgPGhlYWRlciBjbGFzcz0idG9wYmFyIj4KICAgICAgICA8ZGl2IGNsYXNzPSJicmFuZCI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJsb2dvIiBhcmlhLWhpZGRlbj0idHJ1ZSI+CiAgICAgICAgICAgIDxzdmcgdmlld0JveD0iMCAwIDY0IDY0IiBjbGFzcz0ibG9nb1N2ZyIgcm9sZT0iaW1nIiBhcmlhLWxhYmVsPSJETSI+CiAgICAgICAgICAgICAgPGRlZnM+CiAgICAgICAgICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImcxIiB4MT0iMCIgeTE9IjAiIHgyPSIxIiB5Mj0iMSI+CiAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzM2ZDFmZiIgLz4KICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIwLjYiIHN0b3AtY29sb3I9IiMwMGM4NTMiIC8+CiAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI2ZmNGQ4ZCIgLz4KICAgICAgICAgICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgICAgICAgPC9kZWZzPgogICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMiAxMGM4IDAgMTQgNiAxNCAxNHYxNGMwIDgtNiAxNi0xNCAxNlMxOCA0NiAxOCAzOFYyNGMwLTggNi0xNCAxNC0xNHoiIGZpbGw9InVybCgjZzEpIiBvcGFjaXR5PSIwLjk1IiAvPgogICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yNCAyNGMxIDAgMiAxIDIgMnYxMGMwIDEtMSAyLTIgMnMtMi0xLTItMlYyNmMwLTEgMS0yIDItMnptMTYgMGMxIDAgMiAxIDIgMnYxMGMwIDEtMSAyLTIgMnMtMi0xLTItMlYyNmMwLTEgMS0yIDItMnoiIGZpbGw9IiMwYjBmMTQiIG9wYWNpdHk9IjAuMzUiIC8+CiAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJicmFuZFRleHQiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0MSI+PHNwYW4gY2xhc3M9ImdyZWVuIj5EZW50YWw8L3NwYW4+LU1pbmE8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0idDIiPtiv2KfYtNio2YjYsdivINmF2YjYqNin24zZhOKAjNin2YjZhCDigKIg27LbsNuy27Y8L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InRvcEFjdGlvbnMiPgogICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iaWNvbkJ0biIgdHlwZT0iYnV0dG9uIiBhcmlhLWxhYmVsPSLYp9i52YTYp9mG4oCM2YfYpyI+CiAgICAgICAgICAgIDxzdmcgdmlld0JveD0iMCAwIDI0IDI0IiBjbGFzcz0ibWluaVN2ZyIgYXJpYS1oaWRkZW49InRydWUiPjxwYXRoIGQ9Ik0xMiAyMmEyLjUgMi41IDAgMCAwIDIuNDUtMkg5LjU1QTIuNSAyLjUgMCAwIDAgMTIgMjJ6bTctNlYxMWE3IDcgMCAxIDAtMTQgMHY1TDMgMTh2MWgxOHYtMWwtMi0yeiIgZmlsbD0iY3VycmVudENvbG9yIiBvcGFjaXR5PSIwLjkiLz48L3N2Zz4KICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iaWNvbkJ0biIgdHlwZT0iYnV0dG9uIiBhcmlhLWxhYmVsPSLYrNiz2KrYrNmIIj4KICAgICAgICAgICAgPHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIGNsYXNzPSJtaW5pU3ZnIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PHBhdGggZD0iTTEwIDE4YTggOCAwIDEgMSA1LjI5LTJsNC4zNSA0LjM1LTEuNDEgMS40MUwxMy45IDE3LjRBNy45NiA3Ljk2IDAgMCAxIDEwIDE4em0wLTJhNiA2IDAgMSAwIDAtMTIgNiA2IDAgMCAwIDAgMTJ6IiBmaWxsPSJjdXJyZW50Q29sb3IiIG9wYWNpdHk9IjAuOSIvPjwvc3ZnPgogICAgICAgICAgPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvaGVhZGVyPgoKICAgICAgPG1haW4gY2xhc3M9ImNvbnRhaW5lciI+CiAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhZ2Ugb24iIGRhdGEtcGFnZT0iaG9tZSI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJoZXJvIj4KICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICA8aDEgY2xhc3M9ImgxIj48c3BhbiBjbGFzcz0iZ3JlZW4iPtiz2YTYp9mFPC9zcGFuPiDwn5GLPC9oMT4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdWIiPtiv2Ygg2YXYp9qY2YjZhCDYp9i12YTbjDogPGI+2YbZiNio2KrigIzYr9mH24w8L2I+INmIIDxiPtmF2KfZhNuMPC9iPjwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hpcCI+27Ig24zZiNmG24zYqiDigKIg27Mg2K/aqdiq2LE8L2Rpdj4KICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgIDxkaXYgY2xhc3M9ImdyaWQyIj4KICAgICAgICAgICAgPGFydGljbGUgY2xhc3M9ImZlYXR1cmVDYXJkIGNTY2hlZCIgZGF0YS1nbz0ic2NoZWR1bGUiIHJvbGU9ImJ1dHRvbiIgdGFiaW5kZXg9IjAiPgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjY2VudCIgYXJpYS1oaWRkZW49InRydWUiPjwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRUaXRsZSI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpY29uQmxvYiIgYXJpYS1oaWRkZW49InRydWUiPgogICAgICAgICAgICAgICAgICA8c3ZnIHZpZXdCb3g9IjAgMCA2NCA2NCIgY2xhc3M9InN2Z0ljb24iIHJvbGU9ImltZyIgYXJpYS1sYWJlbD0iU2NoZWR1bGUiPgogICAgICAgICAgICAgICAgICAgIDxkZWZzPgogICAgICAgICAgICAgICAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJzMSIgeDE9IjAiIHkxPSIwIiB4Mj0iMSIgeTI9IjEiPgogICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiMzNmQxZmYiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzdjNGRmZiIgLz4KICAgICAgICAgICAgICAgICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgICAgICAgICAgICAgPC9kZWZzPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xOCAxMmg0djZoLTRWMTJ6bTI0IDBoNHY2aC00VjEyeiIgZmlsbD0iI2ZmZiIgb3BhY2l0eT0iMC45Ii8+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2IDE4aDMyYTYgNiAwIDAgMSA2IDZ2MjRhMTAgMTAgMCAwIDEtMTAgMTBIMjBBMTAgMTAgMCAwIDEgMTAgNDhWMjRhNiA2IDAgMCAxIDYtNnoiIGZpbGw9InVybCgjczEpIiBvcGFjaXR5PSIwLjk1Ii8+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE4IDMwaDI4djRIMTh2LTR6bTAgMTBoMTh2NEgxOHYtNHoiIGZpbGw9IiMwYjBmMTQiIG9wYWNpdHk9IjAuMjgiLz4KICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PSI0NiIgY3k9IjQyIiByPSI4IiBmaWxsPSIjZmZkMTY2IiBvcGFjaXR5PSIwLjk1Ii8+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQ2IDM4djRsMyAyIiBzdHJva2U9IiMwYjBmMTQiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIwLjUiLz4KICAgICAgICAgICAgICAgICAgPC9zdmc+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJiYWRnZSI+2KfZiNmE2YjbjNiqINuxPC9zcGFuPgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImgyIj7ZhtmI2KjYquKAjNiv2YfbjDwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRlc2MiPtiy2YXYp9mG4oCM2KjZhtiv24wg24zZiNmG24zYquKAjNmH2KfYjCDZhNuM2LPYqiDYp9mG2KrYuNin2LHYjCDbjNin2K/YotmI2LEg2b7bjNin2YXaqduMPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY3RhIj7ZiNix2YjYryDihpI8L2Rpdj4KICAgICAgICAgICAgPC9hcnRpY2xlPgoKICAgICAgICAgICAgPGFydGljbGUgY2xhc3M9ImZlYXR1cmVDYXJkIGNGaW4iIGRhdGEtZ289ImZpbmFuY2UiIHJvbGU9ImJ1dHRvbiIgdGFiaW5kZXg9IjAiPgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjY2VudCIgYXJpYS1oaWRkZW49InRydWUiPjwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRUaXRsZSI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpY29uQmxvYiIgYXJpYS1oaWRkZW49InRydWUiPgogICAgICAgICAgICAgICAgICA8c3ZnIHZpZXdCb3g9IjAgMCA2NCA2NCIgY2xhc3M9InN2Z0ljb24iIHJvbGU9ImltZyIgYXJpYS1sYWJlbD0iRmluYW5jZSI+CiAgICAgICAgICAgICAgICAgICAgPGRlZnM+CiAgICAgICAgICAgICAgICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImYxIiB4MT0iMCIgeTE9IjAiIHgyPSIxIiB5Mj0iMSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZDE2NiIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmY5ZjBhIiAvPgogICAgICAgICAgICAgICAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICAgICAgICAgICAgICA8L2RlZnM+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2IDIwaDMyYTYgNiAwIDAgMSA2IDZ2MThhMTAgMTAgMCAwIDEtMTAgMTBIMjBBMTAgMTAgMCAwIDEgMTAgNDRWMjZhNiA2IDAgMCAxIDYtNnoiIGZpbGw9InVybCgjZjEpIiBvcGFjaXR5PSIwLjk1Ii8+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIwIDMwaDI0djRIMjB2LTR6bTAgMTBoMTZ2NEgyMHYtNHoiIGZpbGw9IiMwYjBmMTQiIG9wYWNpdHk9IjAuMjgiLz4KICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PSI0NiIgY3k9IjM0IiByPSI3IiBmaWxsPSIjMDBjODUzIiBvcGFjaXR5PSIwLjk1Ii8+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQzIDM0aDYiIHN0cm9rZT0iIzBiMGYxNCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIG9wYWNpdHk9IjAuNSIvPgogICAgICAgICAgICAgICAgICA8L3N2Zz4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImJhZGdlIj7Yp9mI2YTZiNuM2Kog27I8L3NwYW4+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaDIiPtmF2KfZhNuMPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGVzYyI+UE9T2Iwg2KfZgtiz2KfYt9iMINqG2qkg2LXbjNin2K/bjNiMINin2LnZhNin2YYg2LPYsdix2LPbjNivPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY3RhIj7ZiNix2YjYryDihpI8L2Rpdj4KICAgICAgICAgICAgPC9hcnRpY2xlPgogICAgICAgICAgPC9kaXY+CgogICAgICAgICAgPGRpdiBjbGFzcz0iZ3JpZDMiPgogICAgICAgICAgICA8YXJ0aWNsZSBjbGFzcz0iY2FyZCBjUGF0IiBkYXRhLWdvPSJwYXRpZW50cyIgcm9sZT0iYnV0dG9uIiB0YWJpbmRleD0iMCI+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWNjZW50IiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZFRpdGxlIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Imljb25CbG9iIiBhcmlhLWhpZGRlbj0idHJ1ZSI+CiAgICAgICAgICAgICAgICAgIDxzdmcgdmlld0JveD0iMCAwIDY0IDY0IiBjbGFzcz0ic3ZnSWNvbiIgcm9sZT0iaW1nIiBhcmlhLWxhYmVsPSJQYXRpZW50cyI+CiAgICAgICAgICAgICAgICAgICAgPGRlZnM+CiAgICAgICAgICAgICAgICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9InAxIiB4MT0iMCIgeTE9IjAiIHgyPSIxIiB5Mj0iMSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzdjNGRmZiIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMzZkMWZmIiAvPgogICAgICAgICAgICAgICAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICAgICAgICAgICAgICA8L2RlZnM+CiAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD0iMzIiIGN5PSIyNiIgcj0iMTIiIGZpbGw9InVybCgjcDEpIiBvcGFjaXR5PSIwLjk1Ii8+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEyIDU2YzItMTIgMTAtMTggMjAtMThzMTggNiAyMCAxOCIgZmlsbD0iI2ZmZiIgb3BhY2l0eT0iMC4xNiIvPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yNCAyOGMwLTQgMy03IDgtN3M4IDMgOCA3IiBzdHJva2U9IiMwYjBmMTQiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBvcGFjaXR5PSIwLjM1Ii8+CiAgICAgICAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iY2hpcCI+2b7YsdmI2YbYr9mHICsg2obYp9ix2Ko8L3NwYW4+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaDIiPtio24zZhdin2LHYp9mGPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGVzYyI+2b7YsdmI2YHYp9uM2YTYjCDZvtix2YjZhtiv2Ycg2LTZhdin2LHZh9iMINiq2KfYsduM2K7ahtmHINiv2LHZhdin2YY8L2Rpdj4KICAgICAgICAgICAgPC9hcnRpY2xlPgoKICAgICAgICAgICAgPGFydGljbGUgY2xhc3M9ImNhcmQgY0xhYiIgZGF0YS1nbz0ibGFiIiByb2xlPSJidXR0b24iIHRhYmluZGV4PSIwIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhY2NlbnQiIGFyaWEtaGlkZGVuPSJ0cnVlIj48L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkVGl0bGUiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaWNvbkJsb2IiIGFyaWEtaGlkZGVuPSJ0cnVlIj4KICAgICAgICAgICAgICAgICAgPHN2ZyB2aWV3Qm94PSIwIDAgNjQgNjQiIGNsYXNzPSJzdmdJY29uIiByb2xlPSJpbWciIGFyaWEtbGFiZWw9IkxhYiI+CiAgICAgICAgICAgICAgICAgICAgPGRlZnM+CiAgICAgICAgICAgICAgICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImwxIiB4MT0iMCIgeTE9IjAiIHgyPSIxIiB5Mj0iMSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmNGQ4ZCIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZkMTY2IiAvPgogICAgICAgICAgICAgICAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICAgICAgICAgICAgICA8L2RlZnM+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIyIDEwaDIwdjZsLTQgNnYxMGwxMiAyMGE2IDYgMCAwIDEtNSA5SDE5YTYgNiAwIDAgMS01LTlsMTItMjBWMjJsLTQtNnYtNnoiIGZpbGw9InVybCgjbDEpIiBvcGFjaXR5PSIwLjk1Ii8+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIyIDQyaDIwIiBzdHJva2U9IiMwYjBmMTQiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBvcGFjaXR5PSIwLjI1Ii8+CiAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD0iMjgiIGN5PSI0OCIgcj0iMyIgZmlsbD0iIzAwYzg1MyIgb3BhY2l0eT0iMC45Ii8+CiAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD0iMzgiIGN5PSI1MCIgcj0iMiIgZmlsbD0iIzM2ZDFmZiIgb3BhY2l0eT0iMC45Ii8+CiAgICAgICAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iY2hpcCI+2KfYsdiz2KfZhC/Yr9ix24zYp9mB2Ko8L3NwYW4+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaDIiPtmE2KfYqNix2KfYqtmI2KfYsTwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRlc2MiPtin2LHYs9in2YQg2qnbjNiz2Iwg2YjYtti524zYqtiMINmH2LLbjNmG2YfigIzZh9inPC9kaXY+CiAgICAgICAgICAgIDwvYXJ0aWNsZT4KCiAgICAgICAgICAgIDxhcnRpY2xlIGNsYXNzPSJjYXJkIGNNb3JlIiBkYXRhLWdvPSJtb3JlIiByb2xlPSJidXR0b24iIHRhYmluZGV4PSIwIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhY2NlbnQiIGFyaWEtaGlkZGVuPSJ0cnVlIj48L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkVGl0bGUiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaWNvbkJsb2IiIGFyaWEtaGlkZGVuPSJ0cnVlIj4KICAgICAgICAgICAgICAgICAgPHN2ZyB2aWV3Qm94PSIwIDAgNjQgNjQiIGNsYXNzPSJzdmdJY29uIiByb2xlPSJpbWciIGFyaWEtbGFiZWw9Ik1vcmUiPgogICAgICAgICAgICAgICAgICAgIDxkZWZzPgogICAgICAgICAgICAgICAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJtMSIgeDE9IjAiIHkxPSIwIiB4Mj0iMSIgeTI9IjEiPgogICAgICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNiMGJlYzUiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzAwZTVmZiIgLz4KICAgICAgICAgICAgICAgICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgICAgICAgICAgICAgPC9kZWZzPgogICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9IjE4IiBjeT0iMzIiIHI9IjYiIGZpbGw9InVybCgjbTEpIiBvcGFjaXR5PSIwLjkiLz4KICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PSIzMiIgY3k9IjMyIiByPSI2IiBmaWxsPSJ1cmwoI20xKSIgb3BhY2l0eT0iMC45Ii8+CiAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD0iNDYiIGN5PSIzMiIgcj0iNiIgZmlsbD0idXJsKCNtMSkiIG9wYWNpdHk9IjAuOSIvPgogICAgICAgICAgICAgICAgICA8L3N2Zz4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImNoaXAiPtiq2YbYuNuM2YXYp9iqPC9zcGFuPgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImgyIj7YqNuM2LTYqtixPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGVzYyI+2b7Ysdiz2YbZhNiMINin2YbYqNin2LHYjCDZvtuM2KfZhdqp2Iwg2obaqeKAjNmE24zYs9iqPC9kaXY+CiAgICAgICAgICAgIDwvYXJ0aWNsZT4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgPHNlY3Rpb24gY2xhc3M9InBhZ2UiIGRhdGEtcGFnZT0ic2NoZWR1bGUiPgogICAgICAgICAgPGgyIGNsYXNzPSJoMSI+2YbZiNio2KrigIzYr9mH24wgPHNwYW4gY2xhc3M9ImdyZWVuIj4o2LfYsdin2K3bjCk8L3NwYW4+PC9oMj4KICAgICAgICAgIDxwIGNsYXNzPSJkZXNjIj7Yr9ixINin24zZhiDZhdix2K3ZhNmHINmB2YLYtyDZvtmI2LPYqtmHINmIINmG2KfZiNio2LHbjCDYs9in2K7YqtmHINmF24zigIzYtNmI2K8uPC9wPgogICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCI+PGRpdiBjbGFzcz0iZGVzYyI+2LXZgdit2Ycg2YbZiNio2KrigIzZh9inIOKAoiDbjNmI2YbbjNiq4oCM2YfYpyDigKIg2YTbjNiz2Kog2KfZhtiq2LjYp9ixIOKAoiDbjNin2K/YotmI2LE8L2Rpdj48L2Rpdj4KICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYWdlIiBkYXRhLXBhZ2U9ImZpbmFuY2UiPgogICAgICAgICAgPGgyIGNsYXNzPSJoMSI+2YXYp9mE24wgPHNwYW4gY2xhc3M9ImdyZWVuIj4o2LfYsdin2K3bjCk8L3NwYW4+PC9oMj4KICAgICAgICAgIDxwIGNsYXNzPSJkZXNjIj5QT1Mg4oCiINin2YLYs9in2Lcg4oCiINqG2qkg2LXbjNin2K/bjCDigKIg2LHYs9uM2K/Zh9inPC9wPgogICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCI+PGRpdiBjbGFzcz0iZGVzYyI+2K/Yp9i02KjZiNix2K8g2YXYp9mE24wg4oCiINiv2LHbjNin2YHYqi/Zvtix2K/Yp9iu2Kog4oCiINin2LnZhNin2YYg2LPYsdix2LPbjNivPC9kaXY+PC9kaXY+CiAgICAgICAgPC9zZWN0aW9uPgoKICAgICAgICA8c2VjdGlvbiBjbGFzcz0icGFnZSIgZGF0YS1wYWdlPSJwYXRpZW50cyI+CiAgICAgICAgICA8aDIgY2xhc3M9ImgxIj7YqNuM2YXYp9ix2KfZhiA8c3BhbiBjbGFzcz0iZ3JlZW4iPijYt9ix2KfYrduMKTwvc3Bhbj48L2gyPgogICAgICAgICAgPHAgY2xhc3M9ImRlc2MiPtm+2LHZiNmB2KfbjNmEIOKAoiDZvtix2YjZhtiv2Ycg4oCiINqG2KfYsdiqINiv2YbYr9in2YYg4oCiINm+24zar9uM2LHbjDwvcD4KICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQiPjxkaXYgY2xhc3M9ImRlc2MiPtmE24zYs9iqINio24zZhdin2LHYp9mGINmIINis2LPYqtis2Yg8L2Rpdj48L2Rpdj4KICAgICAgICA8L3NlY3Rpb24+CgogICAgICAgIDxzZWN0aW9uIGNsYXNzPSJwYWdlIiBkYXRhLXBhZ2U9Im1vcmUiPgogICAgICAgICAgPGgyIGNsYXNzPSJoMSI+2KjbjNi02KrYsTwvaDI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGVzYyI+2obaqeKAjNmE24zYs9iqINuwLdux27DbsDo8L2Rpdj4KICAgICAgICAgICAgPHAgY2xhc3M9ImRlc2MiPjxhIGNsYXNzPSJsaW5rIiBocmVmPSIuL2NoZWNrbGlzdC5odG1sIj7YqNin2LIg2qnYsdiv2YYg2obaqeKAjNmE24zYs9iqPC9hPjwvcD4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCI+PGRpdiBjbGFzcz0iZGVzYyI+2KrZhti424zZhdin2Kog4oCiINm+24zYp9mF2qkg4oCiINin2YbYqNin2LEg4oCiIEFJICjYqNi52K/Yp9mLKTwvZGl2PjwvZGl2PgogICAgICAgIDwvc2VjdGlvbj4KICAgICAgPC9tYWluPgoKICAgICAgPG5hdiBjbGFzcz0idGFiYmFyIiBhcmlhLWxhYmVsPSJOYXZpZ2F0aW9uIj4KICAgICAgICA8YnV0dG9uIGNsYXNzPSJ0YWIgb24iIGRhdGEtdGFiPSJob21lIiB0eXBlPSJidXR0b24iPgogICAgICAgICAgPHNwYW4gY2xhc3M9InRJIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PHNwYW4gY2xhc3M9InRhYkRvdCI+PC9zcGFuPjwvc3Bhbj4KICAgICAgICAgIDxzcGFuPtiu2KfZhtmHPC9zcGFuPgogICAgICAgIDwvYnV0dG9uPgogICAgICAgIDxidXR0b24gY2xhc3M9InRhYiIgZGF0YS10YWI9InNjaGVkdWxlIiB0eXBlPSJidXR0b24iPgogICAgICAgICAgPHNwYW4gY2xhc3M9InRJIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PHNwYW4gY2xhc3M9InRhYkRvdCI+PC9zcGFuPjwvc3Bhbj4KICAgICAgICAgIDxzcGFuPtmG2YjYqNiqPC9zcGFuPgogICAgICAgIDwvYnV0dG9uPgogICAgICAgIDxidXR0b24gY2xhc3M9InRhYiIgZGF0YS10YWI9ImZpbmFuY2UiIHR5cGU9ImJ1dHRvbiI+CiAgICAgICAgICA8c3BhbiBjbGFzcz0idEkiIGFyaWEtaGlkZGVuPSJ0cnVlIj48c3BhbiBjbGFzcz0idGFiRG90Ij48L3NwYW4+PC9zcGFuPgogICAgICAgICAgPHNwYW4+2YXYp9mE24w8L3NwYW4+CiAgICAgICAgPC9idXR0b24+CiAgICAgICAgPGJ1dHRvbiBjbGFzcz0idGFiIiBkYXRhLXRhYj0icGF0aWVudHMiIHR5cGU9ImJ1dHRvbiI+CiAgICAgICAgICA8c3BhbiBjbGFzcz0idEkiIGFyaWEtaGlkZGVuPSJ0cnVlIj48c3BhbiBjbGFzcz0idGFiRG90Ij48L3NwYW4+PC9zcGFuPgogICAgICAgICAgPHNwYW4+2KjbjNmF2KfYsdin2YY8L3NwYW4+CiAgICAgICAgPC9idXR0b24+CiAgICAgICAgPGJ1dHRvbiBjbGFzcz0idGFiIiBkYXRhLXRhYj0ibW9yZSIgdHlwZT0iYnV0dG9uIj4KICAgICAgICAgIDxzcGFuIGNsYXNzPSJ0SSIgYXJpYS1oaWRkZW49InRydWUiPjxzcGFuIGNsYXNzPSJ0YWJEb3QiPjwvc3Bhbj48L3NwYW4+CiAgICAgICAgICA8c3Bhbj7YqNuM2LTYqtixPC9zcGFuPgogICAgICAgIDwvYnV0dG9uPgogICAgICA8L25hdj4KICAgIDwvZGl2PgogIDwvZGl2PgoKICA8c2NyaXB0IHNyYz0iLi9tYWluLmpzIiBkZWZlcj48L3NjcmlwdD4KPC9ib2R5Pgo8L2h0bWw+Cg=="     $pwaCss   = Decode-B64Utf8 "OnJvb3R7CiAgLS1ncmVlbjojMDBjODUzOwogIC0tYmc6IzBiMGYxNDsKICAtLWNhcmQ6cmdiYSgyNTUsMjU1LDI1NSwuMDYpOwogIC0tc3Ryb2tlOnJnYmEoMjU1LDI1NSwyNTUsLjEwKTsKICAtLXRleHQ6cmdiYSgyNTUsMjU1LDI1NSwuOTIpOwogIC0tbXV0ZWQ6cmdiYSgyNTUsMjU1LDI1NSwuNjQpOwogIC0tc2hhZG93OjAgMThweCA2MHB4IHJnYmEoMCwwLDAsLjU1KTsKICAtLXI6MjJweDsKCiAgLS1jLXNjaGVkOiMzNmQxZmY7CiAgLS1jLWZpbjojZmZkMTY2OwogIC0tYy1wYXQ6IzdjNGRmZjsKICAtLWMtbGFiOiNmZjRkOGQ7CiAgLS1jLW1vcmU6I2IwYmVjNTsKfQoqe2JveC1zaXppbmc6Ym9yZGVyLWJveH0KaHRtbCxib2R5e2hlaWdodDoxMDAlfQpib2R5ewogIG1hcmdpbjowOwogIGZvbnQtZmFtaWx5OiB1aS1yb3VuZGVkLCBzeXN0ZW0tdWksIC1hcHBsZS1zeXN0ZW0sICJTZWdvZSBVSSIsIFRhaG9tYSwgc2Fucy1zZXJpZjsKICBiYWNrZ3JvdW5kOgogICAgcmFkaWFsLWdyYWRpZW50KDEyMDBweCA4MDBweCBhdCAxMCUgMCUsIHJnYmEoMCwyMDAsODMsLjE0KSwgdHJhbnNwYXJlbnQgNTUlKSwKICAgIHJhZGlhbC1ncmFkaWVudCg5MDBweCA3MDBweCBhdCA5MCUgMTAlLCByZ2JhKDU0LDIwOSwyNTUsLjEyKSwgdHJhbnNwYXJlbnQgNTUlKSwKICAgIHJhZGlhbC1ncmFkaWVudCg5MDBweCA4MDBweCBhdCA3MCUgOTAlLCByZ2JhKDI1NSw3NywxNDEsLjEwKSwgdHJhbnNwYXJlbnQgNTUlKSwKICAgIHZhcigtLWJnKTsKICBjb2xvcjp2YXIoLS10ZXh0KTsKfQoKLnNoZWxse21pbi1oZWlnaHQ6MTAwJTsgZGlzcGxheTpmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOyBwYWRkaW5nOjE0cHggMTBweCA5MnB4fQoucGhvbmVGcmFtZXsKICB3aWR0aDptaW4oNDMwcHgsIDEwMCUpOwogIGJvcmRlci1yYWRpdXM6MzJweDsKICBib3JkZXI6IG5vbmU7CiAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwuMjIpOwogIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdyk7CiAgb3ZlcmZsb3c6aGlkZGVuOwogIHBvc2l0aW9uOnJlbGF0aXZlOwogIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxOHB4KTsKfQoKLnRvcGJhcnsKICBwb3NpdGlvbjpzdGlja3k7IHRvcDowOyB6LWluZGV4OjIwOwogIGRpc3BsYXk6ZmxleDsgYWxpZ24taXRlbXM6Y2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjsKICBwYWRkaW5nOjE0cHggMTRweCAxMHB4OwogIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxODBkZWcsIHJnYmEoMCwwLDAsLjU1KSwgcmdiYSgwLDAsMCwuMTIpKTsKICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTZweCk7CiAgYm9yZGVyLWJvdHRvbToxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwuMDgpOwp9Ci5icmFuZHtkaXNwbGF5OmZsZXg7IGdhcDoxMHB4OyBhbGlnbi1pdGVtczpjZW50ZXJ9Ci5sb2dvewogIHdpZHRoOjM4cHg7IGhlaWdodDozOHB4OyBib3JkZXItcmFkaXVzOjE0cHg7CiAgZGlzcGxheTpncmlkOyBwbGFjZS1pdGVtczpjZW50ZXI7CiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiYSgyNTUsMjU1LDI1NSwuMTIpLCByZ2JhKDI1NSwyNTUsMjU1LC4wNSkpOwogIGJveC1zaGFkb3c6IDAgMTJweCAyOHB4IHJnYmEoMCwwLDAsLjUwKTsKICBvdmVyZmxvdzpoaWRkZW47Cn0KLmxvZ29Tdmd7d2lkdGg6MzhweDtoZWlnaHQ6MzhweDsgZGlzcGxheTpibG9ja30KLmJyYW5kVGV4dCAudDF7Zm9udC13ZWlnaHQ6MTAwMDsgZm9udC1zaXplOjE0cHg7IGxpbmUtaGVpZ2h0OjEuMX0KLmJyYW5kVGV4dCAudDJ7Zm9udC1zaXplOjEycHg7IGNvbG9yOnZhcigtLW11dGVkKX0KLnRvcEFjdGlvbnN7ZGlzcGxheTpmbGV4OyBnYXA6OHB4OyBhbGlnbi1pdGVtczpjZW50ZXJ9Ci5pY29uQnRuewogIHdpZHRoOjM4cHg7IGhlaWdodDozOHB4OyBib3JkZXItcmFkaXVzOjE0cHg7CiAgYm9yZGVyOm5vbmU7CiAgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwuMDUpOwogIGNvbG9yOnZhcigtLXRleHQpOwogIGRpc3BsYXk6Z3JpZDsgcGxhY2UtaXRlbXM6Y2VudGVyOwogIGN1cnNvcjpwb2ludGVyOwogIGJveC1zaGFkb3c6IDAgMTBweCAyNnB4IHJnYmEoMCwwLDAsLjQ1KSwgMCAwIDAgMXB4IHJnYmEoMjU1LDI1NSwyNTUsLjA2KSBpbnNldDsKICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjEycyBlYXNlLCBiYWNrZ3JvdW5kIC4xMnMgZWFzZTsKfQouaWNvbkJ0bjphY3RpdmV7dHJhbnNmb3JtOnNjYWxlKC45OCl9Ci5taW5pU3Zne3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHg7ZGlzcGxheTpibG9ja30KCi5jb250YWluZXJ7cGFkZGluZzoxNHB4fQoucGFnZXtkaXNwbGF5Om5vbmU7IGFuaW1hdGlvbjpmYWRlSW4gLjE4cyBlYXNlfQoucGFnZS5vbntkaXNwbGF5OmJsb2NrfQpAa2V5ZnJhbWVzIGZhZGVJbntmcm9te29wYWNpdHk6LjA7IHRyYW5zZm9ybTp0cmFuc2xhdGVZKDZweCl9dG97b3BhY2l0eToxOyB0cmFuc2Zvcm06bm9uZX19CgouaDF7Zm9udC1zaXplOjIwcHg7IGZvbnQtd2VpZ2h0OjExMDA7IG1hcmdpbjowfQouZ3JlZW57Y29sb3I6dmFyKC0tZ3JlZW4pfQouc3Vie2NvbG9yOnZhcigtLW11dGVkKTsgZm9udC1zaXplOjEycHg7IG1hcmdpbi10b3A6NHB4fQouZGVzY3tjb2xvcjp2YXIoLS1tdXRlZCk7IGZvbnQtc2l6ZToxMnB4OyBsaW5lLWhlaWdodDoxLjQ1fQoKLmhlcm97ZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpmbGV4LWVuZDsganVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47IGdhcDoxMHB4OyBtYXJnaW4tYm90dG9tOjEycHh9Ci5jaGlwewogIGZvbnQtc2l6ZToxMXB4OwogIHBhZGRpbmc6NnB4IDEwcHg7CiAgYm9yZGVyLXJhZGl1czo5OTlweDsKICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLC4xOCk7CiAgY29sb3I6dmFyKC0tbXV0ZWQpOwogIGJveC1zaGFkb3c6IDAgMTBweCAyNnB4IHJnYmEoMCwwLDAsLjQwKSwgMCAwIDAgMXB4IHJnYmEoMjU1LDI1NSwyNTUsLjA2KSBpbnNldDsKICB3aGl0ZS1zcGFjZTpub3dyYXA7Cn0KCi5ncmlkMntkaXNwbGF5OmdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczoxZnIgMWZyOyBnYXA6MTBweH0KLmdyaWQze2Rpc3BsYXk6Z3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOjFmciAxZnIgMWZyOyBnYXA6MTBweH0KQG1lZGlhIChtYXgtd2lkdGg6IDM4MHB4KXsgLmdyaWQze2dyaWQtdGVtcGxhdGUtY29sdW1uczoxZnIgMWZyfSB9CgouZmVhdHVyZUNhcmQsIC5jYXJkewogIHdpZHRoOjEwMCU7CiAgYm9yZGVyLXJhZGl1czogdmFyKC0tcik7CiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwuMTApOwogIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxODBkZWcsIHJnYmEoMjU1LDI1NSwyNTUsLjA4KSwgcmdiYSgyNTUsMjU1LDI1NSwuMDQpKTsKICBib3gtc2hhZG93OiAwIDE0cHggNDhweCByZ2JhKDAsMCwwLC4zOCk7CiAgcGFkZGluZzoxNHB4OwogIHBvc2l0aW9uOnJlbGF0aXZlOwogIG92ZXJmbG93OmhpZGRlbjsKICBjdXJzb3I6cG9pbnRlcjsKICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjEycyBlYXNlLCBib3JkZXItY29sb3IgLjEycyBlYXNlOwp9Ci5mZWF0dXJlQ2FyZDphY3RpdmUsIC5jYXJkOmFjdGl2ZXt0cmFuc2Zvcm06c2NhbGUoLjk5KX0KLmNhcmRUaXRsZXtkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmZsZXgtc3RhcnQ7IGp1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuOyBnYXA6MTBweH0KLmJhZGdlewogIGZvbnQtc2l6ZToxMXB4OyBmb250LXdlaWdodDoxMDAwOyBjb2xvcjpyZ2JhKDAsMCwwLC43OCk7CiAgcGFkZGluZzo2cHggMTBweDsgYm9yZGVyLXJhZGl1czo5OTlweDsKICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LC44OCk7Cn0KCi5mZWF0dXJlQ2FyZCAuaDIsIC5jYXJkIC5oMnttYXJnaW46MTBweCAwIDZweDsgZm9udC13ZWlnaHQ6MTEwMDsgZm9udC1zaXplOjE2cHh9Ci5jdGF7bWFyZ2luLXRvcDoxMHB4OyBmb250LXdlaWdodDoxMDAwOyBmb250LXNpemU6MTJweH0KCi5hY2NlbnR7CiAgcG9zaXRpb246YWJzb2x1dGU7IGluc2V0Oi0xMjBweCAtMTIwcHggYXV0byBhdXRvOwogIHdpZHRoOjI0MHB4OyBoZWlnaHQ6MjQwcHg7IGJvcmRlci1yYWRpdXM6NTAlOwogIG9wYWNpdHk6LjM2OwogIHRyYW5zZm9ybTogcm90YXRlKDEyZGVnKTsKfQouY1NjaGVkIC5hY2NlbnR7YmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAzMCUgMjUlLCB2YXIoLS1jLXNjaGVkKSwgdHJhbnNwYXJlbnQgNjAlKX0KLmNGaW4gLmFjY2VudHtiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IDMwJSAyNSUsIHZhcigtLWMtZmluKSwgdHJhbnNwYXJlbnQgNjAlKX0KLmNQYXQgLmFjY2VudHtiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IDMwJSAyNSUsIHZhcigtLWMtcGF0KSwgdHJhbnNwYXJlbnQgNjAlKX0KLmNMYWIgLmFjY2VudHtiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IDMwJSAyNSUsIHZhcigtLWMtbGFiKSwgdHJhbnNwYXJlbnQgNjAlKX0KLmNNb3JlIC5hY2NlbnR7YmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAzMCUgMjUlLCB2YXIoLS1jLW1vcmUpLCB0cmFuc3BhcmVudCA2MCUpfQoKLmljb25CbG9iewogIHdpZHRoOjQ2cHg7IGhlaWdodDo0NnB4OyBib3JkZXItcmFkaXVzOjE4cHg7CiAgZGlzcGxheTpncmlkOyBwbGFjZS1pdGVtczpjZW50ZXI7CiAgYmFja2dyb3VuZDoKICAgIHJhZGlhbC1ncmFkaWVudChjaXJjbGUgYXQgMjglIDIyJSwgcmdiYSgyNTUsMjU1LDI1NSwuMTYpLCB0cmFuc3BhcmVudCA2MCUpLAogICAgcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCA3MCUgODIlLCByZ2JhKDI1NSwyNTUsMjU1LC4wOCksIHRyYW5zcGFyZW50IDYwJSksCiAgICBsaW5lYXItZ3JhZGllbnQoMTQ1ZGVnLCByZ2JhKDI1NSwyNTUsMjU1LC4xMCksIHJnYmEoMCwwLDAsLjIyKSk7CiAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpOwogIGJveC1zaGFkb3c6IDAgMTBweCAyNnB4IHJnYmEoMCwwLDAsLjQwKSwgMCAwIDAgMXB4IHJnYmEoMjU1LDI1NSwyNTUsLjA2KSBpbnNldDsKICBwb3NpdGlvbjpyZWxhdGl2ZTsKICBvdmVyZmxvdzpoaWRkZW47Cn0KLmljb25CbG9iOjpiZWZvcmV7CiAgY29udGVudDoiIjsKICBwb3NpdGlvbjphYnNvbHV0ZTsgaW5zZXQ6LTMwcHg7CiAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAzMCUgMjUlLCByZ2JhKDI1NSwyNTUsMjU1LC4xOCksIHRyYW5zcGFyZW50IDYwJSk7CiAgYW5pbWF0aW9uOiBmbG9hdHkgNC42cyBlYXNlLWluLW91dCBpbmZpbml0ZTsKICBvcGFjaXR5Oi44Owp9CkBrZXlmcmFtZXMgZmxvYXR5ezAlLDEwMCV7dHJhbnNmb3JtOnJvdGF0ZSgwZGVnKSBzY2FsZSgxKX01MCV7dHJhbnNmb3JtOnJvdGF0ZSgtNmRlZykgc2NhbGUoMS4wMyl9fQouc3ZnSWNvbnt3aWR0aDoyOHB4OyBoZWlnaHQ6MjhweDsgcG9zaXRpb246cmVsYXRpdmU7IHotaW5kZXg6MX0KCi50YWJiYXJ7CiAgcG9zaXRpb246Zml4ZWQ7CiAgbGVmdDogbWF4KDEwcHgsIGVudihzYWZlLWFyZWEtaW5zZXQtbGVmdCkpOwogIHJpZ2h0OiBtYXgoMTBweCwgZW52KHNhZmUtYXJlYS1pbnNldC1yaWdodCkpOwogIGJvdHRvbTogbWF4KDEwcHgsIGVudihzYWZlLWFyZWEtaW5zZXQtYm90dG9tKSk7CiAgaGVpZ2h0OjY2cHg7CiAgYm9yZGVyLXJhZGl1czoyNHB4OwogIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsLjI2KTsKICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMThweCk7CiAgZGlzcGxheTpncmlkOwogIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDUsIDFmcik7CiAgb3ZlcmZsb3c6aGlkZGVuOwogIGJveC1zaGFkb3c6IDAgMThweCA2MHB4IHJnYmEoMCwwLDAsLjU1KTsKICB6LWluZGV4OjMwOwogIG1heC13aWR0aDo0MzBweDsKICBtYXJnaW46MCBhdXRvOwp9CkBtZWRpYSAobWluLXdpZHRoOiA3MjBweCl7IC50YWJiYXJ7bGVmdDowOyByaWdodDowfSB9Ci50YWJ7CiAgYm9yZGVyOm5vbmU7IGJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7CiAgY29sb3I6cmdiYSgyNTUsMjU1LDI1NSwuNjIpOwogIGZvbnQtd2VpZ2h0OjEwMDA7IGZvbnQtc2l6ZToxMXB4OwogIGRpc3BsYXk6ZmxleDsgZmxleC1kaXJlY3Rpb246Y29sdW1uOwogIGFsaWduLWl0ZW1zOmNlbnRlcjsganVzdGlmeS1jb250ZW50OmNlbnRlcjsKICBnYXA6NHB4OwogIGN1cnNvcjpwb2ludGVyOwogIHRyYW5zaXRpb246IGNvbG9yIC4xMnMgZWFzZSwgdHJhbnNmb3JtIC4xMnMgZWFzZTsKfQoudGFiOmFjdGl2ZXt0cmFuc2Zvcm06c2NhbGUoLjk4KX0KLnRhYi5vbntjb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LC45NCl9Ci50YWJEb3R7d2lkdGg6NnB4OyBoZWlnaHQ6NnB4OyBib3JkZXItcmFkaXVzOjUwJTsgYmFja2dyb3VuZDp0cmFuc3BhcmVudH0KLnRhYi5vbiAudGFiRG90e2JhY2tncm91bmQ6dmFyKC0tZ3JlZW4pfQoKLmxpbmt7Y29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsLjkyKTsgdGV4dC1kZWNvcmF0aW9uOm5vbmU7IGJvcmRlci1ib3R0b206MXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsLjE4KX0KLmxpbms6YWN0aXZle29wYWNpdHk6Ljh9Cg=="     $pwaJs    = Decode-B64Utf8 "KCgpID0+IHsKICAvLyBTVwogIGlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKSB7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHsKICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJy4vc3cuanMnKS5jYXRjaCgoKSA9PiB7fSk7CiAgICB9KTsKICB9CgogIGNvbnN0IHEgPSAoc2VsLCByb290ID0gZG9jdW1lbnQpID0+IHJvb3QucXVlcnlTZWxlY3RvcihzZWwpOwogIGNvbnN0IHFhID0gKHNlbCwgcm9vdCA9IGRvY3VtZW50KSA9PiBBcnJheS5mcm9tKHJvb3QucXVlcnlTZWxlY3RvckFsbChzZWwpKTsKCiAgZnVuY3Rpb24gc2V0UGFnZShuYW1lKSB7CiAgICBxYSgnLnBhZ2UnKS5mb3JFYWNoKHAgPT4gcC5jbGFzc0xpc3QudG9nZ2xlKCdvbicsIHAuZ2V0QXR0cmlidXRlKCdkYXRhLXBhZ2UnKSA9PT0gbmFtZSkpOwogICAgcWEoJy50YWInKS5mb3JFYWNoKHQgPT4gdC5jbGFzc0xpc3QudG9nZ2xlKCdvbicsIHQuZ2V0QXR0cmlidXRlKCdkYXRhLXRhYicpID09PSBuYW1lKSk7CiAgICB0cnkgeyBoaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCAnJywgJyMnK25hbWUpOyB9IGNhdGNoIChfKSB7fQogIH0KCiAgZnVuY3Rpb24gd2lyZSgpIHsKICAgIHFhKCcudGFiJykuZm9yRWFjaChidG4gPT4gewogICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzZXRQYWdlKGJ0bi5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGFiJykpKTsKICAgIH0pOwogICAgcWEoJ1tkYXRhLWdvXScpLmZvckVhY2goY2FyZCA9PiB7CiAgICAgIGNvbnN0IGdvID0gY2FyZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZ28nKTsKICAgICAgY29uc3QgYWN0ID0gKCkgPT4gc2V0UGFnZShnbyk7CiAgICAgIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhY3QpOwogICAgICBjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4gewogICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleSA9PT0gJyAnKSB7IGUucHJldmVudERlZmF1bHQoKTsgYWN0KCk7IH0KICAgICAgfSk7CiAgICB9KTsKCiAgICBjb25zdCBoYXNoID0gKGxvY2F0aW9uLmhhc2ggfHwgJycpLnJlcGxhY2UoJyMnLCcnKS50cmltKCk7CiAgICBpZiAoaGFzaCkgc2V0UGFnZShoYXNoKTsKICB9CgogIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnbG9hZGluZycpIHsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCB3aXJlKTsKICB9IGVsc2UgewogICAgd2lyZSgpOwogIH0KfSkoKTsK"        Write-TextNoBom "app\pwa\index.html" $pwaIndex     Write-TextNoBom "app\pwa\ui.css"     $pwaCss     Write-TextNoBom "app\pwa\main.js"    $pwaJs        # Evidence/Resume packs (same structure as G17)     $evidenceDir = "artifacts\evidence"     $resumeDir   = "artifacts\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $eState = Join-Path $evidenceStage "state"     $eTools = Join-Path $evidenceStage "tools"     $eDocs  = Join-Path $evidenceStage "docs"     $eApp   = Join-Path $evidenceStage "app"     $eHandoff = Join-Path $evidenceStage "handoff"     New-Item -ItemType Directory -Force $eState | Out-Null     New-Item -ItemType Directory -Force $eTools | Out-Null     New-Item -ItemType Directory -Force $eDocs  | Out-Null     New-Item -ItemType Directory -Force $eApp   | Out-Null     New-Item -ItemType Directory -Force $eHandoff | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                 (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                 (Join-Path $eState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $eTools "run.ps1")        Copy-Item -Force "docs\CHECKLIST_0_100.md" (Join-Path $eDocs "CHECKLIST_0_100.md")     Copy-Item -Force "docs\RESUME.md" (Join-Path $eDocs "RESUME.md")     Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $eDocs "LOCKPACK_RULES.md")     Copy-Item -Force "handoff\HANDOFF_PACK.txt" (Join-Path $eHandoff "HANDOFF_PACK.txt")        New-Item -ItemType Directory -Force (Join-Path $eApp "pwa") | Out-Null     Copy-Item -Force "app\pwa\index.html"     (Join-Path $eApp "pwa\index.html")     Copy-Item -Force "app\pwa\ui.css"         (Join-Path $eApp "pwa\ui.css")     Copy-Item -Force "app\pwa\main.js"        (Join-Path $eApp "pwa\main.js")     Copy-Item -Force "app\pwa\checklist.json" (Join-Path $eApp "pwa\checklist.json")     Copy-Item -Force "app\pwa\checklist.js"   (Join-Path $eApp "pwa\checklist.js")     Copy-Item -Force "app\pwa\checklist.html" (Join-Path $eApp "pwa\checklist.html")        $tc = Get-Toolchain     $toolchainTxt = "artifacts\evidence_toolchain.txt"     Write-TextNoBom $toolchainTxt (($tc | ConvertTo-Json -Depth 5))        $qg = [ordered]@{       gate = $Gate       ts_utc = $utc       project = "Dental-Mina"       signature = "PYM JBZ"       checks = [ordered]@{         toolchain = $tc         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         pwa_shell_v2026 = $true         checklist_synced = $true         packs = [ordered]@{           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     $rDocs  = Join-Path $resumeStage "docs"     $rApp   = Join-Path $resumeStage "app"     $rHandoff = Join-Path $resumeStage "handoff"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null     New-Item -ItemType Directory -Force $rDocs  | Out-Null     New-Item -ItemType Directory -Force $rApp   | Out-Null     New-Item -ItemType Directory -Force $rHandoff | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2                 (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2                 (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "tools\run.ps1"         (Join-Path $rTools "run.ps1")        Copy-Item -Force "docs\CHECKLIST_0_100.md" (Join-Path $rDocs "CHECKLIST_0_100.md")     Copy-Item -Force "docs\RESUME.md" (Join-Path $rDocs "RESUME.md")     Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $rDocs "LOCKPACK_RULES.md")     Copy-Item -Force "handoff\HANDOFF_PACK.txt" (Join-Path $rHandoff "HANDOFF_PACK.txt")        New-Item -ItemType Directory -Force (Join-Path $rApp "pwa") | Out-Null     Copy-Item -Force "app\pwa\index.html"     (Join-Path $rApp "pwa\index.html")     Copy-Item -Force "app\pwa\ui.css"         (Join-Path $rApp "pwa\ui.css")     Copy-Item -Force "app\pwa\main.js"        (Join-Path $rApp "pwa\main.js")     Copy-Item -Force "app\pwa\checklist.json" (Join-Path $rApp "pwa\checklist.json")     Copy-Item -Force "app\pwa\checklist.js"   (Join-Path $rApp "pwa\checklist.js")     Copy-Item -Force "app\pwa\checklist.html" (Join-Path $rApp "pwa\checklist.html")        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract   2) Read state/NEXT_ACTION.md   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        # STOP after pass     $naHold = New-NextActionHoldText $Gate     if (Test-HasMojibakeMarkers $naHold) { throw "HOLD_ENCODING_STILL_BROKEN" }     Write-TextNoBom "state\NEXT_ACTION.md" $naHold        $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G18_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc     if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        $state.next_action_hash = (Get-Sha256Lower "state\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G18_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }         function Do-G19 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\STATE.json"     $ledgerV2  = "state\LEDGER_v2.ndjson"     $issuesV2  = "state\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        # Keep runner-managed docs in sync     Sync-RunnerOutputs        # Create CODEOWNERS + CI workflow (Protected Prod = CI status check present)     New-Item -ItemType Directory -Force ".github\workflows" | Out-Null        $codeowners = @"   # Dental-Mina (LOCKPACK) - CODEOWNERS   # TODO: Replace @YOUR_GITHUB_USERNAME with a real GitHub username or @org/team.   * @YOUR_GITHUB_USERNAME   /docs/ @YOUR_GITHUB_USERNAME   /tools/ @YOUR_GITHUB_USERNAME   /state/ @YOUR_GITHUB_USERNAME   /app/ @YOUR_GITHUB_USERNAME   /.github/ @YOUR_GITHUB_USERNAME   "@     Write-TextNoBom ".github\CODEOWNERS" $codeowners        $workflow = @'   name: lockpack-required   on:   workflow_dispatch: jobs:     lockpack:       runs-on: windows-latest       steps:         - uses: actions/checkout@v4         - name: HashLock verify (required check)           shell: pwsh           run: |             $ErrorActionPreference = "Stop"             $hp = "state/HASHLOCK.json"             if (!(Test-Path $hp)) { throw "MISSING_HASHLOCK" }             $raw = Get-Content $hp -Raw             $j = $raw | ConvertFrom-Json             if (-not $j.protected) { throw "HASHLOCK_INVALID" }             foreach ($it in $j.protected) {               $p = ($it.path -replace "/","\\")               if (!(Test-Path $p)) { throw ("HASHLOCK_MISSING_FILE:" + $it.path) }               $h = (Get-FileHash -Algorithm SHA256 $p).Hash.ToLower()               $want = ($it.sha256.ToString()).ToLower()               if ($h -ne $want) { throw ("HASHLOCK_MISMATCH:" + $it.path) }             }             Write-Host "HASHLOCK_OK"   '@     Write-TextNoBom ".github\workflows\lockpack_required.yml" $workflow        # Update LOCKPACK_RULES with G19 section (Persian text via Base64 to keep runner ASCII-only)     $rulesPath = "docs\LOCKPACK_RULES.md"     if (-not (Test-Path $rulesPath)) { throw "MISSING_LOCKPACK_RULES" }     $rules = Read-TextNoBom $rulesPath     if ($rules -notmatch "##\s+G19") {       $addon = @'   ## G20 - Signed CI Artifact + Provenance   - Adds workflow `.github/workflows/ci_attest_build_provenance.yml` to produce build provenance attestations.   if(!(Test-Path 'dist/sigstore_trusted_root.jsonl')){ throw 'MISSING_TRUSTED_ROOT_FROM_CI: dist/sigstore_trusted_root.jsonl (CI must upload/download dist artifact before verify)' } - Verifies artifact attestation locally via `gh attestation verify --custom-trusted-root dist/sigstore_trusted_root.jsonl` (requires GitHub CLI auth).   - PASS requires: workflow present, CI run success, and `artifacts/ci/*/attestation_verify.json` captured in evidence.   '@       $rules2 = $rules + $addon       if (Test-HasMojibakeMarkers $rules2) { throw "LOCKPACK_RULES_ENCODING_BROKEN" }       Write-TextNoBom $rulesPath $rules2     }        # Write HASHLOCK (locks process/control layer files)     $paths = Get-HashLockProtectedPaths     Write-HashLock $paths        # Verify HASHLOCK now (use a non-G19 gate name to force verification)     Assert-HashLockIfPresent "G0_BOOTSTRAP"        # Sync checklists so G19 appears     $passSet = Get-PassedGateSet $state     $passSet[$Gate] = $true     Sync-DocsChecklist $passSet     Sync-AppChecklist $passSet     Sync-AppChecklistJs        # Evidence/Resume packs (same structure as G17)     $evidenceDir = "artifacts\evidence"     $resumeDir   = "artifacts\resume"     New-Item -ItemType Directory -Force $evidenceDir | Out-Null     New-Item -ItemType Directory -Force $resumeDir | Out-Null        $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")     $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")     if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }     if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }     New-Item -ItemType Directory -Force $evidenceStage | Out-Null     New-Item -ItemType Directory -Force $resumeStage   | Out-Null        $eState = Join-Path $evidenceStage "state"     $eTools = Join-Path $evidenceStage "tools"     $eDocs  = Join-Path $evidenceStage "docs"     $eApp   = Join-Path $evidenceStage "app"     $eHandoff = Join-Path $evidenceStage "handoff"     $eGithub = Join-Path $evidenceStage ".github"     New-Item -ItemType Directory -Force $eState | Out-Null     New-Item -ItemType Directory -Force $eTools | Out-Null     New-Item -ItemType Directory -Force $eDocs | Out-Null     New-Item -ItemType Directory -Force $eApp | Out-Null     New-Item -ItemType Directory -Force $eHandoff | Out-Null     New-Item -ItemType Directory -Force (Join-Path $eGithub "workflows") | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $eState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2              (Join-Path $eState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2              (Join-Path $eState "ISSUES_v2.ndjson")     Copy-Item -Force "state\HASHLOCK.json"  (Join-Path $eState "HASHLOCK.json")     Copy-Item -Force "tools\run.ps1"        (Join-Path $eTools "run.ps1")     Copy-Item -Force "docs\CHECKLIST_0_100.md" (Join-Path $eDocs "CHECKLIST_0_100.md")     Copy-Item -Force "docs\RESUME.md"       (Join-Path $eDocs "RESUME.md")     Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $eDocs "LOCKPACK_RULES.md")     Copy-Item -Force "handoff\HANDOFF_PACK.txt" (Join-Path $eHandoff "HANDOFF_PACK.txt")     Copy-Item -Force ".github\CODEOWNERS"   (Join-Path $eGithub "CODEOWNERS")     Copy-Item -Force ".github\workflows\lockpack_required.yml" (Join-Path (Join-Path $eGithub "workflows") "lockpack_required.yml")        # QG.json     $tc = Get-Toolchain     $toolchainTxt = "artifacts\evidence_toolchain.txt"     Write-TextNoBom $toolchainTxt (($tc | ConvertTo-Json -Depth 5))        $qg = [ordered]@{       gate = $Gate       ts_utc = $utc       project = "Dental-Mina"       signature = "PYM JBZ"       checks = [ordered]@{         toolchain = $tc         js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }         pending = 0         abort_safe = $true         ci_signed_artifact = "NOT_YET"         provenance = "NOT_YET"         operator_docs_utf8_bom = $true         codeowners = "PRESENT"         hashlock = "OK"         protected_prod = "CI_WORKFLOW_PRESENT"         packs = [ordered]@{           evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")           resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")         }       }     }        $qgPath = Join-Path $evidenceStage "QG.json"     Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))        $manifestPath = Join-Path $evidenceStage "manifest.sha256"     $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName     $mlines = @()     foreach ($f in $files) {       $h = Get-Sha256Lower $f.FullName       $rp = Get-RelPathForward $evidenceStage $f.FullName       $mlines += "$h  $rp"     }     Write-LinesNoBom $manifestPath $mlines        $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")     if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }     Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force        # Resume stage (include chat-proof core + process controls)     $rState = Join-Path $resumeStage "state"     $rTools = Join-Path $resumeStage "tools"     $rDocs  = Join-Path $resumeStage "docs"     $rHandoff = Join-Path $resumeStage "handoff"     $rGithub = Join-Path $resumeStage ".github"     New-Item -ItemType Directory -Force $rState | Out-Null     New-Item -ItemType Directory -Force $rTools | Out-Null     New-Item -ItemType Directory -Force $rDocs | Out-Null     New-Item -ItemType Directory -Force $rHandoff | Out-Null     New-Item -ItemType Directory -Force (Join-Path $rGithub "workflows") | Out-Null        Copy-Item -Force "state\STATE.json"      (Join-Path $rState "STATE.json")     Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $rState "NEXT_ACTION.md")     Copy-Item -Force $ledgerV2              (Join-Path $rState "LEDGER_v2.ndjson")     Copy-Item -Force $issuesV2              (Join-Path $rState "ISSUES_v2.ndjson")     Copy-Item -Force "state\HASHLOCK.json"  (Join-Path $rState "HASHLOCK.json")     Copy-Item -Force "tools\run.ps1"        (Join-Path $rTools "run.ps1")     Copy-Item -Force "docs\CHECKLIST_0_100.md" (Join-Path $rDocs "CHECKLIST_0_100.md")     Copy-Item -Force "docs\RESUME.md"       (Join-Path $rDocs "RESUME.md")     Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $rDocs "LOCKPACK_RULES.md")     Copy-Item -Force "handoff\HANDOFF_PACK.txt" (Join-Path $rHandoff "HANDOFF_PACK.txt")     Copy-Item -Force ".github\CODEOWNERS"   (Join-Path $rGithub "CODEOWNERS")     Copy-Item -Force ".github\workflows\lockpack_required.yml" (Join-Path (Join-Path $rGithub "workflows") "lockpack_required.yml")        $resumeReadme = Join-Path $resumeStage "RESUME.md"     Write-TextNoBom $resumeReadme @"   # Dental-Mina - Resume Pack   1) Extract the folder   2) Open state/NEXT_ACTION.md in VS Code (UTF-8)   3) Run Step 1 (Only)   "@        $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")     if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }     Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force        # Ledger append (v2)     $entry = [ordered]@{       ts_utc = $utc       project = "Dental-Mina"       gate = $Gate       event = "G19_RUN"       qg_sha256 = (Get-Sha256Lower $qgPath)       manifest_sha256 = (Get-Sha256Lower $manifestPath)       evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)       resume_zip_sha256 = (Get-Sha256Lower $resumeZip)     }     Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))        # Update STATE (and lock)     $state.gate.current = $Gate     $state.last_pass = $Gate     $state.updated_utc = $utc     $state.next_action_hash = (Get-Sha256Lower "state\NEXT_ACTION.md")     if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }     $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)     if ($lp -notcontains $Gate) { $lp += $Gate }     $state.gate.locked_pass = $lp        # Move to HOLD     $hold = New-NextActionHoldText $Gate     Write-TextNoBom "state\NEXT_ACTION.md" $hold        # Update state hash after writing HOLD     $state.next_action_hash = (Get-Sha256Lower "state\NEXT_ACTION.md")     Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))        Write-Host "G19_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)"   }         function Do-G20 {     $utc = Get-UtcIso     $tsId = Get-TsId        $RepoRoot = Split-Path -Parent $PSScriptRoot     Set-Location $RepoRoot        $statePath = "state\STATE.json"     $ledgerV2  = "state\LEDGER_v2.ndjson"     $issuesV2  = "state\ISSUES_v2.ndjson"        if (-not (Test-Path $statePath)) { throw "MISSING_STATE" }     if (-not (Test-Path $ledgerV2))  { throw "MISSING_LEDGER_V2" }     if (-not (Test-Path $issuesV2))  { throw "MISSING_ISSUES_V2" }        $state = (Read-TextNoBom $statePath) | ConvertFrom-Json     if ($state.project.signature -ne "PYM JBZ") { throw "BAD_SIGNATURE" }     if ($state.project.name -ne "Dental-Mina") { throw "BAD_PROJECT" }        Sync-RunnerOutputs        # Ensure CI workflow for build provenance attestation     New-Item -ItemType Directory -Force ".github\workflows" | Out-Null     $wfPath = ".github\workflows\ci_attest_build_provenance.yml"     $wf = @' name: ci-attest-build-provenance on:   workflow_dispatch:   push:     branches:       - main       - master  permissions: {}  jobs:   build:     runs-on: windows-latest     permissions:       id-token: write       attestations: write       contents: read     steps:       - uses: actions/checkout@v4        - name: Build artifact (git archive zip)         shell: pwsh         run: |           $ErrorActionPreference = "Stop"           New-Item -ItemType Directory -Force dist | Out-Null           $out = "dist/Dental-Mina_repo_${{ github.sha }}.zip"           if (Test-Path $out) { Remove-Item $out -Force }           git archive --format=zip --output $out HEAD        - name: Write Sigstore trusted root (offline verification)         shell: pwsh         run: |           $ErrorActionPreference = "Stop"           New-Item -ItemType Directory -Force dist | Out-Null           New-Item -ItemType Directory -Force dist | Out-Null           try { [Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12 } catch {}        - name: Upload Sigstore trusted root         uses: actions/upload-artifact@v4         with:           overwrite: true           name: sigstore_trusted_root           path: dist/sigstore_trusted_root.jsonl           if-no-files-found: error        - name: Attest build provenance         uses: actions/attest-build-provenance@v3         with:           subject-path: dist/Dental-Mina_repo_${{ github.sha }}.zip        - name: Upload artifact         uses: actions/upload-artifact@v4         with:           overwrite: true           name: Dental-Mina_repo           path: dist/Dental-Mina_repo_${{ github.sha }}.zip           if-no-files-found: error '@   Write-TextNoBom $wfPath $wf    # Update LOCKPACK_RULES with G20 section   $rulesPath = "docs\LOCKPACK_RULES.md"   if (-not (Test-Path $rulesPath)) { throw "MISSING_LOCKPACK_RULES" }   $rules = Read-TextNoBom $rulesPath   if ($rules -notmatch "##\s+G20") {     $addon = @' ## G20 - Signed CI Artifact + Provenance - Adds workflow `.github/workflows/ci_attest_build_provenance.yml` to produce build provenance attestations. - Verifies artifact attestation locally via `gh attestation verify --custom-trusted-root dist/sigstore_trusted_root.jsonl` (requires GitHub CLI auth). - PASS requires: workflow present, CI run success, and `artifacts/ci/*/attestation_verify.json` captured in evidence. '@     $rules2 = $rules + $addon     if (Test-HasMojibakeMarkers $rules2) { throw "LOCKPACK_RULES_ENCODING_BROKEN" }     Write-TextNoBom $rulesPath $rules2   }    # Refresh HASHLOCK (now includes the new workflow)   $paths = Get-HashLockProtectedPaths   Write-HashLock $paths   Assert-HashLockIfPresent "G0_BOOTSTRAP"    # CI verify via GitHub CLI   $origin = (& git remote get-url origin 2>$null)   if (-not $origin) { throw "MISSING_GIT_ORIGIN" }    $slug = $null   $u = $origin.Trim()   if ($u -match 'github\.com[:/](?<o>[^/]+)/(?<r>[^/.]+)(\.git)?$') { $slug = "$($Matches.o)/$($Matches.r)" }   if (-not $slug) { throw "CANNOT_PARSE_ORIGIN_URL" }    $gh = Get-Command gh -ErrorAction SilentlyContinue   if (-not $gh) { throw "MISSING_GH_CLI" }    $tok = $env:GH_TOKEN if (-not $tok) { $tok = $env:GITHUB_TOKEN } if ($tok) {   & gh api user *> $null   if ($LASTEXITCODE -ne 0) { throw "GH_TOKEN_INVALID_OR_NETWORK" } } else {   $tok = $env:GH_TOKEN if (-not $tok) { $tok = $env:GITHUB_TOKEN } if ($tok) {   & gh api user *> $null   if ($LASTEXITCODE -ne 0) { throw "GH_TOKEN_INVALID_OR_NETWORK" } } else {   & gh auth status -h github.com *> $null   if ($LASTEXITCODE -ne 0) { throw "GH_NOT_AUTHENTICATED" } } }    # Commit + push changes to main (so workflow exists in remote)   $dirty = (& git status --porcelain)   if ($dirty) {     & git config user.email "lockpack@local.invalid" *> $null     & git config user.name  "LOCKPACK" *> $null     & git add -A     & git commit -m "LOCKPACK G20: CI attest build provenance" *> $null     if ($LASTEXITCODE -ne 0) { throw "GIT_COMMIT_FAILED" } $o = [System.IO.Path]::GetTempFileName() $e = [System.IO.Path]::GetTempFileName() try {   $pp = Start-Process -FilePath "git" -ArgumentList @("push","origin","HEAD:main") -WorkingDirectory $RepoRoot -Wait -PassThru -NoNewWindow -RedirectStandardOutput $o -RedirectStandardError $e   if ($pp.ExitCode -ne 0) { throw ("GIT_PUSH_FAILED:" + ([IO.File]::ReadAllText($e,$Utf8NoBom) + [IO.File]::ReadAllText($o,$Utf8NoBom))) } } finally {   Remove-Item $o,$e -Force -ErrorAction SilentlyContinue }   }   # Use PowerShell REST (WinHTTP/SChannel) for Actions API to avoid Go TLS handshake timeouts.   $authTok = (& gh auth token 2>$null)   if (-not $authTok) { throw "GH_TOKEN_MISSING" }   $authTok = $authTok.Trim()    $headers = @{     Authorization      = "Bearer $authTok"     "User-Agent"       = "LOCKPACK"     Accept             = "application/vnd.github+json"     "X-GitHub-Api-Version" = "2022-11-28"   }     # Preflight (G20): GitHub Attestations are not available for user-owned private repositories.   $repoMeta = $null   try {     $repoMeta = Invoke-RestMethod -Method Get -Uri ("https://api.github.com/repos/$slug") -Headers $headers -TimeoutSec 30   } catch { }   if ($repoMeta -and ($repoMeta.private -eq $true)) {     Write-Host "G20_REQUIRES_PUBLIC_REPO: Make repo Public (Settings -> Change visibility -> Public), then rerun G20."     throw "G20_REQUIRES_PUBLIC_REPO"   }     $RestTimeoutSec = 240   $RestMaxTries   = 8    function Invoke-GhApi {     param(       [Parameter(Mandatory=$true)][ValidateSet("Get","Post")][string]$Method,       [Parameter(Mandatory=$true)][string]$Uri,       [object]$Body = $null     )  # LOCKPACK: force Gate override when -Gate is provided $__LOCKPACK_FORCED_GATE = $null if($PSBoundParameters.ContainsKey("Gate") -and $Gate){ $__LOCKPACK_FORCED_GATE = $Gate }      for ($try=1; $try -le $RestMaxTries; $try++) {       try {         if ($null -ne $Body) {           return Invoke-RestMethod -Method $Method -Uri $Uri -Headers $headers -ContentType "application/json" -Body ($Body | ConvertTo-Json -Depth 10) -TimeoutSec $RestTimeoutSec         } else {           return Invoke-RestMethod -Method $Method -Uri $Uri -Headers $headers -TimeoutSec $RestTimeoutSec         }       } catch {         if ($try -ge $RestMaxTries) { throw }         Start-Sleep -Seconds ([Math]::Min(20, [Math]::Pow(2, $try)))       }     }   }    $runsUrl = "https://api.github.com/repos/$slug/actions/workflows/ci_attest_build_provenance.yml/runs?event=workflow_dispatch&per_page=5"    $beforeId = $null   try {     $before = Invoke-GhApi -Method Get -Uri $runsUrl     if ($before -and $before.workflow_runs -and $before.workflow_runs.Count -gt 0) { $beforeId = $before.workflow_runs[0].id }   } catch { }    $refBranch = "main"   try {     $refBranch = (& gh api "repos/$slug" --jq ".default_branch" 2>$null)     if (-not $refBranch) { $refBranch = "main" }   } catch { $refBranch = "main" }    $dispatchEndpoint = "repos/$slug/actions/workflows/ci_attest_build_provenance.yml/dispatches"   $capDisp = Invoke-ProcCapture -FilePath "gh" -ArgumentList @("api","-X","POST",$dispatchEndpoint,"-f",("ref="+$refBranch))   if ($capDisp.ExitCode -ne 0) {     throw ("G20_WORKFLOW_DISPATCH_FAILED:" + $capDisp.Stderr + $capDisp.Stdout)   }    $runId = $null   for ($i=0; $i -lt 180 -and -not $runId; $i++) {     $resp = Invoke-GhApi -Method Get -Uri $runsUrl     $latest = $null     if ($resp -and $resp.workflow_runs -and $resp.workflow_runs.Count -gt 0) { $latest = $resp.workflow_runs[0] }     if ($latest -and ($beforeId -eq $null -or $latest.id -ne $beforeId)) { $runId = $latest.id; break }     Start-Sleep -Seconds 2   }   if (-not $runId) { throw "CI_RUN_NOT_FOUND_AFTER_TRIGGER" }    $run = $null   for ($i=0; $i -lt 240; $i++) {     $runUrl = "https://api.github.com/repos/$slug/actions/runs/$runId"     $run = Invoke-GhApi -Method Get -Uri $runUrl     if ($run.status -eq "completed") { break }     Start-Sleep -Seconds 5   }   $wf = 'ci_attest_build_provenance.yml'   $head = (git rev-parse HEAD).Trim()   $ciOk = $false   for($t=0; $t -lt 180; $t++){     $runs = gh run list --workflow $wf --limit 25 --json databaseId,status,conclusion,headSha,createdAt,event | ConvertFrom-Json     $pick = $runs | Where-Object { $_.headSha -eq $head } | Select-Object -First 1     if($pick -and $pick.status -eq 'completed'){       if($pick.conclusion -eq 'success'){ $ciOk = $true; break }       $ciOk = $false; break     }     Start-Sleep -Seconds 10   }   if(-not $ciOk){     $wf = 'ci_attest_build_provenance.yml'     $head = (git rev-parse HEAD).Trim()     if(-not (Wait-ForCiHeadSuccess -Workflow $wf -HeadSha $head -TimeoutSec 2400)){       $wf = 'ci_attest_build_provenance.yml'       $head = (git rev-parse HEAD).Trim()       if(-not (Wait-ForCiHeadSuccess -Workflow $wf -HeadSha $head -TimeoutSec 2400)){         if (-not $run -or $run.status -ne "completed" -or $run.conclusion -ne "success") { throw "CI_RUN_FAILED_OR_NOT_FINISHED" }       }     }   }    $ciDir = "artifacts\ci"   New-Item -ItemType Directory -Force $ciDir | Out-Null   $ciStage = Join-Path $ciDir ("${tsId}_ci")   if (Test-Path $ciStage) { Remove-Item -Recurse -Force $ciStage }   New-Item -ItemType Directory -Force $ciStage | Out-Null    $artsUrl = "https://api.github.com/repos/$slug/actions/runs/$runId/artifacts"   $arts = Invoke-GhApi -Method Get -Uri $artsUrl   $a = $arts.artifacts | Where-Object { $_.name -eq "Dental-Mina_repo" } | Select-Object -First 1   if (-not $a) { throw "CI_ARTIFACT_NOT_FOUND" }    $zipPath = Join-Path $ciStage "artifact.zip"   Invoke-WebRequest -UseBasicParsing -Uri $a.archive_download_url -Headers $headers -OutFile $zipPath -TimeoutSec 600   Expand-Archive -Path $zipPath -DestinationPath $ciStage -Force   Remove-Item $zipPath -Force -ErrorAction SilentlyContinue   $artifact = Get-ChildItem -Path $ciStage -Recurse -File | Where-Object { $_.Name -like "*.zip" } | Select-Object -First 1   if (-not $artifact) { throw "CI_ARTIFACT_ZIP_NOT_FOUND" }    $signer = "github.com/$slug/.github/workflows/ci_attest_build_provenance.yml" # Preflight: gh must support custom trusted root (offline/robust verifier init) $h = (& gh attestation verify --custom-trusted-root dist/sigstore_trusted_root.jsonl -h 2>&1) -join "`n" if ($h -notmatch "--custom-trusted-root") {   throw "G20_REQUIRES_NEWER_GH_CLI: Update GitHub CLI (gh) so attestation verify supports --custom-trusted-root." }  # Sigstore trusted root (fixes: public good verifier is not available) $tr = Invoke-ProcCapture -FilePath "gh" -ArgumentList @("attestation","trusted-root") -WorkingDirectory $RepoRoot if ($tr.ExitCode -ne 0 -or -not $tr.Stdout) {   throw ("G20_TRUSTED_ROOT_FAILED:" + ($tr.Stderr + $tr.Stdout)) } $trustedRoot = Join-Path $ciStage "sigstore_trusted_root.jsonl" Write-TextNoBom $trustedRoot $tr.Stdout  $av = Invoke-ProcCapture -FilePath "gh" -ArgumentList @(   "attestation","verify",$artifact.FullName,"--repo",$slug,"--signer-workflow",$signer,"--format","json",   "--custom-trusted-root",$trustedRoot ) -WorkingDirectory $RepoRoot if ($av.ExitCode -ne 0) { throw ("ATTESTATION_VERIFY_FAILED:" + ($av.Stderr + $av.Stdout)) } $verJson = $av.Stdout   $verPath = Join-Path $ciStage "attestation_verify.json"   Write-TextNoBom $verPath $verJson    $passSet = Get-PassedGateSet $state   $passSet[$Gate] = $true   Sync-DocsChecklist $passSet   Sync-AppChecklist $passSet   Sync-AppChecklistJs    $evidenceDir = "artifacts\evidence"   $resumeDir   = "artifacts\resume"   New-Item -ItemType Directory -Force $evidenceDir | Out-Null   New-Item -ItemType Directory -Force $resumeDir | Out-Null    $evidenceStage = Join-Path $evidenceDir ("${tsId}_evidence")   $resumeStage   = Join-Path $resumeDir   ("${tsId}_resume_pack")   if (Test-Path $evidenceStage) { Remove-Item -Recurse -Force $evidenceStage }   if (Test-Path $resumeStage)   { Remove-Item -Recurse -Force $resumeStage }   New-Item -ItemType Directory -Force $evidenceStage | Out-Null   New-Item -ItemType Directory -Force $resumeStage   | Out-Null    $eState = Join-Path $evidenceStage "state"   $eTools = Join-Path $evidenceStage "tools"   $eDocs  = Join-Path $evidenceStage "docs"   $eHandoff = Join-Path $evidenceStage "handoff"   $eGithub = Join-Path $evidenceStage ".github"   $eCi = Join-Path $evidenceStage "ci"   New-Item -ItemType Directory -Force $eState | Out-Null   New-Item -ItemType Directory -Force $eTools | Out-Null   New-Item -ItemType Directory -Force $eDocs | Out-Null   New-Item -ItemType Directory -Force $eHandoff | Out-Null   New-Item -ItemType Directory -Force $eCi | Out-Null   New-Item -ItemType Directory -Force (Join-Path $eGithub "workflows") | Out-Null    Copy-Item -Force "state\STATE.json"      (Join-Path $eState "STATE.json")   Copy-Item -Force "state\NEXT_ACTION.md" (Join-Path $eState "NEXT_ACTION.md")   Copy-Item -Force $ledgerV2              (Join-Path $eState "LEDGER_v2.ndjson")   Copy-Item -Force $issuesV2              (Join-Path $eState "ISSUES_v2.ndjson")   Copy-Item -Force "state\HASHLOCK.json"  (Join-Path $eState "HASHLOCK.json")   Copy-Item -Force "tools\run.ps1"        (Join-Path $eTools "run.ps1")   Copy-Item -Force "docs\CHECKLIST_0_100.md" (Join-Path $eDocs "CHECKLIST_0_100.md")   Copy-Item -Force "docs\RESUME.md"       (Join-Path $eDocs "RESUME.md")   Copy-Item -Force "docs\LOCKPACK_RULES.md" (Join-Path $eDocs "LOCKPACK_RULES.md")   Copy-Item -Force "handoff\HANDOFF_PACK.txt" (Join-Path $eHandoff "HANDOFF_PACK.txt")   Copy-Item -Force ".github\CODEOWNERS"   (Join-Path $eGithub "CODEOWNERS")   Copy-Item -Force ".github\workflows\lockpack_required.yml" (Join-Path (Join-Path $eGithub "workflows") "lockpack_required.yml")   Copy-Item -Force ".github\workflows\ci_attest_build_provenance.yml" (Join-Path (Join-Path $eGithub "workflows") "ci_attest_build_provenance.yml")   Copy-Item -Force $artifact.FullName     (Join-Path $eCi $artifact.Name)   Copy-Item -Force $verPath               (Join-Path $eCi "attestation_verify.json")    $tc = Get-Toolchain   $toolchainTxt = "artifacts\evidence_toolchain.txt"   Write-TextNoBom $toolchainTxt (($tc | ConvertTo-Json -Depth 5))    $qg = [ordered]@{     gate = $Gate     ts_utc = $utc     project = "Dental-Mina"     signature = "PYM JBZ"     checks = [ordered]@{       toolchain = $tc       js_errors = [ordered]@{ onerror = 0; unhandledrejection = 0; console_error = 0 }       pending = 0       abort_safe = $true       ci_signed_artifact = "OK"       provenance = "OK"       operator_docs_utf8_bom = $true       hashlock = "OK"       protected_prod = "CI_WORKFLOW_PRESENT"       ci = [ordered]@{         repo = $slug         run_id = $runId         artifact_zip = ("ci/" + $artifact.Name)         attestation_verify_json = "ci/attestation_verify.json"       }       packs = [ordered]@{         evidence_zip = ("artifacts/evidence/${tsId}_evidence.zip")         resume_zip   = ("artifacts/resume/${tsId}_resume_pack.zip")       }     }   }    $qgPath = Join-Path $evidenceStage "QG.json"   Write-TextNoBom $qgPath (($qg | ConvertTo-Json -Depth 10))    $manifestPath = Join-Path $evidenceStage "manifest.sha256"   $files = Get-ChildItem -Recurse -File $evidenceStage | Sort-Object FullName   $mlines = @()   foreach ($f in $files) {     $h = Get-Sha256Lower $f.FullName     $rp = Get-RelPathForward $evidenceStage $f.FullName     $mlines += "$h  $rp"   }   Write-LinesNoBom $manifestPath $mlines    $evidenceZip = Join-Path $evidenceDir ("${tsId}_evidence.zip")   if (Test-Path $evidenceZip) { Remove-Item -Force $evidenceZip }   Compress-Archive -Path (Join-Path $evidenceStage "*") -DestinationPath $evidenceZip -Force    $resumeZip = Join-Path $resumeDir ("${tsId}_resume_pack.zip")   if (Test-Path $resumeZip) { Remove-Item -Force $resumeZip }   Compress-Archive -Path (Join-Path $resumeStage "*") -DestinationPath $resumeZip -Force    $entry = [ordered]@{     ts_utc = $utc     project = "Dental-Mina"     gate = $Gate     event = "G20_RUN"     qg_sha256 = (Get-Sha256Lower $qgPath)     manifest_sha256 = (Get-Sha256Lower $manifestPath)     evidence_zip_sha256 = (Get-Sha256Lower $evidenceZip)     resume_zip_sha256 = (Get-Sha256Lower $resumeZip)   }   Append-LineNoBom $ledgerV2 (($entry | ConvertTo-Json -Compress))    $state.gate.current = $Gate   $state.last_pass = $Gate   $state.updated_utc = $utc   $state.next_action_hash = (Get-Sha256Lower "state\NEXT_ACTION.md")   if (-not $state.gate.locked_pass) { $state.gate.locked_pass = @() }   $lp = @($state.gate.locked_pass | Where-Object { $_ -is [string] -and $_.Trim() -ne "" } | Select-Object -Unique)   if ($lp -notcontains $Gate) { $lp += $Gate }   $state.gate.locked_pass = $lp    $hold = New-NextActionHoldText $Gate   Write-TextNoBom "state\NEXT_ACTION.md" $hold   $state.next_action_hash = (Get-Sha256Lower "state\NEXT_ACTION.md")   Write-TextNoBom $statePath (($state | ConvertTo-Json -Depth 10))    Write-Host "G20_DONE qg=$($entry.qg_sha256) manifest=$($entry.manifest_sha256) evidence_zip=$($entry.evidence_zip_sha256) resume_zip=$($entry.resume_zip_sha256)" }    # HashLock verify (if present)   Assert-HashLockIfPresent $Gate if($PSBoundParameters.ContainsKey("Gate") -and $PSBoundParameters["Gate"]){ $Gate = $PSBoundParameters["Gate"] } switch($Gate){   "G11_RUN" { ; break }   "G10_DESIGN_REVIEW_PACK" { Do-G10_DESIGN_REVIEW_PACK; break }     "G4_EVIDENCE_PACK_OK"     { Do-G4; break }     "G5_REPLAY_RESTORE_OK"   { Do-G5; break }     "G6_PWA_INSTALL_OK"      { Do-G6; break }     "G7_SCALE_100K_OK"       { Do-G7; break }     "G8_SECURITY_BASE_OK"    { Do-G8; break }     "G9_IRAN_CORE_OK"        { Do-G9; break }     "G11_DESIGN_V2_COLORFUL"  { Do-G11; break }     "G12_DESIGN_V5_ICON_POLISH" { Do-G12; break }     "G12_DESIGN_V6_ICON_SYSTEM" { Do-G12; break }     "G13_LOCKPACK_CANON_DOCS_FIX" { Do-G13; break }     "G14_LOCKPACK_PS51_UNICODE_SAFE" { Do-G14; break }     "G15_CHECKLIST_AUTO_SYNC" { Do-G15; break }     "G16_HANDOFF_AUTOGEN" { Do-G16; break }     "G17_PS51_UTF8_BOM_OPERATOR_DOCS" { Do-G17; break }     "G18_DESIGN_CONTINUATION" { Do-G18; break }     "G19_CODEOWNERS_HASHLOCK_PROTECTED_PROD" { Do-G19; break }     "G20_SIGNED_CI_ARTIFACT_PROVENANCE" { Do-G20; break }     default { throw "UNKNOWN_GATE:$Gate" }   }   exit 0 } catch {   $msg = $_.Exception.Message   Write-Host "ABORTED gate=$Gate reason=$msg"   exit 2 }  function Do-G10_DESIGN_REVIEW_PACK {   $gate = "G10_DESIGN_REVIEW_PACK"   $utc  = (Get-Date).ToUniversalTime().ToString("o")   $root = (Resolve-Path ".").Path    $statePath  = Join-Path $root "state\STATE.json"   $ledgerPath = Join-Path $root "state\LEDGER_v2.ndjson"   $hlPath     = Join-Path $root "state\HASHLOCK.json"    $stamp = (Get-Date).ToUniversalTime().ToString("yyyyMMddTHHmmssZ")   $evDir = Join-Path $root ("artifacts\evidence\" + $stamp + "_evidence")   $rsDir = Join-Path $root "artifacts\resume"    New-Item -ItemType Directory -Force -Path $evDir | Out-Null   New-Item -ItemType Directory -Force -Path $rsDir | Out-Null    $qgPath = Join-Path $evDir "QG.json"   $mfPath = Join-Path $evDir "manifest.json"    $qg = [ordered]@{     ts_utc = $utc     project = "Dental-Mina"     gate = $gate     status = "PASS"     ai_signature = "PYM JBZ"     checks = [ordered]@{       zero_js_errors = "N/A (design pack gate)"       pending = "N/A"       abort_safe = "YES"       signed_ci_artifact = "N/A"       evidence_pack = "YES"     }   }    $utf8 = New-Object System.Text.UTF8Encoding($false)   [IO.File]::WriteAllText($qgPath, ($qg | ConvertTo-Json -Depth 20), $utf8)    function ShaLocal([string]$p){ (Get-FileHash -Algorithm SHA256 -Path $p).Hash.ToLower() }   $qgSha = ShaLocal $qgPath    $mf = [ordered]@{     ts_utc = $utc     gate = $gate     files = @(       [ordered]@{ path="QG.json"; sha256=$qgSha }     )   }   [IO.File]::WriteAllText($mfPath, ($mf | ConvertTo-Json -Depth 20), $utf8)   $mfSha = ShaLocal $mfPath    $evZip = Join-Path $root ("artifacts\evidence\" + $stamp + "_evidence.zip")   if(Test-Path $evZip){ Remove-Item $evZip -Force }   Compress-Archive -Path (Join-Path $evDir "*") -DestinationPath $evZip -Force   $evSha = ShaLocal $evZip    $rsZip = Join-Path $rsDir ($stamp + "_resume_pack.zip")   if(Test-Path $rsZip){ Remove-Item $rsZip -Force }   Compress-Archive -Path (Join-Path $root "state\*") -DestinationPath $rsZip -Force   $rsSha = ShaLocal $rsZip    $st = Get-Content $statePath -Raw | ConvertFrom-Json   $st.gate.current = $gate   $st.gate.last_pass = $gate   $st.last_pass = $gate   $st.updated_utc = $utc   if(-not $st.locked_pass){ $st | Add-Member -NotePropertyName locked_pass -NotePropertyValue @() -Force }   if(-not ($st.locked_pass -contains $gate)){ $st.locked_pass += $gate }   [IO.File]::WriteAllText($statePath, ($st | ConvertTo-Json -Depth 60), $utf8)    $evt = [ordered]@{     ts_utc = $utc     project = "Dental-Mina"     gate = $gate     event = "G10_RUN"     qg_sha256 = $qgSha     manifest_sha256 = $mfSha     evidence_zip_sha256 = $evSha     resume_zip_sha256 = $rsSha   }   [IO.File]::AppendAllText($ledgerPath, (($evt | ConvertTo-Json -Compress -Depth 20) + "`r`n"), $utf8)    $hl = Get-Content $hlPath -Raw | ConvertFrom-Json   if($hl.protected){     $targets = @{       "state/STATE.json"       = $statePath       "state/NEXT_ACTION.md"   = (Join-Path $root "state\NEXT_ACTION.md")       "state/LEDGER_v2.ndjson" = $ledgerPath       "state/HASHLOCK.json"    = $hlPath       "tools/run.ps1"          = (Join-Path $root "tools\run.ps1")     }     foreach($ent in $hl.protected){       if(-not $ent.path){ continue }       $rel = [string]$ent.path       if($targets.ContainsKey($rel) -and (Test-Path $targets[$rel])){         $ent.sha256 = (ShaLocal $targets[$rel])       }     }     $hl.ts_utc = $utc     [IO.File]::WriteAllText($hlPath, ($hl | ConvertTo-Json -Depth 80), $utf8)   }    Write-Output ("G10_DONE qg=" + $qgSha + " manifest=" + $mfSha + " evidence_zip=" + $evSha + " resume_zip=" + $rsSha) }

# --- LOCKPACK_G20_HANDLER_BOOTSTRAP_V8_PUSH_FALLBACK ---
function Do-G20_SIGNED_CI_ARTIFACT_PROVENANCE {
  param()
  $ErrorActionPreference = 'Stop'

  if(-not (Get-Command gh -ErrorAction SilentlyContinue)){ throw 'G20_BLOCKED: gh CLI not found' }
  & gh auth status -h github.com *> $null
  if($LASTEXITCODE -ne 0){ throw 'G20_BLOCKED: gh not authed (run: gh auth login)' }

  $defaultBranch = (& gh repo view --json defaultBranchRef -q .defaultBranchRef.name)
  if(-not $defaultBranch){ throw 'G20_BLOCKED: cannot determine default branch' }

  # pick workflow file (push-trigger target)
  $wf = Get-ChildItem .github/workflows -File -ErrorAction SilentlyContinue |
        Where-Object { $_.Name -match 'attest|proven|provenance' } | Select-Object -First 1
  if(-not $wf){ throw 'G20_BLOCKED: workflow file not found in .github/workflows (expected attest/provenance workflow)' }

  function Invoke-SafeGit([string[]]$ArgList){
    $ArgListSafe = @($ArgList) | Where-Object { $_ -ne $null -and $_ -ne '' }
    if(-not $ArgListSafe -or $ArgListSafe.Count -eq 0){ throw 'G20_BLOCKED: Invoke-SafeGit arglist empty' }

    $outStd = Join-Path $env:TEMP ("dm_git_" + [guid]::NewGuid().ToString("N") + "_out.txt")
    $outErr = Join-Path $env:TEMP ("dm_git_" + [guid]::NewGuid().ToString("N") + "_err.txt")
    Remove-Item $outStd,$outErr -Force -ErrorAction SilentlyContinue

    $p = Start-Process -FilePath git -ArgumentList $ArgListSafe -NoNewWindow -Wait -PassThru -RedirectStandardOutput $outStd -RedirectStandardError $outErr
    if($p.ExitCode -ne 0){
      $e = (Get-Content -LiteralPath $outErr -ErrorAction SilentlyContinue | Select-Object -Last 260) -join "
"
      throw ("G20_BLOCKED: git " + ($ArgListSafe -join ' ') + " failed exit=" + $p.ExitCode + "
" + $e)
    }
    return (Get-Content -LiteralPath $outStd -ErrorAction SilentlyContinue -Raw)
  }

  Invoke-SafeGit @('fetch','origin',$defaultBranch) *> $null

  $headSha   = (& git rev-parse HEAD 2>$null).Trim()
  if($LASTEXITCODE -ne 0 -or -not $headSha){ throw 'G20_BLOCKED: cannot rev-parse HEAD' }
  $remoteSha = (& git rev-parse ("origin/" + $defaultBranch) 2>$null).Trim()
  if($LASTEXITCODE -ne 0 -or -not $remoteSha){ throw 'G20_BLOCKED: cannot rev-parse origin/defaultBranch' }

  if($headSha -eq $remoteSha){
    & git commit --allow-empty -m "ci: trigger G20 via push (fallback)" 2>$null *> $null
    if($LASTEXITCODE -ne 0){ throw 'G20_BLOCKED: allow-empty commit failed' }
    $headSha = (& git rev-parse HEAD 2>$null).Trim()
    if($LASTEXITCODE -ne 0 -or -not $headSha){ throw 'G20_BLOCKED: cannot rev-parse HEAD after allow-empty commit' }
  }

  Invoke-SafeGit @('push','origin',("HEAD:" + $defaultBranch)) *> $null
  Write-Host ("G20_TRIGGERED_VIA_PUSH headSha=" + $headSha)

  # find NEW run for this headSha under this workflow
  $deadline = (Get-Date).AddMinutes(10)
  $id = $null
  while((Get-Date) -lt $deadline){
    $json = & gh run list --workflow $wf.Name --branch $defaultBranch --limit 40 --json databaseId,headSha,status,conclusion
    if($LASTEXITCODE -eq 0 -and $json){
      try { $runs = ($json | ConvertFrom-Json) } catch { $runs = $null }
      if($runs){
        foreach($r in $runs){
          if($r.headSha -eq $headSha -and $r.databaseId){
            $id = [string]$r.databaseId
            break
          }
        }
      }
    }
    if($id){ break }
    Start-Sleep -Seconds 4
  }
  if(-not $id){ throw 'G20_TIMEOUT: could not obtain workflow run id for current HEAD sha within 10 minutes' }

  Write-Host ("G20_RUN_ID=" + $id)
  & gh run watch $id --interval 5 --exit-status
  if($LASTEXITCODE -ne 0){ throw ("G20_FAILED: workflow concluded with failure databaseId=" + $id) }

  # download artifacts (temp) then attest verify common package types
  $tmp = Join-Path $env:TEMP ("DentalMina_G20_" + [guid]::NewGuid().ToString("N"))
  New-Item -ItemType Directory -Force -Path $tmp | Out-Null
  & gh run download $id --dir $tmp *> $null

  $cand = Get-ChildItem -Path $tmp -Recurse -File -ErrorAction SilentlyContinue |
           Where-Object { $_.Name -match '\.(zip|tgz|tar\.gz|msix|apk|aab|ipa)$' }
  if(-not $cand){ throw ("G20_BLOCKED: no artifacts found to attest-verify under " + $tmp) }

  $ok = 0
  foreach($f in $cand){
    & gh attestation verify "$($f.FullName)" --repo "$env:GITHUB_REPOSITORY" *> $null
    if($LASTEXITCODE -ne 0){
      & gh attestation verify "$($f.FullName)" --repo ( (& gh repo view --json nameWithOwner -q .nameWithOwner) ) *> $null
    }
    if($LASTEXITCODE -ne 0){ throw ("G20_ATTEST_FAILED: " + $f.FullName) }
    $ok++
  }

  Write-Host ("G20_OK: workflow_completed databaseId=" + $id + " attest_ok=" + $ok)
}

if ($Gate -eq 'G20_SIGNED_CI_ARTIFACT_PROVENANCE') { Do-G20_SIGNED_CI_ARTIFACT_PROVENANCE; return }
# --- /LOCKPACK_G20_HANDLER_BOOTSTRAP_V8_PUSH_FALLBACK ---
